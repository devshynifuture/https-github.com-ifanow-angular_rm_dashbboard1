<!-- <div *ngIf="showLoader">
    <mat-spinner class="loader" [diameter]="30"></mat-spinner>

    <img class="loader" src="https://offerscouponsdeals.in/public/ocd_images/overlay-loader.gif">
</div> -->
<div id="ui-misreport">
    <div class="bg-white pb-36">
        <div *ngIf="aumComponent==true">
            <div class="row pt-28 pb-16">
                <div class="col-md-8 d-flex align-items-center">
                    <h3 class="m-0">Mutual Fund - AUM Report</h3>
                </div>
                <!-- *ngIf="parentId !== 0" -->
                <div class="col-md-4 text-right">
                    <button [matMenuTriggerFor]="menu1" class="ba-black borderLine br-0 mr-12" mat-stroked-button>
                        {{viewModeID}}
                        <mat-icon aria-hidden="false" aria-label="Example home icon">keyboard_arrow_down</mat-icon>
                    </button>
                    <mat-menu #menu1="matMenu">
                        <button mat-menu-item (click)="filterIDWise(0,'All')" [value]="0">All</button>
                        <button mat-menu-item (click)="filterIDWise(1,'KARVY')" [value]="1">KARVY</button>
                        <button mat-menu-item (click)="filterIDWise(2,'CAMS')" [value]="2">CAMS</button>
                        <button mat-menu-item (click)="filterIDWise(3,'FRANKLIN TEMPLETON')" [value]="3">FRANKLIN
                            TEMPLETON</button>
                        <button mat-menu-item (click)="filterIDWise(4,'PRUDENT')" [value]="4">PRUDENT</button>
                        <button mat-menu-item (click)="filterIDWise(5,'NJ')" [value]="5">NJ</button>
                        <button mat-menu-item (click)="filterIDWise(6,'CAS IMPORT')" [value]="6">CAS IMPORT</button>
                        <button mat-menu-item (click)="filterIDWise(14,'MANUAL')" [value]="14">MANUAL</button>
                    </mat-menu>
                    <button [matMenuTriggerFor]="menu" class="ba-black borderLine br-0" mat-stroked-button>
                        {{viewMode}}
                        <mat-icon aria-hidden="false" aria-label="Example home icon">keyboard_arrow_down</mat-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                        <div *ngFor="let item of arnRiaList">
                            <button (click)="changeValueOfArnRia(item)" mat-menu-item
                                [value]="item.value">{{item.number}}</button>
                        </div>
                    </mat-menu>
                </div>
            </div>

            <div class="mr-12 skeletonAnimation" appSkeletonLoading [appSkeletonLoading]="isLoading">
                <div class="row ">
                    <div class="col-md-8 col-lg-9 p-0">
                        <div class="row">
                            <div class="col-md-12 col-lg-4 pr-0 mb-10 relClass">
                                <div class="bar180">
                                    <div class="bg-grey lter pt-24 pb-24 text-center br-2 height180">
                                        <div class="row">
                                            <div class="col-md-12 p-0">
                                                <!-- *ngIf="MiscData1" -->
                                                <h1 class="relClass text-diff f-44 f-300 pt-32">
                                                    <span>
                                                        {{(isLoading) ? '' :((MiscData1) ? MiscData1.totalAumRupees : '0')}}
                                                    </span>
                                                </h1>
                                                <p class="f-16 pt-4 text-diff" *ngIf="!isLoading"> TOTAL AUM</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 col-lg-4 relClass mb-10 pr-0">
                                <div class="bar180">
                                    <div class="bg-grey lter br-2 height180 pr-20 pl-12">
                                        <div class="row pt-12">
                                            <!-- *ngIf="MiscData1" -->
                                            <div class="col-md-5 text-left p-0">
                                                <div class="pl-12">
                                                    <h1 class="f-24 text-diff mb-0 pb-8">
                                                        <span *ngIf="!isLoading">
                                                            {{(MiscData1) ? MiscData1.totalFolioCount : '0'}}</span>
                                                        <span *ngIf="isLoading">{{''}}</span>
                                                    </h1>
                                                    <p class="f-12 text-diff mb-0" *ngIf="!isLoading">Folio Count</p>
                                                </div>
                                            </div>
                                            <!-- *ngIf="MiscData1" -->
                                            <div class="col-md-7 p-0 text-right">
                                                <h1 class="text-diff f-24 mb-0 pb-8">
                                                    <span *ngIf="!isLoading && MiscData1"
                                                        appFormatNumber>{{(MiscData1) ? MiscData1.averageFolioSize : '0'}}
                                                    </span>
                                                    <span *ngIf="isLoading  ">{{''}}</span>
                                                    <span *ngIf="!isLoading && !MiscData1 ">{{'0'}}</span>
                                                </h1>


                                                <p class="f-12 mb-0 text-diff" *ngIf="!isLoading">Average Folio Size</p>
                                            </div>
                                            <div class="col-md-12 pr-0" *ngIf="!isLoading">
                                                <div class="pt-20">
                                                    <mat-progress-bar class="text-diff" mode="determinate"
                                                        [value]="clientWithoutMF">
                                                    </mat-progress-bar>
                                                    <p class="text-diff f-12 pt-4 mb-0 pb-8">
                                                        <span>{{clientWithoutMF | number:'1.2-2'}} </span>% Clients
                                                        without MF
                                                    </p>
                                                </div>
                                            </div>
                                            <!-- <div class="pt-20" *ngIf="!isLoading">
                                                <mat-progress-bar class="text-diff" mode="determinate"
                                                    [value]="clientWithoutMF">
                                                </mat-progress-bar>
                                                <p class="text-diff f-12 pt-4 mb-0 pb-8">
                                                    <span>{{clientWithoutMF | number:'1.2-2'}} </span>% Clients
                                                    without MF
                                                </p>
                                            </div> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 col-lg-4 relClass mb-10 pr-0">
                                <div class="bar180">
                                    <div class="bg-grey lter p-16 br-2 pt-12 height180">
                                        <div class="row" *ngIf="!isLoading">
                                            <div class="col-md-12 p-0">
                                                <div class="text-center">
                                                    <h1 class="text-diff f-300 f-40 mb-4 pt-8">
                                                        {{(MiscData1) ? MiscData1.foliosLinkedToGoal : 0}}%</h1>

                                                    <p class="text-diff f-14 mb-0 pt-12 l-21">
                                                        Out of {{MiscData1 ?  MiscData1.totalFolioCount : 0}} folios,
                                                        {{ MiscData1 ? MiscData1.foliosLinkedToGoal :0  }}%
                                                        ({{MiscData1 ? MiscData1.foliosLinkedToGoalCount : 0}} folios)
                                                        are currently linked to financial goals of your clients
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 mt-24">
                                <p class=" f-16 mb-4 text-muted">Filter Options</p>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12 flex-box pr-0">
                                <div class="width183 borderLine">
                                    <div class="row">
                                        <div class="col-md-3 pt-12 pl-8">
                                            <img src="/assets/images/svg/cal.svg">
                                        </div>
                                        <div (click)="categoryWise('category')" class="col-md-9 p-0 c-p">
                                            <h5 class="mb-0 text-custom pt-16 pb-16 ">Category wise</h5>
                                        </div>
                                    </div>
                                </div>

                                <div class="width183 tabMrNone borderLine">
                                    <div class="row ">
                                        <div class="col-md-3 pt-12 pl-8 ">
                                            <img src="/assets/images/svg/cal.svg">
                                        </div>
                                        <div (click)="categoryWise('amc')" class="col-sm-9 p-0 c-p">
                                            <h5 class="mb-0 text-custom pt-16 pb-16 ">AMC wise</h5>
                                        </div>
                                    </div>
                                </div>

                                <div class="width183 borderLine">
                                    <div class="row ">
                                        <div class="col-md-3 pt-12 pl-8 ">
                                            <img src="/assets/images/svg/cal.svg">
                                        </div>
                                        <div (click)="categoryWise('client')" class="col-md-9 p-0 c-p">
                                            <h5 class="mb-0 text-custom pt-16 pb-16 ">Client wise</h5>
                                        </div>
                                    </div>
                                </div>

                                <div class="width183 tabMrNone borderLine m-0">
                                    <div class="row ">
                                        <div class="col-md-3 pt-12 pl-8">
                                            <img src="/assets/images/svg/cal.svg">
                                        </div>
                                        <div (click)="categoryWise('applicant')" class="col-sm-9 p-0 c-p">
                                            <h5 class="mb-0 text-custom pt-16 pb-16 ">Applicant wise</h5>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row p-12 pr-0">
                            <!-- <img src="/assets/images/grap.png" class="w-100 h-365"> -->
                            <div class="col-md-12 p-0 borderLine">
                                <div class="highcharts-figure" id="pieChartAum"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 col-lg-3 pr-0 ">
                        <div id="mistabs1">
                            <mat-tab-group class="h-354 bg-white borderLine pt-0 skeletonAnimation" appSkeletonLoading
                                [appSkeletonLoading]="isLoadingTopClients">
                                <mat-tab label="Clients">
                                    <h6 class="f-bold bb text-center p-12 mb-0 f-14 ">Top Clients </h6>

                                    <div class="b-white">
                                        <div *ngFor="let item of clientTotalAum" class="row bb">
                                            <div class="col-md-7 p-0 relClass ">
                                                <div
                                                    [ngClass]="{'height23': isLoadingTopClients,'bar':isLoadingTopClients}">
                                                    <p *ngIf="!isLoadingTopClients" class="mb-0 f-bold f-13 p-8 ">
                                                        {{(item.name) ? item.name : '-'}}</p>
                                                    <p *ngIf="isLoadingTopClients">{{''}}</p>
                                                </div>
                                            </div>
                                            <div class=" relClass col-md-5 text-right p-0 ">
                                                <div
                                                    [ngClass]="{'height23': isLoadingTopClients,'bar':isLoadingTopClients}">
                                                    <p *ngIf="!isLoadingTopClients"
                                                        class="mb-0 f-13 p-4 pr-8 text-custom  pt-8" appFormatNumber>
                                                        {{(item.totalAum) ? item.totalAum : '-'}}</p>
                                                    <p *ngIf="isLoadingTopClients">{{''}}</p>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div *ngIf="clientTotalAum?.length==0" class="text-center">
                                        No client found
                                    </div>
                                </mat-tab>
                                <mat-tab class="min-w140 " label="AMC ">
                                    <h6 class="f-bold bb text-center p-12 mb-0 f-14 ">Top AMC</h6>
                                    <div *ngIf="amcTotalAum" class="b-white ">
                                        <div *ngFor="let item of amcTotalAum" class="row bb ">
                                            <div class=" relClass col-md-7 p-0 ">
                                                <div
                                                    [ngClass]="{'height23': isLoadingTopClients,'bar':isLoadingTopClients}">
                                                    <p *ngIf="!isLoadingTopClients" class="mb-0 f-bold f-13 p-8 ">
                                                        {{(item.schemeName) ? item.schemeName : '-'}}</p>
                                                    <p *ngIf="isLoadingTopClients">{{''}}</p>
                                                </div>

                                            </div>
                                            <div class=" relClass col-md-5 p-0 text-right ">
                                                <div
                                                    [ngClass]="{'height23': isLoadingTopClients,'bar':isLoadingTopClients}">
                                                    <p *ngIf="!isLoadingTopClients"
                                                        class="mb-0 f-13 p-4 pr-8 text-custom  pt-8" appFormatNumber>
                                                        {{(item.totalAum) ? item.totalAum : '-'}}</p>
                                                    <p *ngIf="isLoadingTopClients">{{''}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="amcTotalAum?.length==0" class="text-center">
                                        No AMC Found
                                    </div>
                                </mat-tab>
                            </mat-tab-group>
                        </div>
                        <div class="col-md-12 aumtabs p-0 mt-20 " id="mistabs2">
                            <mat-tab-group class="h-354 bg-white borderLine skeletonAnimation" appSkeletonLoading
                                [appSkeletonLoading]="isLoadingCategory">
                                <mat-tab label="Category ">
                                    <h6 class="f-bold bb text-center p-12 mb-0 f-14 ">Category</h6>
                                    <div class="b-white ">
                                        <div *ngFor="let item of category" class="row bb ">
                                            <div class=" col-md-7 p-0 relClass">
                                                <div
                                                    [ngClass]="{'height23': isLoadingCategory,'bar':isLoadingCategory}">
                                                    <p *ngIf="!isLoadingCategory" class="mb-0 f-bold f-13 p-8 ">
                                                        {{(item.name) ? item.name : '-'}}
                                                    </p>
                                                    <p *ngIf="isLoadingCategory">{{''}}</p>
                                                </div>
                                            </div>
                                            <div class=" col-md-5 text-right p-0 relClass">
                                                <div
                                                    [ngClass]="{'height23': isLoadingCategory,'bar':isLoadingCategory}">
                                                    <p *ngIf="!isLoadingCategory"
                                                        class="mb-0 f-13 p-4 pr-8 text-custom  pt-8" appFormatNumber>
                                                        {{(item.totalAum) ? item.totalAum : '-'}}</p>
                                                    <p *ngIf="isLoadingCategory">{{''}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="category?.length==0" class="text-center">
                                        No category Found
                                    </div>
                                </mat-tab>

                                <mat-tab label="Sub category ">
                                    <h6 class="f-bold b-a text-center p-12 mb-0 f-14 ">Sub Category</h6>
                                    <div *ngIf="subcategory" class="b-white ">
                                        <div *ngFor="let item of subcategory" class="row bb ">
                                            <div class="bar col-md-7 p-0 ">
                                                <p *ngIf="!isLoadingCategory" class="mb-0 f-bold f-13 p-8 ">
                                                    {{item.name}}</p>
                                                <p *ngIf="isLoadingCategory">{{''}}</p>
                                            </div>
                                            <div class="bar col-md-5 text-right p-0 ">
                                                <p *ngIf="!isLoadingCategory"
                                                    class="mb-0 f-13 p-4 pr-8 text-custom  pt-8" appFormatNumber>
                                                    {{(item.totalAum) ? item.totalAum : '-'}}</p>
                                                <p *ngIf="isLoadingCategory">{{''}}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngIf="subcategory?.length==0" class="text-center">
                                        No subCategory Found
                                    </div>
                                </mat-tab>
                            </mat-tab-group>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
    <div *ngIf="componentWise=='category'">
        <app-category-wise [data]="objTosend" (aumFilter)="aumFilterRes($event)" [filterObj]="filterObj"
            (changedValue)="display($event)">
        </app-category-wise>
    </div>
    <div *ngIf="componentWise=='amc'">
        <app-amc-wise [data]="objTosend" (aumFilter)="aumFilterRes($event)" [filterObj]="filterObj"
            (changedValue)="display($event)"></app-amc-wise>
    </div>
    <div *ngIf="componentWise=='client'">
        <app-client-wise [data]="objTosend" (aumFilter)="aumFilterRes($event)" [filterObj]="filterObj"
            (changedValue)="display($event)"></app-client-wise>
    </div>
    <div *ngIf="componentWise=='applicant'">
        <app-applicant-wise [data]="objTosend" (aumFilter)="aumFilterRes($event)" [filterObj]="filterObj"
            (changedValue)="display($event)"></app-applicant-wise>
    </div>