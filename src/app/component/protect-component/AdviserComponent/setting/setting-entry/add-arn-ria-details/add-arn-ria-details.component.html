<div class="row bb-1 popup-header-fix-60">
    <div class="col-md-10 p-0">
        <h4 class="mb-0 l-22 wrapper-20">ADD ARN/RIA DETAILS</h4>
    </div>
    <div class="col-md-2 text-right">
        <i (click)="Close(false)" class="material-icons pt-16 c-p pr-16">
            clear
        </i>
    </div>
</div>


<div [formGroup]="arnRiaFG">
    <div class="row pt-90">
        <div class="col-md-4">
            <div class="form-control mb-0">
                <mat-form-field>
                    <mat-select class="form-group b-0" formControlName="arnOrRia">
                        <mat-option value="" selected disabled>Select Type</mat-option>
                        <mat-option [value]="option.id" *ngFor="let option of data.globalData.arn_type_list">{{option.type}}</mat-option>
                    </mat-select>
                    <mat-error>This field is required</mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="col-md-2 pr-0">
            <h5 class="m-0 text-right pt-8">ARN/RIA type</h5>
        </div>
        <div class="col-md-5">
            <div class="mb-0 form-group">
                <mat-form-field>
                    <mat-select class="form-control br-0" formControlName="typeId">
                        <mat-option value="" selected disabled>Select Option</mat-option>
                        <mat-option [value]="option.id" *ngFor="let option of data.globalData.arn_type_master_list">
                            {{option.type}}</mat-option>
                    </mat-select>
                    <mat-error>This field is required</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div class="row pt-40">
        <div class="col-md-4 pr-0">
            <h5 class="m-0 text-right pt-8">ARN/RIA number</h5>
        </div>
        <div class="col-md-3">
            <div class="form-group p-0">
                <mat-form-field>
                    <input matInput type="text" formControlName="number" class="form-control br-0">
                    <mat-error *ngIf="arnRiaFG.get('number').errors?.required">This field is required</mat-error>
                    <mat-error *ngIf="arnRiaFG.get('number').errors?.pattern">Numbers only</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div class="row pt-28">
        <div class="col-md-4 pr-0">
            <h5 class="m-0 text-right pt-8">Name of ARN/RIA holder</h5>
        </div>
        <div class="col-md-5">
            <div class="form-group p-0">
                <mat-form-field>
                    <input matInput type="text" formControlName="nameOfTheHolder" class="form-control br-0">
                    <mat-error>This field is required</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div class="row pt-28" [hidden]="arnRiaFG.get('arnOrRia').value != 2">
        <div class="col-md-4 pr-0">
            <h5 class="m-0 text-right pt-8">EUIN</h5>
        </div>
        <div class="col-md-3">
            <div class="form-group p-0">
                <mat-form-field>
                    <input matInput type="text" formControlName="euin" class="form-control br-0">
                    <mat-error *ngIf="arnRiaFG.get('euin').errors?.required">This field is required</mat-error>
                    <mat-error *ngIf="arnRiaFG.get('euin').errors?.pattern">Valid EUIN required</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div class="row pt-28">
        <div class="col-md-4 pr-0">
            <h5 class="m-0 text-right pt-8">Commencement date</h5>
        </div>
        <div class="col-md-3 pr-0">
            <div class="form-group mb-0">
                <mat-form-field class="ba-date">
                    <input class="form-control b-0" formControlName="commencementDate" (focus)="picker.open()" matInput [matDatepicker]="picker" [max]="yesterdaysDate" readonly>
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-hint>Optional</mat-hint>
                    <mat-error *ngIf="arnRiaFG.get('commencementDate').errors?.required">
                        This field is required</mat-error>
                    <mat-error *ngIf="arnRiaFG.get('commencementDate').errors?.matDatepickerMax">
                        Please enter valid date</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div class="row pt-40">
        <div class="col-md-4 pr-0">
            <h5 class="m-0 text-right pt-8">Renewal date</h5>
        </div>
        <div class="col-md-3 pr-0">
            <div class="form-group mb-0">
                <mat-form-field class="ba-date">
                    <input class="form-control b-0" formControlName="renewalDate" matInput (focus)="picker1.open()" [matDatepicker]="picker1" [min]="tomrrowsDate" readonly>
                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                    <mat-hint>Optional</mat-hint>
                    <mat-error *ngIf="arnRiaFG.get('renewalDate').errors?.required">
                        This field is required</mat-error>
                    <mat-error *ngIf="arnRiaFG.get('renewalDate').errors?.matDatepickerMin">
                        Please enter valid date</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div class="row pt-40">
        <div class="col-md-4 pr-0">
            <h5 class="m-0 text-right pt-8">Registered email</h5>
        </div>
        <div class="col-md-5">
            <div class="form-group p-0">
                <mat-form-field>
                    <input matInput type="text" formControlName="registeredEmail" class="form-control br-0">
                    <mat-hint>Optional</mat-hint>
                    <mat-error *ngIf="arnRiaFG.get('registeredEmail').errors?.required">This field is required</mat-error>
                    <mat-error *ngIf="arnRiaFG.get('registeredEmail').errors?.pattern">Email is not valid</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div class="row pt-28">
        <div class="col-md-4 pr-0">
            <h5 class="m-0 text-right pt-8">Registered PAN</h5>
        </div>
        <div class="col-md-3">
            <div class="form-group p-0">
                <mat-form-field>
                    <input matInput type="text" formControlName="registeredPan" class="form-control br-0">
                    <mat-hint>Optional</mat-hint>
                    <mat-error *ngIf="arnRiaFG.controls.registeredPan.invalid && arnRiaFG.controls.registeredPan.errors.required">
                        This field is required</mat-error>
                    <mat-error *ngIf="arnRiaFG.get('registeredPan').errors?.minlength || arnRiaFG.get('registeredPan').errors?.maxlength">
                        Valid PAN required</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div class="row pt-28 pb-44">
        <div class="col-md-4 pr-0">
            <h5 class="m-0 text-right pt-8">Registered address</h5>
        </div>
        <div class="col-md-5">
            <div class="form-group p-0">
                <mat-form-field>
                    <textarea matInput formControlName="registeredAddress" class="form-control br-0" rows="5"></textarea>
                    <mat-hint>Optional</mat-hint>
                    <mat-error *ngIf="arnRiaFG.get('registeredAddress').errors?.required">
                        This field is required</mat-error>
                    <mat-error *ngIf="arnRiaFG.get('registeredAddress').errors?.maxlength">
                        Text exceeds 150 characters</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div class="row pt-60">
        <div class="col-md-4 pr-0">
            <h5 class="m-0 text-right pt-8">GST Treatment</h5>
        </div>
        <div class="col-md-3">
            <div class="form-group mb-0">
                <mat-form-field>
                    <mat-select class="form-control br-0" formControlName="gstApplicableId">
                        <mat-option value="" selected disabled>Select Option</mat-option>
                        <mat-option [value]="gst_applicable_list.id" *ngFor="let gst_applicable_list of data.globalData.gst_applicable_list">
                            {{gst_applicable_list.type}}</mat-option>
                    </mat-select>
                    <mat-error>This field is required</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div class="row pt-40" [hidden]="arnRiaFG.get('gstApplicableId').value != 1">
        <div class="col-md-4 pr-0">
            <h5 class="m-0 text-right pt-8">GST Number</h5>
        </div>
        <div class="col-md-3">
            <div class="form-group mb-0">
                <mat-form-field>
                    <input matInput type="text" formControlName="gstNumber" class="form-control br-0">
                    <mat-error *ngIf="arnRiaFG.get('gstNumber').errors?.required">This field is required</mat-error>
                    <mat-error *ngIf="arnRiaFG.get('gstNumber').errors?.maxlength || arnRiaFG.get('gstNumber').errors?.minlength">
                        Valid GST required</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div class="row pt-40 pb-90">
        <div class="col-md-4 pr-0">
            <h5 class="m-0 text-right pt-8">Data upload</h5>
        </div>
        <div class="col-md-3">
            <div class="form-group mb-0">
                <mat-form-field>
                    <mat-select class="form-control br-0" formControlName="dataUploadTypeId">
                        <mat-option value="" selected disabled>Select Option</mat-option>
                        <mat-option [value]="1">auto</mat-option>
                        <mat-option [value]="2">manual</mat-option>
                    </mat-select>
                    <mat-error>This field is required</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
    <div class="bottom-fixed-50 wrapper-12">
        <div class="row">
            <div class="col-md-12 right text-right">
                <button class="btn-bottom br-0 text-inherit" mat-button (click)="save()">Save</button>
            </div>
        </div>
    </div>
</div>