<div class="row">
    <div class="col-md-12">
        <h4 class="m-0 text-black">Preferences</h4>
    </div>
</div>

<div id="ui-setting-preference" class="bg-white pt-130">
    <div class="wrapper-20">
        <div class="row">
            <div class="col-md-2 p-0 pt-1 settingPreference">
                <ul class="vertical-menu">
                    <li (click)="changeView('tab1')" [ngClass]="{'b-outline':viewMode =='tab1','':viewMode =='tab1'}" class="c-p">
                        Portfolio section
                    </li>

                    <li (click)="changeView('tab2')" [ngClass]="{'b-outline':viewMode =='tab2','':viewMode =='tab2'}" class="c-p">
                        Plan section
                    </li>
                    <!-- <li (click)="changeView('tab3');" [ngClass]="{'b-outline':viewMode =='tab3','':viewMode =='tab3'}" class="c-p">
                        Activity section
                    </li> -->
                    <li (click)="changeView('tab4')" [ngClass]="{'b-outline':viewMode =='tab4','':viewMode =='tab4'}" class=" c-p">
                        Email verification
                    </li>
                    <li (click)="changeView('tab5')" [ngClass]="{'b-outline':viewMode =='tab5','':viewMode =='tab5'}" class=" c-p">
                        Email templates
                    </li>
                    <li (click)="changeView('tab6')" [ngClass]="{'b-outline':viewMode =='tab6','':viewMode =='tab6'}" class=" c-p">
                        Color theme
                    </li>
                    <li (click)="changeView('tab7');getDomain()" [ngClass]="{'b-outline':viewMode =='tab7','':viewMode =='tab7'}" class=" c-p">
                        Domain settings
                    </li>
                    <li (click)="changeView('tab8')" [ngClass]="{'b-outline':viewMode =='tab8','':viewMode =='tab8'}" class=" c-p">
                        Website integration
                    </li>
                    <li (click)="changeView('tab9')" [ngClass]="{'b-outline':viewMode =='tab9','':viewMode =='tab9'}" class=" c-p">
                        Appearance
                    </li>
                </ul>

            </div>
            <div class="col-md-10 b-a p-0 min-height" [ngSwitch]="viewMode">
                <div class="skeletonAnimation" appSkeletonLoading [appSkeletonLoading]="isLoading" *ngSwitchCase="'tab1'">
                    <div class="p-20">
                        <div class="relClass">
                            <h5 class="mb-8 bar text-black" [ngClass]="{'height23': isLoading}">
                                Mutual Fund
                            </h5>
                        </div>

                        <div class="bar">
                            <mat-checkbox class="text-black" (change)="selectMutualFund($event,mutualFund)" [checked]="mutualFund.selectedOrDeselected">Show absolute returns for new clients
                            </mat-checkbox>
                            <p class="m-0 text-custom pb-20 bb-1 pl-24">New client is defined as one whose oldest mutual fund transaction is less than one year old.</p>
                        </div>

                        <div class="pt-20 relClass">
                            <div class="bar">
                                <mat-checkbox class="text-black" #mutual2 (change)="selectMutualFund($event,mutualFund2)" [checked]="mutualFund2.selectedOrDeselected">Show mutual fund fact sheet
                                </mat-checkbox>
                                <p class="m-0 text-custom pl-24">Mutual fund fact sheets are shown when clicked on the mutual fund schemes from the portfolio MF reports section.</p>
                            </div>

                            <div class="bb-1 pl-24 pt-12 pb-20 relClass">
                                <div class="bar" [ngClass]="{'height23': isLoading}">
                                    <mat-checkbox class="text-black" (change)="selectMutualFund($event, mutualFund3)" [checked]="mutualFund3.selectedOrDeselected" [disabled]="!mutualFund2.selectedOrDeselected">Show investor returns vs scheme returns widget in fact sheet
                                    </mat-checkbox>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="portfolio == undefined && !isLoading" class="d-flex flex-column align-items-center">
                        <img class="width300" src="assets/images/svg/noDataFound.svg">
                        <h4 class="text-center pt-12">Sorry! it's not you it's us</h4>
                    </div>
                </div>
                <div appSkeletonLoading [appSkeletonLoading]="isLoading" *ngSwitchCase="'tab2'">
                    <div class="p-20">
                        <h5 class="mb-8  text-black">Insurance planning</h5>
                        <div class="pt-20 relClass">
                            <div class="bar">
                                <mat-checkbox *ngIf="planSec1" class="text-black" (change)="selectPlan($event,planSec1)" [checked]="planSec1.selectedOrDeselected">Show XIRR returns for insurance policies
                                </mat-checkbox>
                            </div>
                        </div>
                        <p class="m-0 text-custom pb-20 bb-1 pl-24">These returns are displayed when giving recommendations on current policies.</p>
                    </div>
                    <div *ngIf="planSec1 == undefined && !isLoading" class="d-flex flex-column align-items-center">
                        <img class="width300" src="assets/images/svg/noDataFound.svg">
                        <h4 class="text-center pt-12">Sorry! it's not you it's us</h4>
                    </div>
                </div>
                <div *ngSwitchCase="'tab3'">
                    <div class="p-20">
                        <h5 class="mb-8 text-black">Tasks</h5>
                    </div>
                </div>
                <div appSkeletonLoading [appSkeletonLoading]="isLoading" *ngSwitchCase="'tab4'">
                    <div class="p-20">
                        <div class="row">
                            <div class="col-md-8 p-0">
                                <h5 class="mb-8 text-black">Email verification</h5>
                                <p class="m-0 text-custom l-18 roboto">When you verify your email, you can send various mails to your clients through the verified email. To verify an emaiil, click the Add now button and follow the procedure explained therein.</p>
                                <p class="mb-0 text-custom l-18 roboto mt-12">Tip: You can have different email for different purpose. E.g. for welcome email, for sending reports, taking cosent on advice, transaction confirmation etc.</p>
                                <div class="col-md-12 p-0 mt-24 text-right">
                                    <button mat-stroked-button class="btn-primary btnNewEmail" (click)="verifyEmail('')">
                                        ADD NEW
                                    </button>

                                </div>

                                <table mat-table [dataSource]="emailList" id="table-low" class="skeletonAnimation mt-8" appSkeletonLoading [appSkeletonLoading]="isLoading">
                                    <ng-container matColumnDef="position">
                                        <th mat-header-cell *matHeaderCellDef class="br"> Email </th>
                                        <td mat-cell *matCellDef="let element" class="br">
                                            <div class="bar">{{isLoading ? '' :element.emailAddress}}</div>
                                        </td>
                                    </ng-container>

                                    <!-- Name Column -->
                                    <ng-container matColumnDef="name">
                                        <th mat-header-cell *matHeaderCellDef class="br"> Status </th>
                                        <td mat-cell *matCellDef="let element" class="br">
                                            <div class="bar" [ngClass]="{'text-danger': element.emailVerificationStatus == 3, 'text-warning': element.emailVerificationStatus == 2, 'text-success': element.emailVerificationStatus == 1}">
                                                {{isLoading ? '' : (element.emailVerificationStatus == 2)?'Verification pending':(element.emailVerificationStatus == 1)?'Verified':'Verification failed'}}
                                            </div>
                                        </td>
                                    </ng-container>

                                    <!-- Weight Column -->
                                    <ng-container matColumnDef="weight">
                                        <th mat-header-cell *matHeaderCellDef> </th>
                                        <td mat-cell class="text-center" *matCellDef="let element">
                                            <img class="c-p" [matMenuTriggerFor]="menu" src="/assets/images/svg/dot-menu.svg">
                                            <mat-menu #menu="matMenu">
                                                <!-- <button mat-menu-item (click)="verifyEmail(element)">
                                                    <span>Edit</span>
                                                </button> -->
                                                <button mat-menu-item (click)="deleteEmailModal('EMAIL',element)">
                                                    <span>Delete</span>
                                                </button>
                                            </mat-menu>
                                        </td>
                                    </ng-container>

                                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="emailList == undefined && !isLoading" class="d-flex flex-column align-items-center">
                        <img class="width300" src="assets/images/svg/noDataFound.svg">
                        <h4 class="text-center pt-12">Sorry! it's not you it's us</h4>
                    </div>
                </div>
                <div appSkeletonLoading [appSkeletonLoading]="isLoading" *ngSwitchCase="'tab5'">
                    <div class="p-20">
                        <h5 class="m-0 pb-8 text-black">Email templates</h5>
                        <div class="row">
                            <div class="col-md-11 pl-0">
                                <table mat-table [dataSource]="emailTemplateList" class="mt-8" id="table-low" class="skeletonAnimation" appSkeletonLoading [appSkeletonLoading]="isLoading">
                                    <ng-container matColumnDef="position">
                                        <th mat-header-cell class="br w-23" *matHeaderCellDef> Type </th>
                                        <td mat-cell class="br w-23" *matCellDef="let element">
                                            <div class="bar">
                                                <span class="m-0" [innerHTML]="element.title"> </span>
                                            </div>
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="name">
                                        <th mat-header-cell class="br" *matHeaderCellDef> Description </th>
                                        <td mat-cell class="br" *matCellDef="let element">
                                            <div class="bar">
                                                <span [innerHTML]="element.description"></span>
                                            </div>
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="weight">
                                        <th mat-header-cell class="br" *matHeaderCellDef> From email </th>
                                        <td mat-cell class="br" *matCellDef="let element">
                                            <div class="bar"> {{element.fromEmail}} </div>
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="symbol">
                                        <th mat-header-cell class="br w-3" *matHeaderCellDef> </th>
                                        <td mat-cell class="br w-3" *matCellDef="let element">
                                            <img class="c-p" [matMenuTriggerFor]="menu" src="/assets/images/svg/dot-menu.svg">
                                            <mat-menu #menu="matMenu">
                                                <button mat-menu-item (click)="OpenEmail('emailTemp',element)">
                                                    <span>Edit</span>
                                                </button>
                                                <!-- <button mat-menu-item (click)="deleteModal('template',element)">
                                                    <span>Delete</span>
                                                </button> -->
                                            </mat-menu>
                                        </td>
                                    </ng-container>

                                    <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>
                                </table>
                            </div>
                        </div>


                    </div>
                    <div *ngIf="emailTemplateList == undefined && !isLoading" class="d-flex flex-column align-items-center">
                        <img class="width300" src="assets/images/svg/noDataFound.svg">
                        <h4 class="text-center pt-12">Sorry! it's not you it's us</h4>
                    </div>
                </div>
                <div *ngSwitchCase="'tab6'">
                    <div class="p-20">
                        <div class="row">
                            <div class="col-md-10 p-0">
                                <h5 class="m-0">Color theme<span class="ba-warning text-warning f-12 p-4 br-2 ml-12" matTooltip="This is a premium feature.Please upgrade to use it.">Premium</span>
                                </h5>
                                <p class="m-0 text-custom roboto pt-8">Color theme customization allows you to have great control over the look and feel of the IFANOW application.</p>
                                <p class="m-0 roboto text-custom">Tip: Match the theme color with your logo or brand’s primary color. And avoid light colors totally.</p>
                            </div>
                        </div>
                        <div class="row pt-32">
                            <div class="col-md-6">

                            </div>
                            <div class="col-md-6 bl-1 pl-48 color-picker-tabs">
                                <p class="m-0 roboto f-500 pt-12">Preview</p>
                                <p class="m-0 roboto f-500 pt-20">Button</p>
                                <p class="m-0 text-custom roboto">Below is the preview of how a button will look with the chosen color</p>
                                <div class="pt-12">
                                    <button mat-stroked-button class="btn-header sampleButton mr-20">Sample button
                                        1</button>
                                    <button mat-stroked-button class="text-header sampleButton">Sample button 2</button>
                                </div>
                                <p class="text-black mb-0 roboto mt-28">Menu bar</p>
                                <p class="f-12 roboto mb-12 text-custom  ">Below is the preview of how a menu bar will look with the chosen color</p>
                                <mat-tab-group animationDuration="0ms">
                                    <mat-tab label="ITEM 1"></mat-tab>
                                    <mat-tab label="ITEM 2"></mat-tab>
                                    <mat-tab label="ITEM 3"></mat-tab>
                                </mat-tab-group>
                            </div>
                        </div>
                    </div>
                </div>
                <div appSkeletonLoading [appSkeletonLoading]="isLoading" *ngSwitchCase="'tab7'">
                    <div class="row p-20">
                        <div class="col-md-10 p-0">
                            <h5 class="m-0">Domain settings</h5>
                            <p class="text-custom m-0 roboto pt-6">Domain settings gives you an option to customize the link with which IFANOW is accessed by you, your team and your clients. You have an option to either Partially or Completely white label the URL. <span class="text-primary text-underline c-p">Read more</span></p>
                        </div>
                        <div class="row pt-28" [formGroup]="domainS">
                            <div class="col-md-7 pl-0">
                                <div class="row" *ngIf="normalDomain">
                                    <div class="col-md-10 p-0">
                                        <p class="m-0 text-black roboto f-500">Option 1: Partial white label</p>
                                    </div>
                                    <div class="col-md-1 p-0 text-right" *ngIf="showUpdate == false">
                                        <button mat-stroked-button class="btn-dark-outline xs" (click)="editDomain(true,'normal',normalDomain[0])">Edit</button>
                                    </div>
                                    <div class="col-md-1 p-0 text-right" *ngIf="showUpdate == true">
                                        <button mat-stroked-button class="btn-dark-outline xs" (click)="editDomain(false,'normal',normalDomain[0])">Update</button>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-11 p-0 pt-6">
                                        <div class="form-group matFormPadding b-a">
                                            <mat-form-field class="url" floatLabel="never" appearance="standard" [floatLabel]="'never'">
                                                <button mat-stroked-button class="b-0 h-40 bg-grey lter min-80 text-custom">https://</button>
                                                <input matInput type="text" [readonly]="!showUpdate" class="form-control b-0 w-60" formControlName="normalLable" placeholder="example">
                                                <button mat-stroked-button class="right b-0 h-40 bg-grey lter min-80 pl-8 text-custom">.myplanner.in</button>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </div>

                                <div class="row pt-60" *ngIf="whiteLabledDomain">
                                    <div class="col-md-10 p-0">
                                        <p class="m-0 text-black roboto f-500">Option 2: Complete white label<span class="text-warning ba-warning f-12 p-2 ml-12 ba-warning br-2 c-p">Premium</span>
                                        </p>
                                    </div>
                                    <div class="col-md-1 p-0 text-right" *ngIf="showUpdateWhite == false">
                                        <button mat-stroked-button class="btn-dark-outline xs" (click)="editDomain(true,'white',whiteLabledDomain[0])">Edit</button>
                                    </div>
                                    <div class="col-md-1 p-0 text-right" *ngIf="showUpdateWhite == true">
                                        <button mat-stroked-button class="btn-dark-outline xs" (click)="editDomain(false,'white',whiteLabledDomain[0])">Update</button>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-11 p-0 pt-6">
                                        <div class="form-group matFormPadding b-a">
                                            <mat-form-field class="url" floatLabel="never" appearance="standard" [floatLabel]="'never'">
                                                <button mat-stroked-button class="b-0 h-40 bg-grey lter min-80 text-custom">https://</button>
                                                <input matInput type="text" [readonly]="!showUpdateWhite" class="form-control b-0 w-60" formControlName="whiteLable" placeholder="www.example.com">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                </div>

                                <div class="url-details">
                                    <ul class="d-block">
                                        <li class="text-custom p-0">Please decide on a subdomain that you want for your main domain
                                        </li>
                                    </ul>
                                    <ul class="d-block pl-16 pt-8">
                                        <li class="text-custom p-0">E.g. if your main domain is abcadvisor.in and you want your clients to redirect to clients.abcadvisor.in then the subdomain in this case is clients.
                                        </li>
                                    </ul>
                                    <ul class="d-block pt-10">
                                        <li class="text-custom p-0">PNext, create a <span class="text-primary">CNAME</span> entry with this subdomain in your domain’s admin portal. The CNAME should point to <span class="text-primary">my-planner.in</span></li>
                                    </ul>
                                    <ul class="d-block pt-10 pl-16">
                                        <li class="text-custom p-0">If you are not sure, your website developer or domain provider should be able to help. <span class="text-primary">Email
                                                these instructions.</span></li>
                                    </ul>
                                    <ul class="d-block pt-10 pl-16">
                                        <li class="text-custom p-0">Once done, please let us know. We will install an SSL certificate from our end. This is to ensure data is encrypted with 256-bit SSL encyrption while being sent to the server.</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-5 bl-1">
                                <div class="row">
                                    <div class="col-md-10 p-0">
                                        <p class="m-0 text-black roboto f-500">Option 1: Partial white label</p>
                                    </div>
                                    <div class="col-md-1 p-0 text-right" *ngIf="showUpdateBrand == false">
                                        <button mat-stroked-button class="btn-dark-outline xs" (click)="editDomain(true,'brand',brandVisibility[0])">Edit</button>
                                    </div>
                                    <div class="col-md-1 p-0 text-right" *ngIf="showUpdateBrand == true">
                                        <button mat-stroked-button class="btn-dark-outline xs" (click)="editDomain(false,'brand',brandVisibility[0])">Update</button>
                                    </div>
                                </div>
                                <img src="/assets/images/svg/site-title.svg" class="pt-20">
                                <div class="form-group mb-0 pt-20 ">
                                    <mat-form-field>
                                        <input matInput class="form-control" formControlName="brandVisible" brandVisible>
                                    </mat-form-field>
                                </div>
                                <p class="pt-20 text-custom roboto m-0"> The site title is visible on the browser bar. You can customize it here. </p>
                                <p class="pt-4 text-custom roboto m-0">Tip: You can put your company name here for better brand visibility.</p>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="domainSetting == undefined && !isLoading" class="d-flex flex-column align-items-center">
                        <img class="width300" src="assets/images/svg/noDataFound.svg">
                        <h4 class="text-center pt-12">Sorry! it's not you it's us</h4>
                    </div>
                </div>
                <div *ngSwitchCase="'tab8'">
                    <div class="p-20">
                        <h5 class="m-0 pb-8 text-black">Website integration</h5>
                    </div>
                </div>
                <div *ngSwitchCase="'tab9'">
                    <div class="p-20">
                        <div class="relClass">
                            <h5 class="mb-8 bar text-black" [ngClass]="{'height23': isLoading}">
                                Appearance
                            </h5>
                        </div>

                        <div class="col-md-12 p-0" [formGroup]="appearanceFG">
                            <h5 class="m-0 pb-12">Select an option below to add a task template...</h5>
                            <div class="row pb-20">
                                <div class="col-md-3 text-right d-flex align-items-center justify-content-end">
                                    <h5 class="m-0"> Portfolio </h5>
                                </div>
                                <div class="col-md-8 pl-0">
                                    <mat-radio-group class="taskTemplatesRadio" formControlName="portfolioOpt">
                                        <mat-radio-button [ngClass]="appearanceFG.get('portfolioOpt').value == 1 ? 'text-primary b-a-custom': 'text-primitive'" [value]="1">
                                            Advisor Details
                                        </mat-radio-button>
                                        <mat-radio-button [value]="2" class="pr-10" [ngClass]="appearanceFG.get('portfolioOpt').value == 2 ? 'text-primary b-a-custom': ' text-primitive'">
                                            Company details
                                        </mat-radio-button>
                                    </mat-radio-group>
                                </div>
                            </div>
                            <div class="row pb-20">
                                <div class="col-md-3 text-right d-flex align-items-center justify-content-end">
                                    <h4 class="m-0">Financial Plan</h4>
                                </div>
                                <div class="col-md-8 pl-0">
                                    <mat-radio-group class="taskTemplatesRadio" formControlName="financialOpt">
                                        <mat-radio-button [ngClass]="appearanceFG.get('financialOpt').value == 1 ? 'text-primary b-a-custom': 'text-primitive'" [value]="1">
                                            Advisor Details
                                        </mat-radio-button>
                                        <mat-radio-button [value]="2" class="pr-10" [ngClass]="appearanceFG.get('financialOpt').value == 2 ? 'text-primary b-a-custom': ' text-primitive'">
                                            Company details
                                        </mat-radio-button>
                                    </mat-radio-group>
                                </div>

                            </div>
                            <div class="row pb-20">
                                <div class="col-md-3 text-right d-flex align-items-center justify-content-end">
                                    <h4 class="m-0"> Client Dashboard</h4>
                                </div>
                                <div class="col-md-8 pl-0">
                                    <mat-radio-group class="taskTemplatesRadio" formControlName="clientOpt">
                                        <mat-radio-button [ngClass]="appearanceFG.get('clientOpt').value == 1 ? 'text-primary b-a-custom': 'text-primitive'" [value]="1">
                                            Advisor Details
                                        </mat-radio-button>
                                        <mat-radio-button [value]="2" class="pr-10" [ngClass]="appearanceFG.get('clientOpt').value == 2 ? 'text-primary b-a-custom': ' text-primitive'">
                                            Company details
                                        </mat-radio-button>
                                    </mat-radio-group>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div *ngIf="portfolio == undefined && !isLoading" class="d-flex flex-column align-items-center">
                        <img class="width300" src="assets/images/svg/noDataFound.svg">
                        <h4 class="text-center pt-12">Sorry! it's not you it's us</h4>
                    </div>
                </div>
            </div>
        </div>
    </div>