<div class="popup-header-fix-60">
    <div class="row bb-1">
        <div class="col-md-8 p-0">
            <h4 class="mb-0 wrapper-20">Mapped existing user </h4>
        </div>
        <div class="col-md-4 text-right">
            <div class="wrapper-12">
                <i (click)="closeRightSlider(false)" class="material-icons c-p pt-8 v-middle"> clear</i>
            </div>
        </div>
    </div>
</div>

<div class="row ">
    <div class="col-md-12 mt-44">
        <table mat-table [dataSource]="storeData" matSort class="mt-8 skeletonAnimation" id="table-low"
            appSkeletonLoading *ngIf="storeData.length > 0" [appSkeletonLoading]="isLoading">
            <ng-container matColumnDef="position">
                <th mat-sort-header="aggregatorType" mat-header-cell *matHeaderCellDef class="br"> Platform</th>
                <td mat-cell *matCellDef="let element" class="br">
                    <div class="bar">
                        <mat-checkbox [checked]="element.selected" (change)="changeCred($event,element)"></mat-checkbox>
                        {{isLoading ? '' : (element.aggregatorType == 1) ? 'NSE' : (element.aggregatorType == 2) ? 'BSE' : '-'}}
                    </div>
                </td>
            </ng-container>

            <ng-container matColumnDef="name">
                <th mat-sort-header="accountType" mat-header-cell *matHeaderCellDef class="br"> Account type</th>
                <td mat-cell *matCellDef="let element" class="br">
                    <div class="bar">
                        {{isLoading ? '' : (element.accountType == 1) ? 'ARN' : (element.accountType == 2) ? 'RIA' : '-'}}
                    </div>
                </td>
            </ng-container>

            <ng-container matColumnDef="weight">
                <th mat-sort-header="brokerCode" mat-header-cell *matHeaderCellDef class="br"> ARN/RIA</th>
                <td mat-cell *matCellDef="let element" class="br">
                    <div class="bar"> {{isLoading ? '' : element.brokerCode}}
                    </div>
                </td>
            </ng-container>

            <ng-container matColumnDef="aid">
                <th mat-sort-header="userId" mat-header-cell *matHeaderCellDef class="br"> Application id
                </th>
                <td mat-cell *matCellDef="let element" class="br">
                    <div class="bar"> {{isLoading ? '' : element.userId}}</div>
                </td>
            </ng-container>
            <ng-container matColumnDef="euin">
                <th mat-sort-header="euin" mat-header-cell *matHeaderCellDef class="br"> EUIN</th>
                <td mat-cell *matCellDef="let element" class="br">
                    <div class="bar"> {{isLoading ? '' : element.euin}}</div>
                </td>
            </ng-container>
            <ng-container matColumnDef="set">
                <th mat-header-cell *matHeaderCellDef class="br w-20"> Enter IIN to mapped</th>
                <td mat-cell *matCellDef="let element" class="br">
                    <div class="bar"> <input type="text" [(ngModel)]="element.iin" [disabled]="!element.selected"
                            placeholder="Enter IIN" class="form-control br-2">
                    </div>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
</div>


<div class="bottom-fixed wrapper-12 pt-16">
    <div class="row">
        <div class="col-md-2">
            <h5 (click)="closeRightSlider(false)" class="mb-0 pt-8 text-white c-p">Cancel</h5>
        </div>
        <div class="col-md-10 right text-right">
            <app-progress-button (click)="mappedUser()" [options]="barButtonOptions" class="br-0 text-inherit ">
            </app-progress-button>
        </div>
    </div>
</div>