<div *ngIf="data" class="row bb-1 popup-header-fix w-50">
    <div class="col-md-11 p-0">
        <h4 class="mb-0 l-22 wrapper-20">Manage KYC</h4>
    </div>
    <div class="col-md-1 col-2 full-center pl-0 pr-24">

        <i (click)="close(false)" class="material-icons c-p">
            clear
        </i>

    </div>
</div>
<div *ngIf="!data" class="row pt-44 ">
    <div class="col-md-4 p-0">
        <h4 class="m-0 text-black roboto pt-8">Manage KYC</h4>
    </div>
    <div class="col-md-8 p-0">
        <!-- <h4 class="m-0 text-black roboto pt-8">Manage KYC</h4> -->
    </div>
</div>
<div [ngClass]="{'pt-80 pb-90': data}">
    <div [ngClass]="{'pl-20 pr-20': data}" class=" mob-pl-15 mob-pr-15">
        <div class="row">
            <div class="col-md-12 p-0 mob-pr-0" *ngIf="dataSource.data.length > 0">
                <div class="overflow-y-788">
                    <table mat-table [dataSource]="dataSource" id="tbs" class="mt-20 skeletonAnimation"
                        appSkeletonLoading [appSkeletonLoading]="isLoading">

                        <!-- Checkbox Column -->

                        <!-- Name Column -->
                        <ng-container matColumnDef="memberName">
                            <th mat-header-cell *matHeaderCellDef class="br">Member name </th>
                            <td mat-cell *matCellDef="let element" class="br">
                                <div class="bar">
                                    {{element.name}}
                                </div>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="pan">
                            <th mat-header-cell *matHeaderCellDef class="br"> PAN</th>
                            <td mat-cell *matCellDef="let element" class="br">
                                <div class="bar"> <span *ngIf="!isLoading">{{element.pan?element.pan:'-'}}</span>
                                </div>
                            </td>
                        </ng-container>

                        <!-- Weight Column -->
                        <ng-container matColumnDef="mobile">
                            <th mat-header-cell *matHeaderCellDef class="br">Registered mobile </th>
                            <td mat-cell *matCellDef="let element" class="br">
                                <div class="bar"><span *ngIf="!isLoading">{{element.mobileNo
                                        ?element.mobileNo:'-'}}</span>
                                </div>
                            </td>
                        </ng-container>

                        <!-- Symbol Column -->
                        <ng-container matColumnDef="email">
                            <th mat-header-cell *matHeaderCellDef class="br"> Registered email </th>
                            <td mat-cell *matCellDef="let element" class="br">
                                <div class="bar"> <span *ngIf="!isLoading"
                                        class="t-l">{{element.email?element.email:'-'}}</span>
                                </div>
                            </td>
                        </ng-container>


                        <ng-container matColumnDef="kycStatus">
                            <th mat-header-cell *matHeaderCellDef class="br"> KYC status </th>
                            <td mat-cell *matCellDef="let element" class="br">
                                <div class="bar">
                                    <span *ngIf="!isLoading && element.email && element.mobileNo && element.pan">
                                        <span class="text-danger" *ngIf="element.kycComplaint==0">Not verified</span>
                                        <span class="text-primary" *ngIf="element.kycComplaint==1">KYC verified</span>
                                        <span *ngIf="element.kycComplaint==2">Applied</span>
                                        <span *ngIf="element.kycComplaint==3">Accepted</span>
                                        <span *ngIf="element.kycComplaint==4">Rejected</span>
                                    </span>
                                    <span
                                        *ngIf="!isLoading && (!element.email || !element.mobileNo || !element.pan) ">N/A</span>
                                    <img *ngIf="!isLoading && element.kycReason" src="/assets/images/svg/info-black.svg"
                                        matTooltip={{element.kycReason}}
                                        aria-label="Button that displays a tooltip when focused or hovered over"
                                        class="pl-4">
                                </div>
                            </td>
                        </ng-container>



                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef> Actions </th>
                            <td mat-cell *matCellDef="let element">
                                <div *ngIf="isLoading" class="bar"></div>
                                <!-- <span
                                    *ngIf="!isLoading && (!element.email || !element.mobileNo || !element.pan) ">N/A</span> -->
                                <div *ngIf="!isLoading && data && element.email && element.mobileNo && element.pan && !element.isLoader"
                                    class="bar">
                                    <button (click)="openFroala(element,'KYCFroala')"
                                        *ngIf="element.kycComplaint==0 || element.kycComplaint==4" mat-stroked-button
                                        class="btn-danger btn-mange-kyc text-white">Send
                                        Link</button>
                                    <button matTooltip={{element.verifyStatus}}
                                        [ngClass]="{'opa-half': element.kycComplaint==1 || element.kycComplaint==2 || element.kycComplaint==3}"
                                        *ngIf="element.kycComplaint==1 || element.kycComplaint==2 || element.kycComplaint==3"
                                        mat-stroked-button class="btn-danger btn-mange-kyc text-white">Send
                                        Link</button>
                                </div>
                                <div *ngIf="!isLoading &&!data && element.email && element.pan && element.mobileNo && !element.isLoader"
                                    class="bar">
                                    <button (click)="openFroala(element,'KYCFroala')"
                                        *ngIf="userData.userType==1 && (element.kycComplaint==0 || element.kycComplaint==4)"
                                        mat-stroked-button class="btn-danger btn-mange-kyc text-white">Send
                                        Link</button>
                                    <button matTooltip={{element.verifyStatus}}
                                        [ngClass]="{'opa-half': element.kycComplaint==1 || element.kycComplaint==2 || element.kycComplaint==3}"
                                        *ngIf="userData.userType==1 && (element.kycComplaint==1 || element.kycComplaint==2 || element.kycComplaint==3)"
                                        mat-stroked-button class="btn-danger btn-mange-kyc text-white">Send
                                        Link</button>
                                    <button (click)="kycClientSectionMethod(element)" mat-stroked-button
                                        *ngIf="userData.userType==2 && (element.kycComplaint==0 || element.kycComplaint==4)"
                                        class="btn-danger btn-mange-kyc text-white">Do KYC Now
                                    </button>
                                    <button matTooltip={{element.verifyStatus}} mat-stroked-button
                                        *ngIf="userData.userType==2 && (element.kycComplaint==1 || element.kycComplaint==2 || element.kycComplaint==3)"
                                        class="btn-danger btn-mange-kyc text-white opa-half">Do KYC Now
                                    </button>
                                </div>
                                <mat-spinner *ngIf='!isLoading && element.isLoader' [diameter]="20"></mat-spinner>
                            </td>
                        </ng-container>

                        <!-- Symbol Column -->
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                        </tr>
                    </table>
                </div>
            </div>
            <div *ngIf="dataSource.data.length == 0 && isLoading==false" class="col-md-12 p-0 mt-28 text-center">
                <img src="/assets/images/svg/dialogs4.svg">
                <h4 class="d-flex justify-content-center p-44 pt-28">
                    No data found
                </h4>
            </div>
        </div>
    </div>
</div>
<div *ngIf="data" class="bottom-fixed w-50 wrapper-12 z-index-9">
    <div class="row">
        <div class="col-md-4 col-4">
            <h5 (click)="close(false)" class="mb-0 pt-12 text-white c-p">Close</h5>
        </div>

        <div class="col-md-8 col-8 right text-right">
            <!-- <button *ngIf="!showMedium" (click)="next()" class="br-0  btn-primary text-inherit "> Next
        </button> -->
            <!-- <app-progress-button *ngIf="showMedium" (btnClick)="sendRrequest()" [options]="barButtonOptions"
          class="br-0 text-inherit ">
        </app-progress-button> -->
        </div>
    </div>
</div>