<div class="wrapper-28" *ngIf="!showRisk">
    <div class="row">
        <div class="col-md-9 pl-0">
            <h3 class="m-0 f-500">Your risk profile helps us understand how much investment risk you can take.
            </h3>

            <div class="pt-20" *ngFor="let item of riskAssessmentQuestionList;  let i = index">
                <mat-accordion class="riskProfileBox">
                    <mat-expansion-panel [expanded]="item.done" #example>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                {{i+1}}. {{item.question || item.riskAssessmentQuestion}}

                            </mat-panel-title>
                            <!-- <div class="circle1" *ngIf="item.selectedChoiceId || item.riskAssessmentChoice">
                                <i class="material-icons text-success text-right">
                                    check_circle_outline
                                </i>
                            </div>
                            <div class="circle1" *ngIf="!item.selectedChoiceId && !item.riskAssessmentChoice">
                                <i class="material-icons text-primary">
                                    query_builder
                                </i>
                            </div> -->
                            <mat-icon *ngIf="!(item.selectedChoiceId || item.riskAssessmentChoice)" class="text-primary"> query_builder </mat-icon>
                            <mat-icon *ngIf="(item.selectedChoiceId || item.riskAssessmentChoice)" class="text-success">check_circle_outline
                            </mat-icon>
                        </mat-expansion-panel-header>


                        <mat-radio-group aria-label="Select an option" id="custom-radio" [disabled]="!!item.riskAssessmentChoice" (change)="checkState(item,i, $event.value)">

                            <mat-radio-button class="w-100"
                                *ngFor="let choice of item.riskAssessmentChoices; let i = index"
                                [checked]="choice.selected" [value]="choice" [disabled]="choice.disabled">
                                {{choice.choice}}<br>
                            </mat-radio-button>

                        </mat-radio-group>

                    </mat-expansion-panel>
                </mat-accordion>
                <div class="mt-10 pl-20 pr-20">
                    {{item.choice}}{{item.riskAssessmentChoice}}
                </div>
            </div>
            <div *ngIf="showErrorMsg" class="errorClass"> Please complete all questions for test result
            </div>
            <button *ngIf="showButton" mat-stroked-button class="btn-primary mt-20 br-0 right" (click)="submitRiskAnalysis(item)">SUBMIT</button>
        </div>
        <div class="col-md-3 pr-0">
            <div class="sticky-now">
                <div class="row">
                    <div class="col-md-12 p-0 d-flex justify-content-between">
                        <button mat-flat-button class="b-a-custom text-primary"
                            (click)="reset(true)">Risk assessment</button>
                        <button mat-flat-button class="b-a-custom ml-12 text-primary"
                            (click)="open('riskProfile', null)">History</button>
                    </div>
                </div>

            <div class="p-20 b-primitive mt-12">
                <mat-progress-bar mode="determinate" [value]="statusArray.length/15 * 100"></mat-progress-bar>
                <h5 class="pt-8 m-0 pt-12 text-center">{{statusArray.length}} of 15 completed</h5>
            </div>
        </div>

        <!-- empty state -->
        <!-- <div class="d-flex flex-column align-items-center">
            <img class="width400" src="assets/images/svg/clients-img.svg">
            <h4 class="pt-72">No income Found</h4>
            <button class="btn-primary addon v-middle mt-20" mat-stroked-button>ADD NEW
            </button>
        </div> -->
        <!-- end empty state -->
        </div>
    </div>
</div>

<div class="pt-32 pb-44" *ngIf="showRisk">
    <div class="row">
        <div class="col-md-12 mb-16 d-flex justify-content-end">
            <button mat-flat-button class="b-a-custom text-primary mr-12" (click)="reset(true);showRisk = false">Risk
                assessment</button>
            <button mat-flat-button class="b-a-custom text-primary c-p"
                (click)="open('riskProfile', null)">History</button>
        </div>

    </div>

    <div class="row">
        <div class="col-md-5">
            <div class="row">
                <div class="col-md-8"></div>
                <div class="col-md-4 p-0">
                    <h5 class="m-0 f-500 roboto text-black">Your risk score</h5>
                    <div class="ba-3x text-center riskScoreBox mt-12">
                        <h1 class="f-48 mb-8">{{score}}</h1>
                        <p class="m-0 text-custom f-12 ">Max: 600</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="row">
                <div class="col-md-8 p-0 text-center" *ngIf="score">
                    <h5 class="m-0 f-500 roboto text-black">Your risk {{risk.riskProfileStatus}}
                    </h5>
                    <div #referenceKeyName (click)="onClickMe(referenceKeyName)" id="Gauge"></div>
                    <p class="m-0 text-custom roboto" style="text-align: center;">You are an investor who is willing to
                        take {{scoreStatus}} risk for {{scoreStatus}} returns</p>
                </div>
                <div class="col-md-4">
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12 text-center">

            <h5 class="mb-4 f-500 roboto width545 text-black">Equity asset allocation </h5>

            <div id="container1"></div>
            <!-- <img src="/assets/images/svg/assest-allocation.svg" class="w-100"> -->
        </div>
    </div>
</div>