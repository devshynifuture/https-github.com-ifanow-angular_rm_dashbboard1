<div class="popup-header-fix-50">
  <div class="row bb-1">
    <div class="col-md-8 p-0">
      <h4 class="mb-0 wrapper-20"> <!--<img class="c-p mr-8" src="/assets/images/svg/back-arrow.svg" >--> Add Family
        member
      </h4>
    </div>
    <div class="col-md-4 text-right">
      <div class="wrapper-12">
        <i (click)="close('close')" class="material-icons c-p pt-8 v-middle"> clear</i>
      </div>
    </div>
  </div>
</div>

<div class="pt-80 pb-90 ">
  <!-- family list table -->
  <div class="pl-20">
    <div class="row">
      <div class="col-md-8 p-0">
        <h5 class="m-0 text-black pb-12">Select an investor from the search box below</h5>
        <mat-form-field appearance="standard" floatLabel="never">
          <input #searchClient [formControl]="stateCtrl" [matAutocomplete]="auto1"
                 appPrefixFocusDirective aria-label="client" class="form-control pl-8"
                 matInput placeholder="Start typing to see investor names">
          <mat-autocomplete #auto1="matAutocomplete"
                            (optionSelected)="ownerDetails($event.option.value)"
                            [displayWith]="processTransaction.displayName" autoFocus>
            <mat-option *ngFor="let f of filteredStates | async"
                        [value]="f">
              <div class="row">
                <div class="col-md-7 d-flex align-items-center">
                  <p class="t-left m-0">{{f.name}}</p>
                </div>
                <div class="col-md-4 text-right">
                  <div class="small-primitive">FAMILY
                    MEMBERS : {{f.count}}
                  </div>
                </div>
              </div>
            </mat-option>
          </mat-autocomplete>
          <!-- <mat-error *ngIf="transactionAddForm.get('ownerName').errors?.required" class="f-12 pt-4">
              This field is required
          </mat-error> -->
          <mat-error *ngIf="stateCtrl.errors?.invalid" class="f-12">
            This family member does not exist
          </mat-error>
        </mat-form-field>
      </div>
      <div *ngIf="showSpinnerOwner == true" class="col-md-1 align-items-end d-flex">
        <mat-spinner class=" "></mat-spinner>
      </div>
    </div>


   <!-- <p class="f-16 mt-120 text-primitive">
      Based on your profile, we believe, the following members could be part of your family...
    </p>-->


    <div *ngIf="dataSource.data.length>0" class="row">
      <div class="col-md-12 mamberDetailsTable pl-0">
        <table [dataSource]="dataSource" class=" " id="table-low" mat-table>

          <ng-container matColumnDef="name">
            <th *matHeaderCellDef class="br" mat-header-cell>Name</th>
            <td *matCellDef="let element" class="br" mat-cell> {{element.name}} </td>
          </ng-container>

          <ng-container matColumnDef="pan">
            <th *matHeaderCellDef class="br" mat-header-cell> PAN</th>
            <td *matCellDef="let element" class="br" mat-cell> {{element.pan}} </td>
          </ng-container>
          <!--

                    <ng-container matColumnDef="relation">
                      <th *matHeaderCellDef class="br" mat-header-cell> Relation</th>
                      <td *matCellDef="let element" class="br" mat-cell> {{element.relation}} </td>
                    </ng-container>-->

          <ng-container matColumnDef="gender">
            <th *matHeaderCellDef class="br" mat-header-cell> Gender</th>
            <td *matCellDef="let element" class="br" mat-cell> {{element.genderString}} </td>
          </ng-container>

          <!--          <ng-container matColumnDef="add">-->
          <!--            <th *matHeaderCellDef class="br" mat-header-cell> Add</th>-->
          <!--            <td *matCellDef="let element" class="text-primary br" mat-cell> {{element.add}} </td>-->
          <!--          </ng-container>-->


          <!--          <ng-container matColumnDef="remove">-->
          <!--            <th *matHeaderCellDef class="br" mat-header-cell> Remove</th>-->
          <!--            <td *matCellDef="let element" class="br text-center" mat-cell>-->
          <!--              <img src="/assets/images/svg/cancel-icon.svg">-->
          <!--            </td>-->
          <!--          </ng-container>-->

          <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
          <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
        </table>

      </div>
    </div>
  </div>


  <div class="bottom-fixed-50 wrapper-12">
    <div class="row">
      <div class="col-md-4">
        <h5 (click)="close('close')" class="mb-0 pt-8 text-white c-p">Cancel</h5>
      </div>

      <div class="col-md-8 right text-right">
        <app-progress-button (btnClick)="saveFamilyMembers()" [options]="barButtonOptions"
                             class="br-0 text-inherit ">
        </app-progress-button>

      </div>
    </div>
  </div>
</div>
