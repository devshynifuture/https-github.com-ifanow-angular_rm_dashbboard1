<div class="profileOverview" *ngIf="!hasError">
    <div class="row">
        <div class="col-width-18  pt-8">
            <ul class="vertical-menu  d-block bg-grey lter">
                <li (click)="Tab='Tab1'" [ngClass]="{'activeColor lt':Tab=='Tab1'}" class="c-p">
                    <img class="mr-8" src="/assets/images/svg/key-info-icon.svg"> Key info
                </li>
                <li (click)="Tab='Tab2'" [ngClass]="{'activeColor lt':Tab=='Tab2'}" class="c-p">
                    <img class="mr-8" src="/assets/images/svg/speed-meter-icon.svg"> Risk profile
                </li>
                <!-- <li class="c-p">
                    <img class="mr-8" src="/assets/images/svg/financial-health-icon.svg"> Financial health check
                </li>
                <li class="c-p">
                    <img class="mr-8" src="/assets/images/svg/key-info-icon.svg"> Preliminary data
                </li> -->
            </ul>
        </div>


        <div *ngIf="Tab=='Tab1'" class="col-width-79">
            <div class="bg-grey lter p-9">
                <div class="row">
                    <div class="col-md-10">
                        <div class="row">
                            <div [appSkeletonLoading]="letsideBarLoader" appSkeletonLoading
                                class="col-md-2 skeletonAnimation">
                                <div class="relClass">
                                    <div class="bar120">
                                        <div class="profilePhoto containerOne">
                                            <img [src]="clientOverviewData.profilePicUrl">
                                            <div (click)="OpenpersonalProfile(0)" *ngIf="!letsideBarLoader"
                                                class="middleOne">
                                                <p class="c-p"> Edit Image </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                            </div>
                            <div class="col-md-10 pl-12">
                                <div [appSkeletonLoading]="letsideBarLoader" appSkeletonLoading
                                    class="profileDetails overflow-hidden skeletonAnimation">
                                    <div class="relClass">
                                        <div [ngClass]="{'height23': letsideBarLoader}" class="bar">
                                            <h1 class="f-26 roboto f-500">
                                                <span *ngIf="!letsideBarLoader"> {{clientOverviewData.name}}
                                                </span>
                                            </h1>
                                        </div>
                                    </div>
                                    <div class="relClass">
                                        <div [ngClass]="{'height23': letsideBarLoader}" class="bar">
                                            <h5>
                                                <span *ngIf="!letsideBarLoader">{{clientOverviewData.bio}}
                                                    <span *ngIf="clientOverviewData.bio">| </span>
                                                </span>
                                                <span *ngIf="!letsideBarLoader">{{clientOverviewData.age}}
                                                    Years
                                                </span>
                                                <a (click)="openAgePopup()"
                                                    *ngIf="!letsideBarLoader && clientOverviewData.age==0"
                                                    class=" f-12 text-primary primary-border c-p editCLass ">EDIT</a>
                                            </h5>
                                        </div>
                                    </div>
                                    <div class="relClass">
                                        <div [ngClass]="{'height23': letsideBarLoader}" class="bar">
                                            <p *ngIf="!letsideBarLoader" class="roboto l-18 f-14 text-primitive">
                                                {{clientOverviewData.remarks}}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                    <div class="col-md-2 text-right">
                        <img class="emailIcon" src="/assets/images/svg/email-icon.svg">
                        <img class="menu-myProfileIcon" src="/assets/images/svg/menu-myProfile-icon.svg">

                    </div>
                </div>
                <!-- *ngIf="clientOverviewData" -->
                <div *ngIf="clientData" class="row">
                    <div *ngIf="clientData.clientType!=3" class="col-md-12">
                        <div class="primary-border familyMemberBox mt-12">
                            <p class="memberName">Family members</p>

                            <!-- <div [hidden]="(!letsideBarLoader && familyMemberList) || familyMemberList==undefined"
                  class="skeletonAnimation" [appSkeletonLoading]="letsideBarLoader" appSkeletonLoading>
                  <div class="familyLoaderBox">
                      <div class="relClass">
                          <div class="bar"></div>
                      </div>
                  </div>
                  <div class="familyLoaderBox">
                      <div class="relClass">
                          <div class="bar"></div>
                      </div>
                  </div>
              </div> -->

                            <div class="memberSlider">
                                <div *ngFor="let singleMembers of familyMemberList"
                                    class="memberList primary-border c-p">
                                    <img (click)="open('edit',singleMembers)" *ngIf="singleMembers.relationshipId==2"
                                        src="/assets/images/svg/man-profile.svg" width="48px">
                                    <img (click)="open('edit',singleMembers)" *ngIf="singleMembers.relationshipId==3"
                                        src="/assets/images/svg/women-profile-icon.svg" width="48px">
                                    <img (click)="open('edit',singleMembers)" *ngIf="singleMembers.relationshipId==4"
                                        style="margin-right: 10px; margin-left: 2px;"
                                        src="/assets/images/svg/son-profile.svg" width="36px">
                                    <img (click)="open('edit',singleMembers)" *ngIf="singleMembers.relationshipId==5"
                                        style="margin-right: 10px; margin-left: 2px;"
                                        src="/assets/images/svg/daughter-profile.svg" width="36px">
                                    <img (click)="open('edit',singleMembers)" *ngIf="singleMembers.relationshipId==7"
                                        src="/assets/images/svg/mother-profile.svg" width="48px">
                                    <img (click)="open('edit',singleMembers)" *ngIf="singleMembers.relationshipId==6"
                                        src="/assets/images/svg/father-profile.svg" width="48px">
                                    <div (click)="open('edit',singleMembers)" class="familyList">
                                        <h4 (click)="open('edit',singleMembers)" class="f-12 m-0">
                                            <span
                                                *ngIf="singleMembers.shortName==undefined">{{singleMembers.name}}</span><span
                                                *ngIf="singleMembers.shortName"
                                                matTooltip="{{singleMembers.name}}">{{singleMembers.shortName}}
                                                ...</span>
                                        </h4>
                                        <p (click)="open('edit',singleMembers)" class="f-12 m-0 text-primitive">
                                            <span *ngIf="singleMembers.relationshipId==2">Husband </span>
                                            <span *ngIf="singleMembers.relationshipId==3">Wife </span>
                                            <span *ngIf="singleMembers.relationshipId==4">Son</span>
                                            <span *ngIf="singleMembers.relationshipId==5">Daughter</span>
                                            <span *ngIf="singleMembers.relationshipId==7">Mother</span>
                                            <span *ngIf="singleMembers.relationshipId==6">Father</span>
                                            <span
                                                *ngIf="singleMembers.relationshipId>=8 || singleMembers.relationshipId==0">Others</span>
                                        </p>
                                        <p (click)="open('edit',singleMembers)" class="f-12 m-0 text-primitive">
                                            {{singleMembers.age}} Yrs</p>
                                    </div>

                                    <!-- <i class="material-icons familyDelete">
                      cancel
                  </i> -->

                                </div>
                            </div>

                            <div (click)="open('add',null)" *ngIf="!letsideBarLoader"
                                class="addFamilyMember c-p primary-border-dash ml-8">
                                <i class=" material-icons text-primary ">
                                    add
                                </i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class=" detailContainer ">
                <div class=" row ">
                    <div class=" col-md-6 pr-8 br-primitive ">
                        <div class=" row ">
                            <div class=" col-md-10 ">
                                <h5 class=" headingDetails ml-8 "> Basic details </h5>
                            </div>

                            <div *ngIf="!letsideBarLoader" class=" col-md-2 text-right ">
                                <a (click)="openClient('edit client',clientOverviewData)"
                                    class=" f-12 text-primary primary-border c-p editCLass ">EDIT</a>
                            </div>

                        </div>

                        <div class="row">
                            <div [appSkeletonLoading]="letsideBarLoader" appSkeletonLoading
                                class=" col-md-6 skeletonAnimation">
                                <div class=" basicDetaisList ">
                                    <p class=" text-primitive m-0 f-12 ">DISPLAY NAME</p>
                                    <div class="relClass">
                                        <div class="bar height23">
                                            <p class=" f-14 roboto f-500 m-0 ">
                                                <span
                                                    *ngIf="!letsideBarLoader">{{(clientOverviewData.displayName) ? clientOverviewData.displayName : 'N/A'}}
                                                </span>
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div class=" basicDetaisList ">
                                    <p class=" text-primitive m-0 f-12 ">MOBILE</p>
                                    <div class="relClass">
                                        <div class="bar height23">
                                            <p class=" f-14 roboto f-500 m-0 ">
                                                <span *ngIf="!letsideBarLoader">
                                                    {{(clientOverviewData.mobileList && clientOverviewData.mobileList.length > 0) ? clientOverviewData.mobileList[0].mobileNo : 'N/A'}}
                                                </span>
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div class=" basicDetaisList ">
                                    <p class=" text-primitive m-0 f-12 ">PAN</p>
                                    <div class="relClass">
                                        <div class="bar height23">
                                            <p class=" f-14 roboto f-500 m-0 "><span *ngIf="!letsideBarLoader">
                                                    {{(clientOverviewData.pan) ? clientOverviewData.pan : 'N/A'}}
                                                </span>
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div class=" basicDetaisList ">
                                    <p class=" text-primitive m-0 f-12 ">KYC STATUS</p>
                                    <p class=" f-14 roboto f-500 m-0 "> Not verified</p>
                                </div>

                                <div class=" basicDetaisList ">
                                    <p class=" text-primitive m-0 f-12 ">GENDER</p>
                                    <div class="relClass">
                                        <div class="bar height23">
                                            <span *ngIf="!letsideBarLoader">
                                                <p class=" f-14 roboto f-500 m-0 ">
                                                    {{clientOverviewData.gender}}
                                                </p>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div [appSkeletonLoading]="letsideBarLoader" appSkeletonLoading
                                class=" col-md-6 pl-0 skeletonAnimation">
                                <div class=" basicDetaisList ">
                                    <p class=" text-primitive m-0 f-12 ">EMAIL</p>
                                    <div class="relClass">
                                        <div class="bar height23">
                                            <p class=" f-14 roboto f-500 m-0 ">
                                                <span *ngIf="!letsideBarLoader"><span
                                                        *ngIf="clientOverviewData.emailList.length>0">{{clientOverviewData.emailList[0].email}}</span></span>
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div class=" basicDetaisList ">
                                    <p class=" text-primitive m-0 f-12 ">USERNAME</p>
                                    <div class="relClass">
                                        <div class="bar height23">
                                            <p class=" f-14 roboto f-500 m-0 ">
                                                <span *ngIf="!letsideBarLoader">
                                                    {{(clientOverviewData.userName) ? clientOverviewData.userName : 'N/A'}}
                                                </span>
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div class=" basicDetaisList ">
                                    <p class=" text-primitive m-0 f-12 ">AADHAAR</p>
                                    <div class="relClass">
                                        <div class="bar height23">
                                            <p class=" f-14 roboto f-500 m-0 ">
                                                <span
                                                    *ngIf="!letsideBarLoader">{{(clientOverviewData.aadhaarNumber) ? clientOverviewData.aadhaarNumber : 'N/A'}}
                                                </span>
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div class=" basicDetaisList ">
                                    <p class=" text-primitive m-0 f-12 ">TAX STATUS</p>
                                    <div class="relClass">
                                        <div class="bar height23">
                                            <p *ngIf="!letsideBarLoader" class=" f-14 roboto f-500 m-0 ">
                                                Resident</p>
                                        </div>
                                    </div>
                                    <div class="relClass">
                                        <!-- <div class="bar"> -->
                                        <!-- <p *ngIf="!letsideBarLoader"
                            class=" f-14 roboto f-500 m-0 ">
                            Non-resident</p> -->
                                        <!-- </div> -->
                                    </div>
                                </div>

                                <div class=" basicDetaisList ">
                                    <p class=" text-primitive m-0 f-12 ">MARITAL STATUS</p>
                                    <div class="relClass">
                                        <div class="bar height23">
                                            <span *ngIf="!letsideBarLoader">
                                                <p class=" f-14 roboto f-500 m-0 ">
                                                    {{clientOverviewData.martialStatus}}</p>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class=" col-md-3 pl-20 pr-8 br-primitive ">
                        <div class=" row ">
                            <div class=" col-md-9 ">
                                <h5 class=" headingDetails "> Address</h5>
                            </div>
                            <div class=" col-md-3 text-right ">
                            </div>
                        </div>
                        <div [appSkeletonLoading]="adressFlag" [hidden]="!adressFlag " appSkeletonLoading
                            class="skeletonAnimation">
                            <div class="relClass mb-12">
                                <div class="bar height23"></div>
                            </div>
                            <div class="relClass">
                                <div class="bar height23"></div>
                            </div>
                        </div>
                        <div class="row ">
                            <div *ngFor="let singleAddress of addressList" class=" col-md-12 mb-8 ">
                                <div class="d-flex justify-content-between align-items-center mb-8">
                                    <p class=" f-12 mb-0 mt-8 text-primitive ">PERMANENT</p>
                                    <a (click)="openAddEdit(clientOverviewData,singleAddress,'Address','Edit')"
                                        class=" f-12 text-primary primary-border c-p editCLass ">EDIT</a>
                                </div>
                                <p class=" f-14 ">
                                    {{singleAddress.address1 ? singleAddress.address1 + ' , ' : ''}}
                                    {{singleAddress.address2 ? singleAddress.address2 + ' , ' : ''}}
                                    {{singleAddress.address3 ? singleAddress.address3 + ' , ' : ''}}
                                    {{singleAddress.city ? singleAddress.city : ''}} {{singleAddress.pinCode
                                    ? singleAddress.pinCode + '.' : ''}}
                                    {{singleAddress.state ? singleAddress.state : ''}}
                                </p>


                            </div>

                            <div *ngIf="addressList==undefined && !adressFlag" class="col-md-12 addAddressClass">
                                <div class="d-flex flex-column align-items-center">
                                    <!-- <img class="width150" src="assets/images/svg/noDataFound.svg"> -->
                                    <h4 *ngIf="!showSectionError.addressList" class="text-center pt-12 f-14">No address
                                        found</h4>
                                    <h4 *ngIf="showSectionError.addressList" class="text-center pt-12">Sorry! it's not
                                        you it's us</h4>
                                    <p (click)="openAddEdit(clientOverviewData,null,'Address','Add')"
                                        class="text-primary f-400 roboto primary-border br-2 p-4 c-p"> Add new
                                    </p>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class=" col-md-3 pl-20 ">
                        <h5 *ngIf="bankFlag" class=" headingDetails "> Bank </h5>
                        <div [appSkeletonLoading]="bankFlag" [hidden]="!bankFlag" appSkeletonLoading
                            class="skeletonAnimation">
                            <div class="relClass mb-12">
                                <div class="bar height23"></div>
                            </div>
                            <div class="relClass">
                                <div class="bar height23"></div>
                            </div>
                        </div>
                        <div class="row">
                            <div *ngIf="bankList==undefined && !bankFlag" class="col-md-12 mb-20 text-left">
                                <h5 class=" headingDetails "> Bank </h5>
                                <div class="d-flex flex-column align-items-center">
                                    <!-- <img class="width150" src="assets/images/svg/noDataFound.svg"> -->
                                    <h4 *ngIf="!showSectionError.bankList" class="text-center pt-12 f-14">No bank found
                                    </h4>
                                    <h4 *ngIf="showSectionError.bankList" class="text-center pt-12">Sorry! it's not you
                                        it's us</h4>
                                    <p (click)="openAddEdit(clientData,null,'Bank','Add')"
                                        class="text-primary f-400 roboto primary-border br-2 p-4 c-p"> Add new
                                    </p>
                                </div>
                            </div>

                            <div *ngFor="let singleBank of bankList;index as i" class="col-md-12">
                                <div *ngIf="selectedBankData===singleBank" class=" row ">
                                    <div class="col-md-6  ">

                                        <h5 class=" headingDetails d-flex"> Bank
                                            <i (click)="openAddEdit(clientData,null,'Bank','Add')"
                                                class=" material-icons f-18 ">
                                                add_circle_outline</i>
                                        </h5>

                                    </div>
                                    <div *ngIf="bankList && bankList.length>1"
                                        class=" col-md-5 p-0 d-flex align-items-center justify-content-end ">
                                        <span class=" f-12 text-primitive ">{{i + 1}} of {{bankList.length}}</span>
                                        <span class=" arrow-primitive arrowSlider c-p ">
                                            <i (click)="previous('bank',i)"
                                                class=" material-icons f-17 text-primitive ">
                                                chevron_left
                                            </i>
                                        </span>
                                        <span class=" arrow-primitive arrowSlider c-p ">
                                            <i (click)="next('bank',i)" class=" material-icons f-17 text-primitive ">
                                                chevron_right
                                            </i>
                                        </span>
                                    </div>
                                </div>

                                <div *ngIf="selectedBankData===singleBank" class="row">
                                    <div class=" col-md-9 pr-0 ">
                                        <p class=" m-0 f-14 ">
                                            <span class=" f-500 roboto ">{{selectedBankData.bankName}}</span><br> A/c:
                                            {{selectedBankData.accountNumber}} <br>
                                            {{selectedBankData.accountTypeName }} <br> IFSC:
                                            {{selectedBankData.ifscCode }} <br> {{selectedBankData.shortAddress}}
                                    </div>
                                    <div class=" col-md-2 p-0 text-right ">
                                        <a (click)="openAddEdit(clientData,selectedBankData,'Bank','Edit')"
                                            class=" f-12 text-primary primary-border c-p editCLass ">EDIT</a>
                                    </div>
                                </div>
                            </div>


                        </div>
                        <hr class=" bb-primitive hrMargin ">
                        <h5 *ngIf="dematFlag" class=" headingDetails "> Demat </h5>
                        <div [appSkeletonLoading]="dematFlag" [hidden]="!dematFlag " appSkeletonLoading
                            class="skeletonAnimation">
                            <div class="relClass mb-12">
                                <div class="bar height23"></div>
                            </div>
                            <div class="relClass">
                                <div class="bar height23"></div>
                            </div>
                        </div>
                        <div *ngIf="dematList==undefined && !dematFlag" class="col-md-12 p-0 ">
                            <h5 class=" headingDetails "> Demat </h5>
                            <div class="d-flex addDenmatClass flex-column align-items-center">
                                <h4 *ngIf="!showSectionError.dematList" class="text-center pt-12 f-14">No demat found
                                </h4>
                                <h4 *ngIf="showSectionError.dematList" class="text-center pt-12">Sorry! it's not you
                                    it's us</h4>
                                <p (click)="openAddEdit(clientData,null,'Demat','Add')"
                                    class="text-primary f-400 roboto primary-border br-2 p-4 c-p"> Add new
                                </p>
                            </div>
                        </div>

                        <div *ngFor="let singleDemat of dematList;index as i">
                            <div *ngIf="selectedDemat===singleDemat">
                                <h5 class=" headingDetails "> Demat
                                    <i (click)="openAddEdit(clientData,null,'Demat','Add')"
                                        class=" material-icons f-18 ">
                                        add_circle_outline</i>
                                </h5>
                                <div *ngIf="dematList.length>1"
                                    class=" col-md-5 p-0 d-flex align-items-center justify-content-end ">
                                    <span class=" f-12 text-primitive ">{{i + 1}} of {{dematList.length}}</span>
                                    <span class=" arrow-primitive arrowSlider c-p ">
                                        <i (click)="previous('demat',i)" class=" material-icons f-17 text-primitive ">
                                            chevron_left
                                        </i>
                                    </span>
                                    <span class=" arrow-primitive arrowSlider c-p ">
                                        <i (click)="next('deamt',i)" class=" material-icons f-17 text-primitive ">
                                            chevron_right
                                        </i>
                                    </span>
                                </div>
                                <div class=" row ">
                                    <div class=" col-md-9 pr-0 ">
                                        <p class=" m-0 f-14 ">
                                            <span
                                                class=" f-500 roboto ">{{selectedDemat.depositoryParticipantName}}</span>
                                            <br> DP ID: {{selectedDemat.depositoryParticipantId}} <br> UCC:
                                            {{selectedDemat.dematClientId}} <br>
                                            {{selectedDemat.brokerAddress ? selectedDemat.brokerAddress : ''}}

                                        </p>
                                    </div>
                                    <div class=" col-md-2 p-0 text-right ">
                                        <a (click)="openAddEdit(clientData,selectedDemat,'Demat','Edit')"
                                            class=" f-12 text-primary primary-border c-p editCLass ">EDIT</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="Tab=='Tab2'" class="col-width-79 pl-4">
            <app-overview-risk-profile></app-overview-risk-profile>
        </div>
    </div>
</div>


<div *ngIf="hasError" class="d-flex flex-column align-items-center mt-100">
    <img class="width300" src="assets/images/svg/noDataFound.svg">
    <h4 class="text-center pt-12">Sorry! it's not you it's us</h4>
</div>