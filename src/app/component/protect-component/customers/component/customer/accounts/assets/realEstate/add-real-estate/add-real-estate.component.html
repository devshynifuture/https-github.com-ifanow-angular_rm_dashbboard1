<div class="popup-header-fix-60" *ngIf="adviceShowHeaderFooter">
    <div class="row bb-1">
        <div class="col-md-8 p-0">
            <h4 class="mb-0 wrapper-20">Add Real estate</h4>
        </div>
        <div class="col-md-4 text-right">
            <div class="wrapper-12">
                <i (click)="close(false)" class="material-icons c-p pt-8 v-middle"> clear</i>
            </div>
        </div>
    </div>
</div>
<div class="pt-100 pb-48 mb-44" [formGroup]="addrealEstateForm">
    <div class="row ">
        <div class="col-md-5 text-right pr-0">
            <h5 class="m-0">Owner</h5>
            <p class="m-0 f-12 text-custom">In whose name is this asset</p>
        </div>

        <div class="col-md-3 pr-0">
            <mat-form-field class="w-100">
                <mat-select appOwner (valueChange)='display($event)' (valueChange1)='lisNominee($event)'
                    [data]='ownerData' formControlName="ownerName" class="form-control br-0">
                    <mat-option value=''>Select family members</mat-option>
                    <mat-option *ngFor="let f of nomineesListFM" (click)="ownerList(f)" [value]="f.userName"
                        (click)="ownerDetails(f)">
                        <span>{{f.userName}}</span>
                    </mat-option>
                </mat-select>
                <mat-error class="f-12">
                    This field is required
                </mat-error>
            </mat-form-field>
        </div>

        <div class="col-md-2">
            <div class="form-group mb-0 iconPetage">
                <mat-form-field>
                    <input matInput class=" form-control br-0 percentage" type="number" formControlName="ownerPercent"
                        (keyup)="onChange('owner')">
                    <mat-error class="f-12 "
                        [ngClass]="{'v-h':!(isOwnerPercent && getFormControl().ownerPercent.invalid || getFormControl().ownerPercent.touched && getFormControl().ownerPercent.invalid)}">
                        This field is required
                    </mat-error>
                </mat-form-field>
            </div>
        </div>
        <div class="col-md-2 p-0">
            <h5 class="m-0 text-primitive pt-8 c-p" (click)="addNewCoOwner(true)">+ Add co-owner</h5>
        </div>
    </div>

    <div formArrayName="getCoOwnerName" *ngIf="addOwner==true">
        <div class="row pt-36" *ngFor="let obj of getCoOwner.controls; let pointIndex=index"
            [formGroupName]="pointIndex">
            <div class="col-md-5 pr-0 text-right">
                <h5 class="m-0 pt-8 ">Co-owner{{pointIndex+1}}</h5>
            </div>
            <div class="col-md-3 pr-0">
                <div class="form-group mb-0">
                    <mat-form-field>
                        <mat-select appOwner (valueChange)='display($event)' (valueChange1)='lisNominee($event)'
                            [data]='ownerData' formControlName="ownerName" class="form-control br-0">
                            <mat-option value=''>Select family members</mat-option>
                            <mat-option *ngFor="let f of nomineesListFM" (click)="ownerList(f)" [value]="f.userName"
                                (click)="ownerDetails(f)">
                                <span>{{f.userName}}</span>
                            </mat-option>
                        </mat-select>
                        <!-- <input matInput aria-label="State" (click)="nomineesList()" [matAutocomplete]="auto" list="userName" class="form-control br-0 pl-8" formControlName="ownerName">
                        <mat-autocomplete #auto="matAutocomplete">
                            <mat-option *ngFor="let item of familyList" (click)="getCoOwnerDetails(item)" [value]="item.userName">
                                <span>{{item.userName}}</span>
                            </mat-option>
                        </mat-autocomplete> -->
                    </mat-form-field>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group mb-0 iconPetage">
                    <mat-form-field>
                        <input matInput class="form-control br-0 percentage" type="number"
                            formControlName="ownershipPerc" (keyup)="onChange('owner')">
                        <mat-error class="f-12">
                            This field is required
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>
            <div class="col-md-2 p-0">
                <i class="material-icons text-primitive f-20 c-p pl-10 pt-8"
                    (click)="removeCoOwner(pointIndex)">remove</i>
                <!-- <h5 class="mb-0 ml-12 text-primitive pt-8 c-p" (click)="removeCoOwner(pointIndex)">-</h5> -->
            </div>
        </div>

    </div>
    <!-- <mat-hint class="f-12 text-danger" align="end" *ngIf="showError== true">
        Percent cannot be more than 100%
    </mat-hint> -->
    <mat-error class="f-12  text-right" *ngIf="showErrorOwner== true">
        Percent cannot be more than 100%
    </mat-error>

    <div class="row pt-36">
        <div class="col-md-5 pr-0 text-right">
            <h5 class="m-0 pt-8">Type</h5>
        </div>
        <div class="col-md-3 pr-0">
            <div class="form-group mb-0">
                <mat-form-field>
                    <mat-select class="form-control br-0" formControlName="type">
                        <mat-option value="" disabled>Select option</mat-option>
                        <mat-option value="0">Land</mat-option>
                        <mat-option value="1">Residential</mat-option>
                        <mat-option value="2">Secondary</mat-option>
                        <mat-option value="3">Commercial</mat-option>
                    </mat-select>
                    <mat-error class="f-12"
                        [ngClass]="{'v-h':!(isTypeValid && getFormControl().type.invalid || getFormControl().type.touched && getFormControl().type.invalid)}">
                        This field is required
                    </mat-error>
                </mat-form-field>

            </div>
        </div>
    </div>
    <div class="row pt-36">
        <div class="col-md-5 pr-0 text-right">
            <h5 class="m-0 pt-8">Market value</h5>
            <p class="m-0 f-12 text-custom">Market value has to be updated manually
            </p>
        </div>
        <div class="col-md-3 pr-0 iconRupess">
            <div class="form-group mb-0">
                <mat-form-field>
                    <input matInput #marketValue type="text" class="form-control rupess br-0" appInputValueValidation
                        [inputValidator]="validatorType.NUMBER_ONLY" formControlName="marketValue" maxlength="10">
                    <mat-error class="f-12"
                        [ngClass]="{'v-h':!(isMvValid && getFormControl().marketValue.invalid || getFormControl().marketValue.touched && getFormControl().marketValue.invalid)}">
                        This field is required
                        <!-- [ngClass]="{'v-h':!(isLoanAmount && getFormControl().marketValue.invalid || getFormControl().marketValue.touched && getFormControl().marketValue.invalid)}" -->
                    </mat-error>
                    <mat-hint align="end" class="f-12">{{marketValue.value.length}}/10</mat-hint>
                </mat-form-field>
            </div>
        </div>

    </div>

    <div class="row pt-32">
        <div class="col-md-5 text-right">
            <h5 class="pt-20 text-custom m-0 c-p" (click)="showMore()" *ngIf="showMoreData==false">+ Add more [optional
                data]
            </h5>
            <h5 class="pt-20 text-custom m-0 c-p" (click)="showLess()" *ngIf="showMoreData==true">Show less</h5>
        </div>
    </div>

    <div *ngIf="showMoreData==true">

        <div class="row pt-36">
            <div class="col-md-5 pr-0 text-right">
                <h5 class="m-0 pt-8">Purchase period</h5>
            </div>
            <div class="col-md-3 pr-0">
                <div class="form-group mb-0">

                    <mat-form-field>
                        <input class="form-control br-0" matInput (focus)="picker.open()"
                            (input)="preventDefault($event)" [matDatepicker]="picker" formControlName="purchasePeriod"
                            readonly>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                        <mat-hint align="start" class="f-12">Optional</mat-hint>
                        <mat-error class="f-12">
                            This field is required
                        </mat-error>
                    </mat-form-field>

                </div>
            </div>
        </div>

        <div class="row pt-44">
            <div class="col-md-5 pr-0 text-right">
                <h5 class="m-0 pt-8">Purchase value</h5>
            </div>
            <div class="col-md-7">
                <div class="row">
                    <div class="col-md-5 p-0 iconRupess">
                        <div class="form-group mb-0">
                            <mat-form-field>
                                <input matInput #purchaseValue maxlength="10" type="text"
                                    class="form-control rupess br-0 " formControlName="purchaseValue">
                                <mat-hint align="start" class="f-12">Optional</mat-hint>
                                <mat-hint align="end" class="f-12">{{purchaseValue.value.length}}/10</mat-hint>
                            </mat-form-field>
                        </div>

                    </div>
                    <div class="col-md-6 ">
                        <h5 class="m-0 text-primitive pt-12 c-p" (click)="addArea()">+ Add area details</h5>
                    </div>
                </div>
            </div>
        </div>

        <div class="row pt-44" *ngIf="showArea==true">
            <div class="col-md-5 text-right">
                <h5 class="m-0 pt-36">Area details</h5>
            </div>
            <div class="col-md-5 iconRupess">
                <div class="row">
                    <div class="col-md-6 pr-0">
                        <h5 class="m-0 f-14">Rate per unit</h5>
                        <div class="form-group mb-0">
                            <mat-form-field>
                                <input matInput #unit maxlength="10" type="text" class="form-control rupess br-0 "
                                    formControlName="unit">

                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-md-6 pr-0 pl-0">
                        <h5 class="m-0 f-14">Unit</h5>
                        <div class="form-group mb-0">
                            <mat-form-field>
                                <mat-select class="form-control br-0" formControlName="ratePerUnit">
                                    <mat-option value="1">Square feet</mat-option>
                                    <mat-option value="3">Square meter</mat-option>
                                    <mat-option value="6">Acre</mat-option>
                                    <mat-option value="12">Hectare</mat-option>
                                    <mat-option value="12">Bigha</mat-option>
                                    <mat-option value="12">Biswa</mat-option>
                                    <mat-option value="12">Biswansi</mat-option>
                                    <mat-option value="12">Killa</mat-option>
                                    <mat-option value="12">Ghumaon</mat-option>
                                    <mat-option value="12">Ankanam</mat-option>
                                    <mat-option value="12">Cent</mat-option>
                                    <mat-option value="12">Ground</mat-option>
                                    <mat-option value="12">Guntha</mat-option>
                                    <mat-option value="12">kuncham</mat-option>
                                    <mat-option value="12">Chatak</mat-option>
                                    <mat-option value="12">Dhur</mat-option>
                                    <mat-option value="12">Kattha</mat-option>
                                    <mat-option value="12">Lecha</mat-option>
                                </mat-select>
                                <mat-hint align="start" class="f-12">Optional</mat-hint>
                                <mat-hint align="end" class="f-12">{{unit.value.length}}/10</mat-hint>
                            </mat-form-field>

                        </div>




                    </div>

                </div>
            </div>
            <div class="col-md-2 p-0" *ngIf="showArea==true">
                <h5 class="mb-0  text-custom pt-28 c-p" (click)="removeArea()">Remove</h5>
            </div>
        </div>

        <div class="row pt-44">
            <div class="col-md-5 pr-0 text-right">
                <h5 class="m-0 pt-28">Charges</h5>
                <p class="m-0 f-12 text-custom">Market value has to be updated manually
                </p>
            </div>
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-4 pl-0 pr-0 iconRupess">
                        <h5 class="m-0 f-14 ">Stamp duty</h5>
                        <div class="form-group mb-0">
                            <mat-form-field>
                                <input matInput #stampDuty maxlength="10" type="text" class="form-control rupess br-0 "
                                    formControlName="stampDuty">
                                <mat-hint align="start" class="f-12">Optional</mat-hint>
                                <mat-hint align="end" class="f-12">{{stampDuty.value.length}}/10</mat-hint>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-md-4 pr-0 iconRupess">
                        <h5 class="m-0 f-14">Registration</h5>
                        <div class="form-group mb-0">
                            <mat-form-field>
                                <input matInput #registration maxlength="10" type="text"
                                    class="form-control rupess br-0 " formControlName="registration">
                                <!-- <mat-hint align="start" class="f-12">Optional</mat-hint> -->
                                <mat-hint align="end" class="f-12">{{registration.value.length}}/10</mat-hint>
                            </mat-form-field>
                        </div>

                    </div>
                    <div class="col-md-4 pr-0">
                        <h5 class="m-0 f-14 ">GST</h5>
                        <div class="form-group mb-0 iconRupess">
                            <mat-form-field>
                                <input matInput #gst maxlength="10" type="text" class="form-control rupess br-0 "
                                    formControlName="gst">
                                <!-- <mat-hint align="start" class="f-12">Optional</mat-hint> -->
                                <mat-hint align="end" class="f-12">{{gst.value.length}}/10</mat-hint>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row pt-44">
            <div class="col-md-5 pr-0 text-right">
                <h5 class="m-0 pt-8">Location</h5>
            </div>
            <div class="col-md-5">
                <div class="form-group mb-0">

                    <mat-form-field>
                        <input matInput #location maxlength="20" type="text" class="form-control br-0 "
                            formControlName="location">
                        <mat-hint align="start" class="f-12">Optional</mat-hint>
                        <mat-hint align="end" class="f-12">{{location.value.length}}/20</mat-hint>
                    </mat-form-field>

                </div>
            </div>
        </div>
        <div class="row pt-44">
            <div class="col-md-5 pr-0 text-right">
                <h5 class="m-0 pt-8">Description</h5>
            </div>
            <div class="col-md-5">
                <div class="form-group mb-0">
                    <mat-form-field>
                        <input matInput #description maxlength="60" type="text" class="form-control br-0"
                            formControlName="description">
                        <mat-hint align="start" class="f-12">Optional</mat-hint>
                        <mat-hint align="end" class="f-12">{{description.value.length}}/60</mat-hint>
                    </mat-form-field>
                </div>
            </div>
        </div>
        <div formArrayName="getNomineeName">
            <div class="row pt-44" *ngFor="let obj of getNominee.controls; let pointIndex=index"
                [formGroupName]="pointIndex">
                <div class="col-md-5 pr-0 text-right">
                    <h5 class="m-0 pt-8 " *ngIf="pointIndex==0">Nominee</h5>
                    <h5 class="m-0 pt-8 " *ngIf="pointIndex!=0">Nominee{{pointIndex}}</h5>
                </div>
                <div class="col-md-3">
                    <div class="form-group mb-0">
                        <mat-form-field>
                            <input matInput aria-label="State" (click)="nomineesList()" [matAutocomplete]="auto"
                                list="userName" class="form-control br-0 pl-8" formControlName="name">
                            <mat-autocomplete #auto="matAutocomplete">
                                <mat-option *ngFor="let item of familyList" [value]="item.userName">
                                    <span>{{item.userName}}</span>
                                </mat-option>
                            </mat-autocomplete>
                            <mat-hint align="start" class="f-12"> Optional </mat-hint>
                        </mat-form-field>
                    </div>

                </div>
                <div class="col-md-2 pl-0">
                    <div class="form-group mb-0 iconPetage">
                        <mat-form-field>
                            <input matInput type="number" class="br-0 form-control percentage"
                                formControlName="ownershipPer" (keyup)="onChange('nominee')">
                        </mat-form-field>
                    </div>
                </div>


                <div class="col-md-1 pl-0 d-flex   align-items-center" *ngIf="pointIndex==0">
                    <i class="material-icons text-custom f-20 c-p" (click)="addNominee()">
                        add
                    </i>
                </div>
                <div class="col-md-1 pl-0 d-flex   align-items-center" *ngIf="pointIndex > 0">
                    <i class="material-icons text-custom f-20 c-p" (click)="removeNominee(pointIndex)">
                        remove
                    </i>
                </div>

            </div>
            <mat-error class="f-12 text-danger text-right" *ngIf="showError== true">
                Percent cannot be more than 100%
            </mat-error>
        </div>
    </div>

    <div class="bottom-fixed wrapper-12 pt-16" *ngIf="adviceShowHeaderFooter">
        <div class="row">
            <div class="col-md-4">
                <h5 class="mb-0 pt-8 text-white c-p" (click)="close(false)">Cancel</h5>
            </div>
            <div class="col-md-8 right text-right">
                <button mat-button class="btn-bottom br-0 text-inherit" (click)="saveFormData()">Save</button>
            </div>
        </div>
    </div>
</div>