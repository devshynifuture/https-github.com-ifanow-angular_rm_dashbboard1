<div id="ui-insurance" [ngClass]="{'hide': finPlanObj?.hideForFinPlan}">

    <div class="row">
        <div class="col-md-12 col-lg-2 p-0 tabViewLiabilities pt-8 pb-20">

            <div class="vertical-menu bg-grey lter">
                <ul class="d-block ">
                    <li [ngClass]="{'bg-grey lt':lifeInsuranceFlag}" class="  pb-8 c-p">
                        <div (click)="getInsuranceData(1);selectedInsuranceName='LIFE INSURANCE'" class="row">
                            <div class="col-md-9 p-0 f-700 roboto">LIFE INSURANCE</div>
                            <div class="col-md-3 pl-0 pr-20 text-right text-custom roboto">
                                {{(lifeInsuranceCount) ? lifeInsuranceCount : '0'}}</div>
                        </div>
                    </li>
                    <li (click)="getInsuranceTypeData(1,item.id);selectedInsuranceName=item.name"
                        *ngFor="let item of lifeInsuranceList" [ngClass]="{'bg-grey lt':item.id==insuranceSubTypeId}"
                        class="c-p pb-8">
                        <div>
                            <div class="row">
                                <div class="col-md-9 p-0 roboto">{{item.name}}</div>
                                <div class="col-md-3 pl-0 pr-20 text-right roboto text-custom">
                                    {{(item.count) ? item.count : '0'}}
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>


                <!-- toggle('generalInsurance'); -->


                <ul class="d-block b-t pt-12 mt-12 ">
                    <li [ngClass]="{'bg-grey lt':generalInsuranceFlag}" class="pb-8 c-p">
                        <div (click)="getInsuranceTypeData(2,0);selectedInsuranceName='GENERAL INSURANCE'" class="row">
                            <div class="col-md-9 p-0 f-700 roboto">GENERAL INSURANCE</div>
                            <div class="col-md-3 pl-0 pr-20 roboto text-right text-custom">
                                {{(generalInsuranceCount) ? generalInsuranceCount : '0'}} </div>
                        </div>
                    </li>
                    <li (click)="getInsuranceTypeData(2,item1.id);selectedInsuranceName=item1.name"
                        *ngFor="let item1 of generalLifeInsuranceList"
                        [ngClass]="{'bg-grey lt':item1.id==insuranceSubTypeId}" class="pb-8 c-p">
                        <div class="row">
                            <div class="col-md-9 p-0 roboto">{{item1.name}}</div>
                            <div class="col-md-3 pl-0 roboto pr-20 text-right text-custom">
                                {{(item1.count) ? item1.count : '0'}}
                            </div>
                        </div>
                    </li>
                </ul>


            </div>



        </div>

        <div class="col-md-12 deskLiabilities text-right">
            <mat-form-field>
                <mat-select [(ngModel)]="selectedInsuranceName" class="form-control">
                    <mat-option (click)="getInsuranceData(1)" value="LIFE INSURANCE">LIFE INSURANCE</mat-option>
                    <mat-option value="item.name" (click)="getInsuranceTypeData(1,item.id)"
                        *ngFor="let item of lifeInsuranceList" value="item.id">{{item.name}}
                    </mat-option>
                    <mat-option value="GENERAL INSURANCE" (click)="getInsuranceTypeData(2,0)">GENERAL INSURANCE
                    </mat-option>
                    <mat-option (click)="getInsuranceTypeData(2,item.id)" *ngFor="let item of generalLifeInsuranceList"
                        value="item.name">{{item.name}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <!-- <div *ngIf="dataSource==undefined ">
        <mat-spinner class="loader" [diameter]="30"></mat-spinner>
    </div> -->
        <div class="col-md-12 col-lg-10  p-0 min-height pt-28">
            <div>
                <div class="wrapper-8">

                    <div class="row pb-12">
                        <div class="col-md-4 d-flex align-items-center p-0">
                            <h4 class="m-0 text-black roboto ">{{showInsurance}} insurance </h4>
                        </div>
                        <div *ngIf="(dataSource.data.length > 0 && insuranceTypeId == 1 && !isLoading ) || (dataSourceGeneralInsurance.data.length > 0 && insuranceTypeId == 2 && !isLoading)"
                            class="col-md-8 p-0 right text-right justify-content-end d-flex align-items-center">
                            <div>
                                <div class="p-0 d-flex align-items-center justify-content-center">
                                    <mat-spinner *ngIf="isLoadingUpload==true" [diameter]="30"></mat-spinner>
                                </div>

                                <a *ngIf="!fragmentData.isSpinner" [matMenuTriggerFor]="menu1"
                                    class="c-p downloadPdfIcon">
                                    <img src="assets/images/svg/download-bordered.svg">
                                </a>

                                <!-- <img src="assets/images/svg/download-bordered.svg" [matMenuTriggerFor]="menu1" class="c-p" *ngIf="!fragmentData.isSpinner"> -->

                                <mat-menu #menu1="matMenu">
                                    <button (click)="generatePdf('Insurance')" mat-menu-item>PDF</button>
                                    <button (click)="Excel('Insurance')" mat-menu-item>XLS</button>
                                </mat-menu>
                                <mat-spinner *ngIf="fragmentData.isSpinner" [diameter]="30"></mat-spinner>
                            </div>


                            <!-- <a [matMenuTriggerFor]="menu7" class="c-p downloadPdfIcon iconBorderNone">
                                <img src="assets/images/svg/up-down.svg">
                            </a> -->

                            <!-- <img src="assets/images/svg/up-down.svg" [matMenuTriggerFor]="menu7" class="c-p"> -->
                            <!-- <mat-menu #menu7="matMenu"> -->
                            <!-- <button mat-menu-item>Upload file
                    <input (change)="fetchData('Life Insurance',$event)" class="uploadInput" id="file-4"
                        multiple type="file">
                </button> -->
                            <!-- </mat-menu> -->
                            <!-- <img class="c-p mr-8" src="assets/images/svg/three-dot-bordered.svg"> -->
                            <button [matMenuTriggerFor]="insuranceMenu" class="btn-default addon ml-8 mr-8 v-middle"
                                mat-stroked-button><i class="material-icons">filter_list</i>FILTERS
                            </button>
                            <mat-menu #insuranceMenu>
                                <button (click)="filterInsurance('statusId', 'LIVE')" mat-menu-item>
                                    STATUS - LIVE
                                </button>
                                <button
                                    (click)="(insuranceTypeId == 1) ? filterInsurance('statusId', 'MATURED') : filterInsurance('statusId', 'EXPIRED')"
                                    mat-menu-item>
                                    {{(insuranceTypeId == 1) ? 'STATUS - MATURED' : 'STATUS - EXPIRED'}}
                                </button>
                            </mat-menu>
                            <button (click)="openAddInsurance(null)" *ngIf="showAdd" class="btn-primary addon v-middle"
                                mat-stroked-button> ADD NEW
                            </button>

                        </div>
                    </div>

                    <div [ngClass]="{'table-scroll':isLoading==false }"
                        class="col-md-12 p-0 liabilities overflow-hidden">
                        <div>
                            <table #tableEl *ngIf="insuranceTypeId == 1 && dataSource && dataSource.data.length > 0"
                                [appSkeletonLoading]="isLoading" [dataSource]="dataSource" appSkeletonLoading
                                class="skeletonAnimation" id="tbs" mat-table matSort>
                                <ng-container matColumnDef="no" sticky>
                                    <th *matHeaderCellDef class="br" mat-header-cell> No.</th>
                                    <td *matCellDef="let element; let i = index" class="br" mat-cell>
                                        <div class="bar"> {{isLoading ? '' : i + 1 }} </div>
                                    </td>
                                    <td *matFooterCellDef class="bl-1 p-8 text-left" mat-footer-cell></td>
                                </ng-container>

                                <ng-container matColumnDef="life">
                                    <th *matHeaderCellDef class="br w-13" mat-sort-header="lifeAssuredName">
                                        Life assured
                                    </th>
                                    <td *matCellDef="let element" class="br" mat-cell>
                                        <div class="bar"> {{element.lifeAssuredName}} </div>
                                    </td>
                                    <td *matFooterCellDef class="p-8 text-left" mat-footer-cell></td>
                                </ng-container>

                                <ng-container matColumnDef="name">
                                    <th *matHeaderCellDef class="br w-17 " mat-sort-header="policyName"> Policy name
                                    </th>
                                    <td *matCellDef="let element" class="br" mat-cell>
                                        <div class="bar"> {{element.policyName}} </div>
                                    </td>
                                    <td *matFooterCellDef class="f-600 p-8 proximaFont text-right br" mat-footer-cell>
                                        Total
                                    </td>
                                </ng-container>


                                <ng-container matColumnDef="sum">
                                    <th *matHeaderCellDef class="br rightTextHide text-right" mat-header-cell
                                        mat-sort-header="sumAssured"> Sum assured
                                    </th>
                                    <td *matCellDef="let element" class="br text-right" mat-cell>
                                        <div class="bar">{{!isLoading ? "₹" : ""}}<span
                                                appFormatNumber>{{element.sumAssured }}</span></div>

                                    </td>
                                    <td *matFooterCellDef class="br f-600 p-8 amt text-right" mat-footer-cell>
                                        <div>{{isLoading ? ' ' : '₹'}}<span [value]="totalSumAssuredLifeIns"
                                                appFormatNumber></span></div>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="cvalue">
                                    <th *matHeaderCellDef class="br rightTextHide w-10 text-right" mat-header-cell
                                        mat-sort-header="currentValue"> Current value
                                    </th>
                                    <td *matCellDef="let element" class="br text-right" mat-cell>
                                        <div class="bar">
                                            {{(!isLoading && (element.currentValue != 0 || element.vestedBonus != 0)) ? "₹" : (element.currentValue == 0 || element.vestedBonus == 0) ? "" : ''}}
                                            <!-- <span
                          appFormatNumber>{{(element.currentValue =='Infinity' ? 'N.A' : (element.currentValue == 0 ) ? '-' : element.currentValue)}}</span> -->
                                            <span *ngIf="!isLoading"
                                                appFormatNumber>{{(element.vestedBonus) ? element.vestedBonus : (element.currentValue) ? element.currentValue : '-'}}</span>
                                        </div>

                                    </td>
                                    <td *matFooterCellDef class="br f-600 p-8 amt text-right" mat-footer-cell>
                                        <div>{{isLoading ? ' ' : (totalCurrentValue != 0) ? '₹' : ''}}<span
                                                [value]="(totalCurrentValue) ? totalCurrentValue : (totalCurrentValue == 0) ? '-' : '-'"
                                                appFormatNumber></span></div>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="premium">
                                    <th *matHeaderCellDef class="br rightTextHide text-right" mat-header-cell
                                        mat-sort-header="premiumAmount">
                                        Premium
                                    </th>
                                    <td *matCellDef="let element" class="br text-right" mat-cell>
                                        <!-- <div class="bar"> <span appFormatNumber>{{element.premiumAmount}}</span> </div> -->
                                        <div class="bar">{{!isLoading ? "₹" : ""}}<span
                                                appFormatNumber>{{element.premiumAmount }}</span>
                                        </div>

                                    </td>
                                    <!-- <td mat-footer-cell *matFooterCellDef class="br text-right pr-8 f-600" [value]="totalPremiunAmountLifeIns" appFormatNumber>
                      <div class="bar"><span>{{totalPremiunAmountLifeIns}}</span></div>
                  </td> -->
                                    <td *matFooterCellDef class="br f-600 p-8 amt text-right" mat-footer-cell>
                                        <div>{{isLoading ? ' ' : '₹'}}<span [value]="totalPremiunAmountLifeIns"
                                                appFormatNumber></span>
                                        </div>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="term">
                                    <th *matHeaderCellDef class="br textLeft" mat-header-cell
                                        mat-sort-header="premiumPayingTerm">
                                        PPT
                                    </th>
                                    <td *matCellDef="let element" class="br" mat-cell>
                                        <div class="bar">{{element.premiumPayingTerm}} </div>
                                    </td>
                                    <td *matFooterCellDef class="br p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <ng-container matColumnDef="pterm">
                                    <th *matHeaderCellDef class="br textLeft" mat-header-cell
                                        mat-sort-header="policyTenure">
                                        PT
                                    </th>
                                    <td *matCellDef="let element" class="br" mat-cell>
                                        <div class="bar"> {{element.policyTenure}} </div>
                                    </td>
                                    <td *matFooterCellDef class="br p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <ng-container matColumnDef="Duration">
                                    <th *matHeaderCellDef class="br textLeft" mat-header-cell
                                        mat-sort-header="durationRemaining">Duration remaining
                                    </th>
                                    <td *matCellDef="let element" class="br text-left" mat-cell>
                                        <div class="bar">
                                            <span *ngIf="!isLoading">{{element.statusId == 'MATURED' ? '-' : (element.durationRemaining ? element.durationRemaining : '-')}}</span>
                                        </div>
                                    </td>
                                    <td *matFooterCellDef class="br p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <ng-container matColumnDef="desc">
                                    <th *matHeaderCellDef class="br textLeft" mat-header-cell
                                        mat-sort-header="insuranceSubTypeId">
                                        Plan type
                                    </th>
                                    <td *matCellDef="let element" class="br" mat-cell>
                                        <div *ngIf="!isLoading">
                                            {{(element.insuranceSubTypeId == 1) ? 'Term' : (element.insuranceSubTypeId == 2) ? 'Traditional' : (element.insuranceSubTypeId == 3) ? 'ULIP' : '-'}}
                                        </div>
                                        <div *ngIf="isLoading" class="bar">{{''}}</div>
                                    </td>
                                    <td *matFooterCellDef class="br p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <ng-container matColumnDef="number">
                                    <th *matHeaderCellDef class="br textLeft w-11" mat-sort-header="policyNumber">
                                        Policy number
                                    </th>
                                    <td *matCellDef="let element" class="br" mat-cell>
                                        <div class="bar"> {{element.policyNumber}} </div>
                                    </td>
                                    <td *matFooterCellDef class="f-600 br p-8 proximaFont text-right" mat-footer-cell>

                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="status">
                                    <th *matHeaderCellDef class="br" mat-header-cell mat-sort-header="status">
                                        Status
                                    </th>
                                    <td *matCellDef="let element" class="br text-primary" mat-cell>
                                        <div class="bar">
                                            <span class="text-primary" *ngIf="element.statusId == 'LIVE'">
                                                {{'LIVE'}} </span>
                                            <span *ngIf="element.statusId == 'MATURED'" class="text-success">
                                                {{'MATURED'}} </span>
                                        </div>
                                    </td>
                                    <td *matFooterCellDef class="br p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <ng-container matColumnDef="icons" sticky>
                                    <th *matHeaderCellDef class="t-2" mat-header-cell></th>
                                    <td *matCellDef="let element" [matMenuTriggerFor]="menu4"
                                        class="t-2 mat-menu-trigger text-center c-p" mat-cell>
                                        <img *ngIf="!isLoading" class="c-p" src="/assets/images/svg/dot-menu.svg">
                                        <mat-menu #menu4="matMenu">
                                            <button (click)="openAddInsurance(element)" mat-menu-item>Edit</button>
                                            <button (click)="open(element)" mat-menu-item>Detailed view</button>
                                            <button mat-menu-item>Upload file
                                                <input (change)="fetchData('Life Insurance',$event,element)"
                                                    class="uploadInput" id="file-4" multiple type="file">
                                            </button>
                                            <!-- <button mat-menu-item>Activity</button> -->
                                            <button (click)="deleteModal('INSURANCE',element)"
                                                mat-menu-item>Delete</button>
                                        </mat-menu>

                                    </td>
                                    <td *matFooterCellDef class="br p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <tr *matHeaderRowDef="displayedColumns; sticky: true" mat-header-row></tr>
                                <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
                                <tr *matFooterRowDef="displayedColumns;sticky: true" [hidden]="isLoading"
                                    mat-footer-row></tr>
                            </table>

                            <div *ngIf="insuranceTypeId == 1 && dataSource.data.length == 0"
                                class="w-100 mt-70 d-flex flex-column align-items-center">
                                <img src="assets/images/svg/documents-empty-states.svg">
                                <h4 class="text-center mt-12 mb-20">No Data Found</h4>
                                <button (click)="openAddInsurance(null)" class="btn-primary addon v-middle"
                                    mat-stroked-button>ADD NEW
                                </button>
                            </div>
                        </div>


                        <!----------------------------------------------------------GENERAL INSURANCE TABLE------------------------------------------------------------------>


                        <div *ngIf="insuranceTypeId == 2">
                            <table #tableEl2 *ngIf="dataSourceGeneralInsurance.data.length > 0"
                                [appSkeletonLoading]="isLoading" [dataSource]="dataSourceGeneralInsurance"
                                appSkeletonLoading class="skeletonAnimation" id="tbs" mat-table matSort>
                                <ng-container matColumnDef="no" sticky>
                                    <th *matHeaderCellDef class="br" mat-header-cell> No.</th>
                                    <td *matCellDef="let element; let i = index" class="br" mat-cell>
                                        <div class="bar"> {{isLoading ? '' : i + 1 }} </div>
                                    </td>
                                    <td *matFooterCellDef class="bl-1 p-8 text-left" mat-footer-cell> </td>
                                </ng-container>
                                <ng-container matColumnDef="life">
                                    <th *matHeaderCellDef class="br textLeft w-15" mat-sort-header="policyHolderName">
                                        {{showPolicyHolder}}</th>
                                    <td *matCellDef="let element" class="br" mat-cell>
                                        <div class="bar"> {{isLoading ? '' : element.displayHolderName}} </div>
                                    </td>
                                    <td *matFooterCellDef class=" p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <ng-container matColumnDef="insurerName">
                                    <th *matHeaderCellDef class="br w-15 textLeft" mat-sort-header="insurerName">
                                        {{(insuranceSubTypeId == 7) ? 'Name of insurer' : 'Name of insurer & Plan'}}
                                    </th>
                                    <td *matCellDef="let element" class="br" mat-cell>
                                        <div *ngIf="!isLoading">
                                            {{((insuranceSubTypeId == 7) ? element.insurerName : (((element.planName) ? element.insurerName + ' - ' + element.planName : element.insurerName)))}}
                                        </div>
                                        <div *ngIf="isLoading" class="bar">{{''}}</div>
                                    </td>
                                    <td *matFooterCellDef class="f-600 br p-8 proximaFont text-right" mat-footer-cell>
                                        Total
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="sumInsured">
                                    <th *matHeaderCellDef class="br w-10 rightTextHide" mat-sort-header="sumAssured">
                                        Sum
                                        insured{{(insuranceSubTypeId == 8) ? ' (USD)' : ''}}{{(insuranceSubTypeId == 4) ? ' (IDV)' : ''}}
                                    </th>
                                    <td *matCellDef="let element" class="br text-right" mat-cell>
                                        <!-- <div class="bar"><span appFormatNumber>{{element.sumAssured}} </span></div> -->
                                        <div class="bar">{{(!isLoading && insuranceSubTypeId!=8) ? "₹" : ""}}<span
                                                appFormatNumber>{{element.sumAssured }}</span></div>

                                    </td>
                                    <!-- <td mat-footer-cell *matFooterCellDef class="br text-right pr-8 f-600" [value]="totalSumAssured" appFormatNumber>
                      <div class="bar"><span>{{totalSumAssured}}</span></div>
                  </td> -->
                                    <td *matFooterCellDef class="br f-600 p-8 amt text-right" mat-footer-cell>
                                        <div>{{(!isLoading && insuranceSubTypeId!=8) ? "₹" : ""}}<span
                                                [value]="totalSumAssured" appFormatNumber></span></div>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="premiumAmount">
                                    <th *matHeaderCellDef class="br rightTextHide text-right" mat-header-cell
                                        mat-sort-header="premiumAmount"> Premium
                                    </th>
                                    <td *matCellDef="let element" class="br text-right" mat-cell>
                                        <!-- <div class="bar"><span appFormatNumber>{{element.premiumAmount}} </span></div> -->
                                        <div class="bar">{{!isLoading ? "₹" : ""}}<span
                                                appFormatNumber>{{element.premiumAmount }}</span>
                                        </div>

                                    </td>
                                    <td *matFooterCellDef class="br f-600 p-8 amt text-right" mat-footer-cell>
                                        <div>{{isLoading ? ' ' : '₹'}}<span [value]="totalPremiunAmount"
                                                appFormatNumber></span></div>
                                    </td>
                                </ng-container>
                                <ng-container matColumnDef="policyExpiryDate">
                                    <th *matHeaderCellDef class="br textLeft w-10" mat-header-cell
                                        mat-sort-header="policyExpiryDate">
                                        Policy expiry date
                                    </th>
                                    <td *matCellDef="let element" class="br text-left" mat-cell>
                                        <div class="bar"> {{element.policyExpiryDate | date:'dd/MM/yyyy'}} </div>
                                    </td>
                                    <td *matFooterCellDef class="br p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <ng-container matColumnDef="Duration">
                                    <th *matHeaderCellDef class="br w-9 textLeft" mat-header-cell
                                        mat-sort-header="durationRemaining">Duration remaining
                                    </th>
                                    <td *matCellDef="let element" class="br text-left" mat-cell>
                                        <div class="bar">
                                            <span *ngIf="!isLoading">{{element.statusId == 'EXPIRED' ? '-' : (element.durationRemaining ? element.durationRemaining :'-')}}</span>
                                        </div>
                                    </td>
                                    <td *matFooterCellDef class="br p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <ng-container matColumnDef="planName">
                                    <th *matHeaderCellDef class="br textLeft" mat-header-cell
                                        mat-sort-header="showType">
                                        {{showType}}{{(insuranceSubTypeId == 8) ? ' & Geography' : ''}}
                                    </th>
                                    <td *matCellDef="let element" class="br" mat-cell>
                                        <div class="bar">
                                            {{(element.insuranceSubTypeId == 5) ? ((element.policyFeatureId == 0) ? 'Standard, ' : (element.policyFeatureId == 1) ? 'Top up, ' : (element.policyFeatureId == 2) ? 'Super top up, ' : '' ) : ''}}{{(element.policyType) ? (element.policyType) : element.planName}}{{(insuranceSubTypeId == 8 && element.geographyId) ? ((element.geographyId == 1) ? ' - Worldwide' : (element.geographyId == 2) ? ' - Worldwide excluding USA & Canada' : (element.geographyId
                                            == 3) ? ' - Asia' : '') : ''}}
                                        </div>
                                    </td>
                                    <td *matFooterCellDef class="br p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <ng-container matColumnDef="policyNumber">
                                    <th *matHeaderCellDef class="br textLeft" mat-header-cell
                                        mat-sort-header="policyNumber">
                                        Policy number
                                    </th>
                                    <td *matCellDef="let element" class="br" mat-cell>
                                        <div class="bar"> {{element.policyNumber}} </div>
                                    </td>
                                    <td *matFooterCellDef class="br p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <ng-container matColumnDef="vehicleModel">
                                    <th *matHeaderCellDef class="br w-13 textLeft" mat-header-cell
                                        mat-sort-header="vehicleModel">
                                        Vehicle model
                                    </th>
                                    <td *matCellDef="let element" class="br" mat-cell>
                                        <div class="bar">
                                            {{isLoading ? '' : ((element.vehicleModel) ? element.vehicleModel : '-')}}
                                        </div>
                                    </td>
                                    <td *matFooterCellDef class="br p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <ng-container matColumnDef="status">
                                    <th *matHeaderCellDef class="br" mat-header-cell mat-sort-header="status">
                                        Status
                                    </th>
                                    <td *matCellDef="let element" class="br" mat-cell>
                                        <div class="bar">
                                            <span class="text-primary" *ngIf="element.statusId == 'LIVE'">
                                                {{'LIVE'}} </span>
                                            <span *ngIf="element.statusId == 'EXPIRED'" class="text-danger">
                                                {{'EXPIRED'}} </span>
                                        </div>
                                    </td>
                                    <td *matFooterCellDef class="br p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <ng-container matColumnDef="icons" sticky>
                                    <th *matHeaderCellDef class="t-2" mat-header-cell></th>
                                    <td *matCellDef="let element" [matMenuTriggerFor]="menu4"
                                        class="t-2 text-center mat-menu-trigger  c-p" mat-cell>
                                        <img *ngIf="!isLoading" class="c-p" src="/assets/images/svg/dot-menu.svg">
                                        <mat-menu #menu4="matMenu">
                                            <button (click)="openAddInsurance(element)" mat-menu-item>Edit</button>
                                            <button (click)="open(element)" mat-menu-item>Detailed view</button>
                                            <button mat-menu-item>Upload file
                                                <input (change)="fetchData('General Insurance',$event,element)"
                                                    class="uploadInput" id="file-4" multiple type="file">
                                            </button>
                                            <!-- <button mat-menu-item>Activity</button> -->
                                            <button (click)="deleteModal('INSURANCE',element)"
                                                mat-menu-item>Delete</button>
                                        </mat-menu>

                                    </td>
                                    <td *matFooterCellDef class="br p-8 text-left" mat-footer-cell></td>
                                </ng-container>
                                <tr *matHeaderRowDef="displayedColumns2; sticky: true" mat-header-row></tr>
                                <tr *matRowDef="let row; columns: displayedColumns2;" mat-row></tr>
                                <tr *matFooterRowDef="displayedColumns2;sticky: true" [hidden]="isLoading"
                                    mat-footer-row></tr>
                            </table>

                            <div *ngIf="insuranceTypeId == 2 && dataSourceGeneralInsurance.data.length == 0"
                                class="w-100 mt-70 d-flex flex-column align-items-center">
                                <img src="assets/images/svg/documents-empty-states.svg">
                                <h4 class="text-center mt-12 mb-20">No Data Found</h4>
                                <button (click)="openAddInsurance(null)" *ngIf="showAdd"
                                    class="btn-primary addon v-middle" mat-stroked-button>ADD NEW
                                </button>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>

</div>
<!-- -------------------- pdf life ---------------------------- -->

<div #lifeInsurance id="templateIns" class="hide">
    <table style="width: 100%;border-collapse: collapse;font-family: Roboto,sans-serif;">
        <tr>
            <td>
                <table style="width: 100%;">
                    <tr>
                        <td style="text-align: left; vertical-align: top; width: 50%;" *ngIf="getOrgData">
                            <div style="width: 200px;"
                                *ngIf="getOrgData && getOrgData.reportLogoUrl != null && getOrgData.reportLogoUrl !='https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png' ">
                                <img style="max-width: 100%;" *ngIf="getOrgData" [src]="getOrgData.reportLogoUrl">
                            </div>
                            <div style="width: 200px;"
                                *ngIf="getOrgData && getOrgData.logoUrl != 'https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png' && getOrgData.reportLogoUrl == 'https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png'">
                                <img style="max-width: 100%;" *ngIf="getOrgData" [src]="getOrgData.logoUrl">
                            </div>
                            <div
                                *ngIf="getOrgData.logoUrl == 'https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png' && getOrgData.reportLogoUrl == 'https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png'">
                                <span width="200px" style="font-size: 25px;">{{getOrgData.companyName}}</span>
                            </div>
                        </td>
                        <td style=" text-align: right; width: 50%;">
                            <p style="margin: 0px; font-weight: 600; font-size: 20px;padding-top: 12px;"
                                *ngIf="userInfo">
                                {{(getOrgData.companyName) ? getOrgData.companyName : '-'}}</p>
                            <p style="margin: 0px; font-size: 14px;padding-top: 12px;" *ngIf="userInfo"> <strong>
                                    Number: </strong>
                                {{(userInfo.mobileList?.length > 0) ? userInfo.mobileList[0].mobileNo : userInfo.mobile}}
                            </p>
                            <p style="margin: 0px; font-size: 14px;padding-top: 12px;" *ngIf="userInfo"> <strong> Email:
                                </strong>
                                {{getOrgData.email ? getOrgData.email  : userInfo.email}}</p>

                            <p style="margin: 0px;padding-top: 12px; font-size: 14px; margin-bottom: 5px;"> <strong>
                                    Report as on:
                                    {{reportDate | date:'dd-MMM-yyyy' }}</strong>
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>


        <tr>
            <td style="padding: 10px;"></td>
        </tr>

        <tr>
            <td>
                <p style="margin: 0px; font-weight: 600;font-size: 14px;padding-top: 10px; padding-bottom: 10px;"
                    *ngIf="clientData">
                    Client name: {{(clientData.name) ? clientData.name : '-'}}</p>
            </td>
        </tr>
        <tr>
            <td
                style="font-size: 18px;line-height: 20px;color: #000000 !important;padding-top: 20px;padding-bottom: 20px;">
                <div class="col-md-4 d-flex align-items-center p-0">
                    <h4 class="m-0 text-black roboto">{{showInsurance}} insurance</h4>

                </div>
            </td>
        </tr>

        <tr *ngIf="dataSource?.data?.length > 0">
            <td>
                <table style="width: 100%;">
                    <tr style="background-color: #F5F7F7;height: 40px;border: 1px solid #DADCE0;">
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-left: 1px solid #DADCE0; border-top: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0;">
                            No.
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            Life assured
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            Policy name
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            Sum assured
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0; text-align: right;">
                            Current value
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0; text-align: right;">
                            Premium
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            PPT
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            PT
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            Duration remaining
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            Plan type
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            Policy number
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            Status
                        </td>

                    </tr>

                    <tr *ngFor="let item of dataSource.data ;index as i"
                        style="border-left: 1px solid #DADCE0;border-bottom: 1px solid #DADCE0;height: 40px !important;">
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-left: 1px solid #DADCE0;">
                            {{i + 1}}</td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0;">
                            {{item.lifeAssuredName}}</td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0;">
                            {{(item.policyName) ? item.policyName : '-'}}
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                            {{!isLoading && item.sumAssured ? "₹" : ""}}<span
                                appFormatNumber>{{(item.sumAssured) ? (item.sumAssured) : 0}}</span>
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                            {{!isLoading && item.currentValue ? "₹" : ""}}<span
                                appFormatNumber>{{(item.currentValue == 'Infinity' ? 0 : item.currentValue)}}</span>
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                            {{!isLoading && item.premiumAmount ? "₹" : ""}}<span appFormatNumber>
                                {{(item.premiumAmount) ? (item.premiumAmount) : 0}}</span>
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: left; border-bottom: 1px solid #DADCE0;">
                            {{(item.premiumPayingTerm) ? (item.premiumPayingTerm) : '-'}}</td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: left; border-bottom: 1px solid #DADCE0;">
                            {{(item.policyTenure) ? item.policyTenure : '-'}}</td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: left; border-bottom: 1px solid #DADCE0;">
                            {{item.statusId == 'MATURED' ? '-' : (item.durationRemaining ? item.durationRemaining : '-')}} </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: left; border-bottom: 1px solid #DADCE0;">
                            {{(item.insuranceSubTypeId == 1) ? 'Term' : (item.insuranceSubTypeId == 2) ? 'Traditional' : (item.insuranceSubTypeId == 3) ? 'ULIP' : '-'}}
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: left; border-bottom: 1px solid #DADCE0;">
                            {{(item.policyNumber) ? item.policyNumber : '-'}}</td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: left; border-bottom: 1px solid #DADCE0;">
                            <span class="text-primary" *ngIf="item.statusId == 'LIVE'">
                                {{'LIVE'}} </span>
                            <span *ngIf="item.statusId == 'MATURED'" class="text-success">
                                {{'MATURED'}} </span>
                        </td>

                    </tr>

                    <tr *ngIf="dataSource?.data?.length > 0"
                        style="font-weight: 700;border-left: 1px solid #DADCE0;border-bottom: 1px solid #DADCE0;height: 40px !important;">
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0;">
                        </td>
                        <td appFormatNumber
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0;">
                        </td>
                        <td appFormatNumber
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                            Total
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                            {{!isLoading && totalSumAssuredLifeIns ? "₹" : ""}}<span [value]="totalSumAssuredLifeIns"
                                appFormatNumber></span>
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                            {{!isLoading && totalCurrentValue ? "₹" : ""}}<span [value]="totalCurrentValue"
                                appFormatNumber></span>
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                            {{!isLoading && totalPremiunAmountLifeIns ? "₹" : ""}}<span
                                [value]="totalPremiunAmountLifeIns" appFormatNumber></span>
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                        </td>
                    </tr>

                </table>
            </td>
        </tr>





    </table>
    <div *ngIf="dataSource?.data?.length == 0" [ngClass]="{'account-empty-state': dataSource.data.length == 0}"
        class="w-100 d-flex flex-column align-items-center">
        <!-- <img class="width400" src="assets/images/svg/noDataFound.svg"> -->
        <img src="assets/images/svg/documents-empty-states.svg">
        <h4 class="text-center pt-12">No Data Found
        </h4>
        <!-- <button mat-stroked-button class="btn-primary addon v-middle" (click)="openAddInsurance(null)">ADD NEW</button> -->
    </div>
</div>
<!-- -------------------- pdf General insurance ---------------------------- -->

<div #generalInsurance id="templateGen" class="hide">
    <table style="width: 100%;border-collapse: collapse;font-family: Roboto,sans-serif;">
        <tr>
            <td>
                <table style="width: 100%;">
                    <tr>
                        <td style="text-align: left; vertical-align: top; width: 50%;" *ngIf="getOrgData">
                            <div style="width: 200px;"
                                *ngIf="getOrgData && getOrgData.reportLogoUrl != null && getOrgData.reportLogoUrl !='https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png' ">
                                <img style="max-width: 100%;" *ngIf="getOrgData" [src]="getOrgData.reportLogoUrl">
                            </div>
                            <div style="width: 200px;"
                                *ngIf="getOrgData && getOrgData.logoUrl != 'https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png' && getOrgData.reportLogoUrl == 'https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png'">
                                <img style="max-width: 100%;" *ngIf="getOrgData" [src]="getOrgData.logoUrl">
                            </div>
                            <div
                                *ngIf="getOrgData.logoUrl == 'https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png' && getOrgData.reportLogoUrl == 'https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png'">
                                <span width="200px" style="font-size: 25px;">{{getOrgData.companyName}}</span>
                            </div>
                        </td>
                        <td style=" text-align: right; width: 50%;">
                            <p style="margin: 0px; font-weight: 600; font-size: 20px;padding-top: 12px;"
                                *ngIf="userInfo">
                                {{(getOrgData.companyName) ? getOrgData.companyName : '-'}}</p>
                            <p style="margin: 0px; font-size: 14px;padding-top: 12px;" *ngIf="userInfo"> <strong>
                                    Number: </strong>
                                {{(userInfo.mobileList?.length > 0) ? userInfo.mobileList[0].mobileNo : userInfo.mobile}}
                            </p>
                            <p style="margin: 0px; font-size: 14px;padding-top: 12px;" *ngIf="userInfo"> <strong> Email:
                                </strong>
                                {{getOrgData.email ? getOrgData.email  : userInfo.email}}</p>

                            <p style="margin: 0px;padding-top: 12px; font-size: 14px; margin-bottom: 5px;"> <strong>
                                    Report as on:
                                    {{reportDate | date:'dd-MMM-yyyy' }}</strong>
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>


        <tr>
            <td style="padding: 10px;"></td>
        </tr>

        <tr>
            <td>
                <p style="margin: 0px; font-weight: 600;font-size: 14px;padding-top: 10px; padding-bottom: 10px;"
                    *ngIf="clientData">
                    Client name: {{(clientData.name) ? clientData.name : '-'}}</p>
            </td>
        </tr>
        <tr>
            <td
                style="font-size: 18px;line-height: 20px;color: #000000 !important;padding-top: 20px;padding-bottom: 20px;">
                <h4 style="margin: 0; font-size: 18px;">{{showInsurance}} insurance</h4>
            </td>
        </tr>

        <tr *ngIf="dataSourceGeneralInsurance?.data?.length > 0">
            <td>
                <table style="width: 100%;">
                    <tr style="background-color: #F5F7F7;height: 40px;border: 1px solid #DADCE0;">
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020; border-right: 1px solid #DADCE0; border-left: 1px solid #DADCE0; border-top: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0;">
                            No.
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            {{showPolicyHolder}}</td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            {{(insuranceSubTypeId == 7) ? 'Name of insurer' : 'Name of insurer & Plan'}} </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            Sum insured
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            Premium
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            Policy expiry date
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            Duration remaining
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            {{showType}}{{(insuranceSubTypeId == 8) ? ' & Geography' : ''}}
                        </td>
                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            Policy number
                        </td>

                        <td
                            style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-top: 1px solid #DADCE0;">
                            Status
                        </td>

                    </tr>
                    <tr *ngFor="let item of dataSourceGeneralInsurance.data ;index as i"
                        style="border-left: 1px solid #DADCE0;border-bottom: 1px solid #DADCE0;height: 40px !important;">
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-left: 1px solid #DADCE0; ">
                            {{i + 1}}</td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0;">
                            <span *ngFor="let ele  of item.insuredMembers">
                                {{(item.insuredMembers.length == 1) ? (ele.name) : (ele.name + ',')}}
                            </span>
                            <span *ngIf="item.insuredMembers?.length == 0 && !isLoading">
                                {{item.policyHolderName}}
                            </span>
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0;">
                            {{((insuranceSubTypeId == 7) ? item.insurerName : (((item.planName) ? item.insurerName + '-' + item.planName : item.insurerName)))}}
                        </td>
                        <td appFormatNumber
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                            {{!isLoading && item.sumAssured? "₹" : ""}}<span
                                appFormatNumber>{{(item.sumAssured)?item.sumAssured:0}}</span>
                        </td>
                        <td appFormatNumber
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                            {{!isLoading && item.premiumAmount ? "₹" : ""}}<span appFormatNumber>
                                {{item.premiumAmount}}</span>
                        </td>
                        <td appFormatNumber
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: left; border-bottom: 1px solid #DADCE0;">
                            {{item.policyExpiryDate | date:'dd/MM/yyyy'}}</td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: left; border-bottom: 1px solid #DADCE0;">
                            {{item.statusId == 'EXPIRED' ? '-' : (item.durationRemaining ? item.durationRemaining : '-')}} </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: left; border-bottom: 1px solid #DADCE0;">
                            {{(item.insuranceSubTypeId == 5) ? ((item.policyFeatureId == 0) ? 'Standard, ' : (item.policyFeatureId == 1) ? 'Top up, ' : (item.policyFeatureId == 2) ? 'Super top up, ' : '' ) : ''}}{{(item.policyType) ? (item.policyType) : item.planName}}{{(insuranceSubTypeId == 8 && item.geographyId) ? ((item.geographyId == 1) ? ' - Worldwide' : (item.geographyId == 2) ? ' - Worldwide excluding USA & Canada' : (item.geographyId
                            == 3) ? ' - Asia' : '') : ''}}</td>
                        <td appFormatNumber
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: left; border-bottom: 1px solid #DADCE0;">
                            {{item.policyNumber}}</td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: left; border-bottom: 1px solid #DADCE0;">
                            <span class="text-primary" *ngIf="item.statusId == 'LIVE'">
                                {{'LIVE'}} </span>
                            <span *ngIf="item.statusId == 'EXPIRED'" class="text-danger">
                                {{'EXPIRED'}} </span>
                        </td>

                    </tr>
                    <tr *ngIf="dataSourceGeneralInsurance?.data?.length > 0"
                        style="font-weight: 700;border-left: 1px solid #DADCE0;border-bottom: 1px solid #DADCE0;height: 40px !important;">
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0; border-left: 1px solid #DADCE0;">
                        </td>
                        <td appFormatNumber
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0;">
                        </td>
                        <td appFormatNumber
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                            Total
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                            {{!isLoading && totalSumAssured? "₹" : ""}}<span appFormatNumber
                                [value]="totalSumAssured"></span>
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                            {{!isLoading && totalPremiunAmount ? "₹" : ""}}<span [value]="totalPremiunAmount"
                                appFormatNumber></span>
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                        </td>
                        <td
                            style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right; border-bottom: 1px solid #DADCE0;">
                        </td>
                    </tr>
                </table>
            </td>
        </tr>



    </table>
    <div *ngIf="dataSourceGeneralInsurance?.data?.length == 0"
        [ngClass]="{'account-empty-state': dataSource.data.length == 0}"
        class="w-100 d-flex flex-column align-items-center">
        <!-- <img class="width400" src="assets/images/svg/noDataFound.svg"> -->
        <img src="assets/images/svg/documents-empty-states.svg">
        <h4 class="text-center pt-12">No Data Found
        </h4>
        <!-- <button mat-stroked-button class="btn-primary addon v-middle" (click)="openAddInsurance(null)">ADD NEW</button> -->
    </div>
</div>