<div>
  <div class="wrapper-8">
    <!-- <div class="row">
                <div class="col-md-12 right text-right pt-28 pb-28 pr-0">
                    <button mat-stroked-button [matMenuTriggerFor]="menu" class="ba-black br-0">
                        Overview Report
                        <mat-icon aria-hidden="false" aria-label="Example home icon">keyboard_arrow_down</mat-icon>
                      </button>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item>Overview Report</button>
                        <button mat-menu-item>Summary</button>
                        <button mat-menu-item>All Transactions</button>
                        <button mat-menu-item>Unrealized Transactions</button>
                        <button mat-menu-item>Capital Gains</button>
                        <button mat-menu-item>Goal Linkage</button>
                    </mat-menu>
                </div>
            </div> -->

    <div class="row pb-12">
      <div class="col-md-6 pl-0">
        <h4 class="m-0 text-black roboto pt-8">Mutual
          fund {{(this.mutualFund) ? this.mutualFund.viewMode : 'Transactions'}}</h4>
      </div>
      <div class="col-md-6 p-0 d-flex justify-content-end">
        <img src="assets/images/svg/download-bordered.svg" [matMenuTriggerFor]="menu5" class="c-p">
        <mat-menu #menu5="matMenu">
          <button (click)="generatePdf()" mat-menu-item>PDF</button>
          <button (click)="Excel('Mutual fund unrealized transactions')" mat-menu-item>XLS</button>
        </mat-menu>
        <img class="c-p" src="assets/images/svg/three-dot-bordered.svg">
        <img class="c-p mr-12" src="assets/images/svg/up-down.svg">
        <!-- <img matTooltip="Download PDF" (click)="generatePdf()" class="b-a c-p"
        src="assets/images/svg/pdf-icons.svg"> -->
        <button class="btn-default addon v-middle" mat-stroked-button (click)="openFilter()">
          <i class="material-icons">filter_list</i>FILTERS
        </button>
      </div>
    </div>
    <div>
      <div class="row">
        <div [ngClass]="{'table-scroll':isLoading==false }" class="col-md-12 p-0 mb-8">
          <!--          <cdk-virtual-scroll-viewport tvsItemSize class="wrapper mat-elevation-z2">-->
          <table #tableEl1 [appSkeletonLoading]="isLoading" [dataSource]="dataSource" appSkeletonLoading
                 class="mutualfunds-capital-equity skeletonAnimation"
                 id="tbs" mat-table
                 matSort>
            <ng-container matColumnDef="categoryName" sticky>
              <th *matHeaderCellDef class="br" mat-header-cell mat-sort-header="categoryName">
                Sub category name
              </th>
              <td *matCellDef="let element" class="br" mat-cell>
                <div class="bar">{{element.categoryName}}</div>
              </td>
              <td *matFooterCellDef class="br f-600 p-8 proximaFont text-left" mat-footer-cell>Grand Total
              </td>

            </ng-container>

            <ng-container matColumnDef="amtInvested">
              <th *matHeaderCellDef class="br text-left" mat-header-cell mat-sort-header="amtInvested">
                Amount invested
              </th>
              <td *matCellDef="let element" class="br text-left" mat-cell>
                <div class="bar"><span
                  appFormatNumber>{{isLoading ? '' : ((element.totalTransactionAmt) ? element.totalTransactionAmt : 0)}}</span>
                </div>
              </td>
              <td *matFooterCellDef [value]="grandTotal.totalTransactionAmt" appFormatNumber class="br f-600 text-right"
                  mat-footer-cell>
                <!-- <div appFormatNumber [value]="grandTotal.totalTransactionAmt"></div> -->
              </td>

            </ng-container>

            <ng-container matColumnDef="currentValue">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="currentValue">
                Current value
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span
                  appFormatNumber>{{isLoading ? '' : ((element.currentValue) ? element.currentValue : 0)}}</span></div>
              </td>
              <td *matFooterCellDef [value]="grandTotal.currentValue" appFormatNumber class="br f-600 text-right"
                  mat-footer-cell>
                <!--                  <div>{{ grandTotal.currentValue }}</div>-->
              </td>

            </ng-container>
            <ng-container matColumnDef="dividendPayout">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="dividendPayout">
                Dividend payout
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span
                  appFormatNumber>{{isLoading ? '' : ((element.dividendPayout) ? element.dividendPayout : 0)}}</span>
                </div>
              </td>
              <td *matFooterCellDef [value]="grandTotal.dividendPayout" appFormatNumber class="br f-600 text-right"
                  mat-footer-cell>
                <!--                  <div> {{ grandTotal.dividendPayout }}</div>-->
              </td>

            </ng-container>

            <ng-container matColumnDef="dividendReinvest">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="dividendReinvest">
                Dividend reinvestment
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span
                  appFormatNumber>{{isLoading ? '' : ((element.dividendReinvest) ? element.dividendReinvest : 0)}}</span>
                </div>
              </td>
              <td *matFooterCellDef [value]="grandTotal.dividendReinvest" appFormatNumber class="br f-600 text-right"
                  mat-footer-cell>
                <!--                  <div> {{ grandTotal.dividendReinvest}}</div>-->
              </td>

            </ng-container>

            <ng-container matColumnDef="gain">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="gain">
                Gain
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span
                  appFormatNumber>{{isLoading ? '' : ((element.totalGain) ? (element.totalGain | number:'1.2-2') : 0)}}</span>
                </div>
              </td>
              <td *matFooterCellDef [value]="grandTotal.totalGain" appFormatNumber class="br f-600 text-right"
                  mat-footer-cell>
                <!--                  <div>{{ grandTotal.totalGain}}</div>-->
              </td>

            </ng-container>

            <ng-container matColumnDef="absReturn">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="absReturn">
                Absolute Return%
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span
                  appFormatNumber>{{isLoading ? '' : ((element.absReturn) ? (element.absReturn | number:'1.2-2') : 0)}}</span>
                </div>
              </td>
              <td *matFooterCellDef [value]="grandTotal.absReturn" appFormatNumber class="br f-600 text-right"
                  mat-footer-cell>
                <!--                  {{ grandTotal.totalGain}}-->
              </td>

            </ng-container>

            <ng-container matColumnDef="xirr">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="xirr">
                Xirr%
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span
                  appFormatNumber>{{isLoading ? '' : ((element.xirr) ? (element.xirr | number:'1.2-2') : 0)}}</span>
                </div>
              </td>
              <td *matFooterCellDef [value]="grandTotal.xirr" appFormatNumber class="br f-600 text-right"
                  mat-footer-cell>
                <!--                  {{ grandTotal.xirr }}-->
              </td>

            </ng-container>

            <ng-container matColumnDef="allocation" sticky>
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="allocation">
                Allocation%
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span
                  appFormatNumber>{{isLoading ? '' : ((element.allocationPer) ? (element.allocationPer | number:'1.2-2') : 0)}}</span>
                </div>
              </td>
              <td *matFooterCellDef [value]="grandTotal.allocationPer" appFormatNumber class="br f-600 text-right"
                  mat-footer-cell>
                <!--                  {{ grandTotal.allocationPer }}-->
              </td>

            </ng-container>
            <tr *matHeaderRowDef="displayedColumns2; sticky: true" mat-header-row></tr>
            <tr *matRowDef="let row; columns: displayedColumns2;" mat-row></tr>
            <tr *matFooterRowDef="displayedColumns2;sticky: true" [hidden]="isLoading" mat-footer-row></tr>


          </table>
          <!--          </cdk-virtual-scroll-viewport>-->
          <div *ngIf="dataSource.data.length == 0" class="d-flex flex-column align-items-center">
            <img class="width300" src="assets/images/svg/noDataFound.svg">
            <h4 class="text-center pt-12"> No data found</h4>
          </div>
        </div>
      </div>
      <div class="row">
        <div [ngClass]="{'table-scroll':isLoading==false }" class="col-md-12 pl-0 mb-8">
          <!--          <cdk-virtual-scroll-viewport tvsItemSize class="wrapper mat-elevation-z2">-->
          <table #tableEl [appSkeletonLoading]="isLoading" [dataSource]="customDataSource" appSkeletonLoading
                 class="mutualfunds-capital-equity skeletonAnimation" mat-table
                 matSort>
            <ng-container matColumnDef="no" sticky>
              <th *matHeaderCellDef class="br" mat-header-cell>Sr no.</th>
              <td *matCellDef="let element;index as i" class="br" mat-cell>
                <div class="bar"><span *ngIf="element.fwTransactionType">{{ i + 1 }}</span></div>
              </td>
              <td *matFooterCellDef class="br  text-right" mat-footer-cell></td>
            </ng-container>

            <ng-container matColumnDef="transactionType">
              <th *matHeaderCellDef class="br" mat-header-cell mat-sort-header="transactionType"> Transaction
                Type
              </th>
              <td *matCellDef="let element" class="br" mat-cell>
                <div class="bar"><span *ngIf="element.total=='Total'" class="f-700">{{element.total}}</span>
                  <span *ngIf="element.fwTransactionType">{{element.fwTransactionType}}</span>
                </div>
              </td>
              <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-left">Grand Total
              </td> -->

            </ng-container>

            <ng-container matColumnDef="transactionDate">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="transactionDate">
                Transaction date
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div
                  class="bar">{{isLoading ? '' : ((element.transactionDate) ? element.transactionDate : '-')}} </div>
              </td>
              <!-- <td *matFooterCellDef appFormatNumber class="br text-right" mat-footer-cell>
              </td> -->

            </ng-container>

            <ng-container matColumnDef="transactionAmount">
              <th *matHeaderCellDef class="br text-left" mat-header-cell mat-sort-header="transactionAmount">
                Transaction amount
              </th>
              <td *matCellDef="let element" class="br text-left" mat-cell>
                <div class="bar"><span *ngIf="element.amount"
                                       appFormatNumber>{{isLoading ? '' : ((element.amount) ? element.amount : 0)}}</span>
                  <span *ngIf="element.totalTransactionAmt" appFormatNumber
                        class="f-700">{{isLoading ? '' : ((element.totalTransactionAmt) ? element.totalTransactionAmt : 0)}}</span>
                </div>
              </td>
              <!-- <td *matFooterCellDef appFormatNumber [value]="grandTotal.totalTransactionAmt" class="br f-600 text-right" mat-footer-cell> -->
              <!--                  <div class="bar"> {{ grandTotal.totalTransactionAmt }}-->
              <!--                  </div>-->
              <!-- </td> -->

            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="transactionNav">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="transactionNav">
                Transaction NAV
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span *ngIf="element.amount"
                                       appFormatNumber>{{isLoading ? '' : ((element.transactionNav) ? element.transactionNav : '0')}}</span>
                  <span *ngIf="element.totalNav" appFormatNumber
                        class="f-700">{{isLoading ? '' : ((element.totalNav) ? element.totalNav : 0)}}</span>
                </div>
              </td>
              <!-- <td *matFooterCellDef appFormatNumber [value]="grandTotal.totalNav" class="br f-600 text-right" mat-footer-cell> -->
              <!--                  <div class="bar">{{ grandTotal.totalNav }}-->
              <!--                  </div>-->
              <!-- </td> -->

            </ng-container>

            <ng-container matColumnDef="units">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="units">Units</th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span *ngIf="element.unit"
                                       appFormatNumber>{{isLoading ? '' : ((element.unit) ? element.unit : 0)}}</span>
                  <span *ngIf="element.totalUnit" appFormatNumber
                        class="f-700">{{isLoading ? '' : ((element.totalUnit) ? element.totalUnit : 0)}}</span>
                </div>
              </td>
              <!-- <td *matFooterCellDef appFormatNumber [value]="grandTotal.finalTotalUnit" class="br f-600 text-right" mat-footer-cell> -->
              <!--                  {{ grandTotal.finalTotalUnit }}-->
              <!-- </td> -->

            </ng-container>

            <ng-container matColumnDef="currentValue">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="currentValue">
                Current value
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span
                  appFormatNumber>{{isLoading ? '' : ((element.currentValue) ? element.currentValue : 0)}}</span>
                </div>
              </td>
              <!-- <td *matFooterCellDef appFormatNumber [value]="grandTotal.currentValue" class="br f-600 text-right" mat-footer-cell> -->
              <!--                  {{ grandTotal.currentValue }}-->
              <!-- </td> -->

            </ng-container>
            <ng-container matColumnDef="dividendPayout">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="dividendPayout">
                Dividend payout
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span
                  appFormatNumber>{{isLoading ? '' : ((element.dividendPayout) ? element.dividendPayout : 0)}}</span>
                </div>
              </td>
              <!-- <td *matFooterCellDef appFormatNumber [value]="grandTotal.dividendPayout" class="br f-600 text-right" mat-footer-cell> -->
              <!--                  {{ grandTotal.dividendPayout }}-->
              <!-- </td> -->

            </ng-container>
            <ng-container matColumnDef="dividendReinvest">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="dividendReinvest">
                Dividend reinvestment
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span appFormatNumber>{{element.dividendReinvest}}</span></div>
              </td>
              <!-- <td *matFooterCellDef appFormatNumber [value]="grandTotal.dividendReinvest" class="br f-600 text-right" mat-footer-cell> -->
              <!--                  {{ grandTotal.dividendReinvest }}-->
              <!-- </td> -->

            </ng-container>
            <ng-container matColumnDef="totalAmount">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="totalAmount">
                Total amount
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span
                  appFormatNumber>{{isLoading ? '' : ((element.totalAmount) ? element.totalAmount : 0)}}</span></div>
              </td>
              <!-- <td *matFooterCellDef appFormatNumber [value]="grandTotal.totalAmount" class="br f-600 text-right" mat-footer-cell> -->
              <!--                  {{ grandTotal.totalAmount }}-->
              <!-- </td> -->

            </ng-container>

            <ng-container matColumnDef="gain">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="gain">
                Gain
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span
                  appFormatNumber> {{isLoading ? '' : ((element.gain) ? element.gain : 0)}}</span></div>
              </td>
              <!-- <td *matFooterCellDef appFormatNumber [value]="grandTotal.totalGain" class="br f-600 text-right" mat-footer-cell> -->
              <!--                  {{ grandTotal.totalGain }}-->
              <!-- </td> -->

            </ng-container>

            <ng-container matColumnDef="absReturn">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="absReturn">
                Absolute Return%
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span
                  appFormatNumber>{{isLoading ? '' : ((element.absReturn) ? element.absReturn : 0)}}</span></div>
              </td>
              <!-- <td *matFooterCellDef appFormatNumber [value]="grandTotal.absReturn" class="br f-600 text-right" mat-footer-cell> -->
              <!--                  {{ grandTotal.absReturn }}-->
              <!-- </td> -->

            </ng-container>

            <ng-container matColumnDef="xirr">
              <th *matHeaderCellDef class="br text-right" mat-header-cell mat-sort-header="xirr">
                Xirr%
              </th>
              <td *matCellDef="let element" class="br text-right" mat-cell>
                <div class="bar"><span appFormatNumber>{{isLoading ? '' : ((element.xirr) ? element.xirr : 0)}}</span>
                </div>
              </td>
              <!-- <td *matFooterCellDef appFormatNumber [value]="grandTotal.xirr" class="br f-600 text-right" mat-footer-cell> -->
              <!--                  {{ grandTotal.xirr }}-->
              <!-- </td> -->

            </ng-container>

            <ng-container matColumnDef="groupHeader">
              <td *matCellDef="let group" [attr.colspan]="displayedColumns.length" class="text-center text-primary">
                <div class="bar">{{group.groupName}}
                </div>
              </td>
            </ng-container>

            <ng-container matColumnDef="groupHeader2">
              <td *matCellDef="let group" [attr.colspan]="displayedColumns.length">
                <div class="bar">{{group.schemeName}} <p class="text-right">Current NAV:{{group.nav}}</p>
                </div>
              </td>
            </ng-container>

            <ng-container matColumnDef="groupHeader3" sticky>
              <td *matCellDef="let group" [attr.colspan]="displayedColumns.length" class="text-center text-primary">
                <div class="bar">{{group.name}}(PAN:{{group.pan}})|{{group.folio}}</div>
              </td>
            </ng-container>

            <tr *matHeaderRowDef="displayedColumns; sticky: true" mat-header-row></tr>
            <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
            <tr *matRowDef="let row; columns: ['groupHeader']; when: isGroup" mat-row></tr>
            <tr *matRowDef="let row; columns: ['groupHeader2']; when: isGroup2" mat-row></tr>
            <tr *matRowDef="let row; columns: ['groupHeader3']; when: isGroup3" mat-row></tr>
            <!-- <tr *matRowDef="let row; columns: ['groupHeader4']; when: isGroup4" mat-row></tr> -->
            <!-- <tr mat-footer-row *matFooterRowDef="displayedColumns;sticky: true" [hidden]="isLoading"></tr> -->

          </table>
          <!--          </cdk-virtual-scroll-viewport>-->
          <div *ngIf="customDataSource.data.length == 0" class="d-flex flex-column align-items-center">
            <!-- <img class="width300" src="assets/images/svg/noDataFound.svg"> -->
            <h4 class="text-center pt-12"> No data found</h4>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div #unrealizedTranTemplate id="template" class="hide">
  <table style="width: 100%;border-collapse: collapse;font-family: Roboto,sans-serif;">
    <tr colspan="12">
      <td style="font-size: 18px;line-height: 20px;color: #000000 !important;padding-top: 20px;padding-bottom: 20px;">
        Mutual fund  {{(this.mutualFund) ? this.mutualFund.viewMode : 'Transactions'}}</td>
    </tr>
    <tr style="background-color: #F5F7F7;height: 40px;border: 1px solid #DADCE0;">
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Sub category name
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Amount invested
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Current value
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Dividend payout
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Dividend reinvestment
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Gain
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Absolute Return%
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Xirr%
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;">
        Allocation%
      </td>
    </tr>
    <tr *ngFor="let item of dataSource.data"
        style="border-left: 1px solid #DADCE0;border-bottom: 1px solid #DADCE0;height: 40px !important;">
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">{{item.categoryName}}</td>
      <td
        appFormatNumber
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">{{(item.totalTransactionAmt) ? item.totalTransactionAmt : 0}}</td>
      <td
        appFormatNumber
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;">{{(item.currentValue) ? item.currentValue : 0}}</td>
      <td
        appFormatNumber
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;">{{(item.dividendPayout) ? item.dividendPayout : 0}}</td>
      <td
        appFormatNumber
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;">{{(item.dividendReinvest) ? item.dividendReinvest : 0}}</td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;">{{(item.totalGain) ? (item.totalGain | number:'1.2-2') : 0}}</td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;">{{(item.absReturn) ? (item.absReturn | number:'1.2-2') : 0}}</td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;">{{(item.xirr) ? (item.xirr | number:'1.2-2') : 0}}</td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;">{{(item.allocationPer) ? (item.allocationPer | number:'1.2-2') : 0}}</td>
    </tr>
    <tr
      style="font-weight: 700;border-left: 1px solid #DADCE0;border-bottom: 1px solid #DADCE0;height: 40px !important;">
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Grand Total
      </td>
      <td
        [value]="grandTotal.totalTransactionAmt"
        appFormatNumber
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;"></td>
      <td
        [value]="grandTotal.currentValue"
        appFormatNumber
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;"></td>
      <td
        [value]="grandTotal.dividendPayout"
        appFormatNumber
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;"></td>
      <td
        [value]="grandTotal.dividendReinvest"
        appFormatNumber
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;"></td>
      <td
        [value]="grandTotal.totalGain"
        appFormatNumber
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;"></td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;">{{(grandTotal.absReturn) ? (grandTotal.absReturn | number:'1.2-2') : 0}}</td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;">{{(grandTotal.xirr) ? (grandTotal.xirr | number:'1.2-2') : 0}}</td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;text-align: right;">{{(grandTotal.allocationPer) ? (grandTotal.allocationPer | number:'1.2-2') : 0}}</td>
    </tr>
  </table>

  <br><br><br><br><br>

  <table style="width: 100%;border-collapse: collapse;font-family: Roboto,sans-serif;">
    <tr style="background-color: #F5F7F7;height: 40px;border: 1px solid #DADCE0;">
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Sr no.
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Transaction Type
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Transaction date
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Transaction amount
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Transaction NAV
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Units
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Current value
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Dividend payout
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Dividend reinvestment
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Total amount
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Gain
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Absolute Return%
      </td>
      <td
        style="padding: 7px 8px;font-weight: 600;font-size: 13px !important;line-height: 16px !important;color: #202020;">
        Xirr%
      </td>
    </tr>
  </table>
  <table *ngFor="let item of customDataSource.data ;index as i"
         style="width: 100%;border-collapse: collapse;font-family: Roboto,sans-serif;">

    <!-- <tr>
      <td colspan="13" style="color: #008FFF;text-align: center; padding: 12px 8px !important;line-height: 16px !important;font-size: 14px;border-left: 1px solid #DADCE0;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0;">{{item.groupName}}</td>
    </tr> -->
    <div
      *ngIf="item.groupName"
      style="width: 99.85%;text-align: center;color: #008FFF;text-align: center; padding-top: 12px !important;padding-bottom: 12px !important;line-height: 16px !important;font-size: 14px;border-left: 1px solid #DADCE0;border-right: 1px solid #DADCE0; border-bottom: 1px solid #DADCE0;font-family: Roboto,sans-serif;">
      {{item.groupName}}
    </div>
    <!-- <tr>
      <td colspan="10" style="color: #212121;text-align: left; padding: 12px 8px !important;line-height: 16px !important;font-size: 14px;border-left: 1px solid #DADCE0;border-bottom: 1px solid #DADCE0; ">{{item.schemeName}}</td>
      <td colspan="3" style="border-right: 1px solid #DADCE0;">Current NAV:{{item.nav}}</td>
    </tr> -->
    <div style="width: 100%;" *ngIf="item.schemeName || item.nav">
      <div
        style="width: 66%;float:left;text-align: center;color: #008FFF;text-align: center;  padding-top: 12px !important;padding-bottom: 12px !important;line-height: 16px !important;font-size: 14px;border-left:1px solid  #DADCE0;font-family: Roboto,sans-serif;">
        {{item.schemeName}}
      </div>
      <div
        style="width: 28%;float: right; border-right:1px solid  #DADCE0;border-left:1px solid  #DADCE0;padding-top: 12px !important;padding-bottom: 12px !important;padding-left: 20px;font-family: Roboto,sans-serif;">
        Current NAV:{{item.nav}}
      </div>
    </div>
    <tr *ngIf="item.fwTransactionType || item.category" style="height: 40px;border: 1px solid #DADCE0;">
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">{{i + 1}}</td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        <span *ngIf="item.fwTransactionType"> {{(item.fwTransactionType) ? item.fwTransactionType : '-'}} </span></td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">  {{(item.transactionDate) ? item.transactionDate : '-'}} </td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        <span *ngIf="item.amount" appFormatNumber>{{(item.amount) ? item.amount : 0}}</span></td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        <span *ngIf="item.transactionNav" appFormatNumber>{{(item.transactionNav) ? item.transactionNav : '0'}}</span>
      </td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        <span *ngIf="item.unit" appFormatNumber>{{(item.unit) ? item.unit : 0}}</span></td>
      <td
        appFormatNumber
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">  {{(item.currentValue) ? item.currentValue : 0}} </td>
      <td
        appFormatNumber
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   {{(item.dividendPayout) ? item.dividendPayout : 0}} </td>
      <td
        appFormatNumber
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   {{(item.dividendReinvest) ? item.dividendReinvest : 0}} </td>
      <td
        appFormatNumber
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   {{(item.totalAmount) ? item.totalAmount : 0}} </td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   {{(item.gain) ? item.gain : 0}} </td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   {{(item.absReturn) ? item.absReturn : 0}} </td>
      <td
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   {{(item.xirr) ? item.xirr : 0}} </td>
    </tr>
    <tr style="height: 40px;border: 1px solid #DADCE0;" *ngIf="item.total">
      <td
        class="f-700"
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">
        Total
      </td>
      <td
        class="f-700"
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;"></td>
      <td
        class="f-700"
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;"><span
        *ngIf="item.totalTransactionAmt" appFormatNumber
        class="f-700">{{(item.totalTransactionAmt) ? item.totalTransactionAmt : 0}}</span>
      </td>
      <td
        class="f-700"
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;"><span
        *ngIf="item.totalNav" appFormatNumber
        class="f-700">{{(item.totalNav) ? item.totalNav : 0}}</span></td>
      <td
        class="f-700"
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;"><span
        *ngIf="item.totalUnit" appFormatNumber
        class="f-700">{{(item.totalUnit) ? item.totalUnit : 0}}</span></td>
      <td
        appFormatNumber
        class="f-700"
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">  {{(item.currentValue) ? item.currentValue : 0}} </td>
      <td
        appFormatNumber
        class="f-700"
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   {{(item.dividendPayout) ? item.dividendPayout : 0}} </td>
      <td
        appFormatNumber
        class="f-700"
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   {{(item.dividendReinvest) ? item.dividendReinvest : 0}} </td>
      <td
        appFormatNumber
        class="f-700"
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   {{(item.totalAmount) ? item.totalAmount : 0}} </td>
      <td
        class="f-700"
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   {{(item.totalGain) ? item.totalGain : 0}} </td>
      <td
        class="f-700"
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   {{(item.absReturn) ? item.absReturn : 0}} </td>
      <td
        class="f-700"
        style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   {{(item.xirr) ? item.xirr : 0}} </td>
    </tr>
  </table>
  <!-- <tr style="height: 40px;border: 1px solid #DADCE0;">
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;"> 2 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">  Redemption  </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">  - </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">  5,000</td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">  0 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;"> 0 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">  223 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   0 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   0 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   0 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   0 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   0 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   0 </td>
  </tr> -->
  <!-- <tr style="height: 40px;border: 1px solid #DADCE0;font-weight:700;">
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">  </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">  Total  </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">  - </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">  10,581</td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;"> 446 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">  0 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   0 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   0 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   0 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   0 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   0 </td>
    <td style="padding: 7px 8px;font-size: 13px !important;line-height: 16px !important;color: #202020;border-right: 1px solid #DADCE0;">   0 </td>
  </tr> -->
</div>
