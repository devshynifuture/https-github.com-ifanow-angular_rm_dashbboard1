<div>
    <div class="p-8">
        <div class="row pt-0">
            <div class="col-md-6 pl-0 c-p" *ngIf="dataSource.data?.length > 0 && dataSource2.data?.length>0  && dataSource3.data?.length>0 && dataSource4.data?.length>0 ">
                <h4 class="m-0 text-black roboto pt-8">Mutual fund overview</h4>
                <p class="m-0 text-custom f-13">A quick summary of all your mutual fund holdings</p>
            </div>
            <div class="col-md-6 p-0 justify-content-end d-flex align-items-center " *ngIf="!isLoading">
                <div class="pdfClass">
                    <a [matMenuTriggerFor]="menu5" class="c-p downloadPdfIcon b-0">
                        <img src="assets/images/svg/mf-donwload.svg" *ngIf="!fragmentData.isSpinner"> </a>

                    <mat-menu #menu5="matMenu">
                        <button (click)="generatePdf()" mat-menu-item>PDF
                        </button>
                        <!-- <button (click)="Excel('Mutual fund transactions')" mat-menu-item>XLS</button> -->
                        <button (click)="generateUpload(null)" mat-menu-item>UPLOAD
                        </button>
                    </mat-menu>
                    <mat-spinner [diameter]="30" *ngIf="fragmentData.isSpinner"></mat-spinner>
                </div>
                <button mat-stroked-button class="btn-default addon mr-12 v-middle" (click)="openFilter()"><i
                        class="material-icons">filter_list</i>FILTERS</button>

                <!-- put that code here Gayatri Pawar -->

                <!-- end -->
                <!-- <button mat-stroked-button class="btn-primary addon v-middle" (click)="openMutualFund('addMutualFund',null)"  [matMenuTriggerFor]="menu1">ADD
                    NEW</button> -->
                <button mat-stroked-button class="btn-primary addon v-middle" (click)="openMutualFund('addMutualFund',null)">ADD
                    NEW</button>
                <!-- <mat-menu #menu1="matMenu" class="add-new"> -->
                <!-- <button (click)="openMutualFund('addPortfolio',null)" mat-menu-item class="b-b t-t">
                        <div class="row">
                            <div class="col-md-2 pr-8 text-right">
                                <img src="assets/images/svg/dark-three-dot.svg">
                            </div>
                            <div class="col-md-10">
                                <span class="m-0 text-black">Portfolio summary</span>
                                <p class="m-0 f-13 pt-4 text-custom">Add just the overall portfolio
                                    <br> summary. Time saver!
                                </p>
                            </div>
                        </div>
                    </button> -->
                <!-- <button (click)="openMutualFund('addMutualFund',null)" mat-menu-item class="b-b">
                        <div class="row">
                            <div class="col-md-2 pr-8 text-right">
                                <img src="assets/images/svg/scheme-icon.svg">
                            </div>
                            <div class="col-md-10">
                                <p class="m-0 text-black">
                                    Add Mutual Fund & Scheme level
                                    <br>
                                    transactions</p>
                                <p class="m-0 pt-4 f-13 text-custom">Add Mutual Fund & transaction data
                                    at<br> scheme level for better reporting
                                </p>
                            </div>
                        </div>
                    </button> -->
                <!-- <button (click)="openMutualFund('transaction',null)" mat-menu-item>
                        <div class="row">
                            <div class="col-md-2 pr-8 text-right">
                                <img src="assets/images/svg/dark-download.svg">
                            </div>
                            <div class="col-md-10">
                                <p class="m-0 text-black">Import data</p>
                                <p class="m-0 pt-4 f-13 text-custom">Add transaction data at
                                    <br> scheme level for better reporting
                                </p>
                            </div>
                        </div>
                    </button> -->
                <!-- </mat-menu> -->
            </div>
        </div>
        <div class=" skeletonAnimation" *ngIf="showSummaryBar" appSkeletonLoading [appSkeletonLoading]="isLoading">
            <div class="row pt-4 w-1024">
                <div class="col-md-5 pr-4 pl-0">
                    <div class="row b-a">
                        <div class="col-md-12 bg-grey lter p-0">
                            <h5 class="mb-0 wrapper-8 pt-12 pb-16 text-black b-b">Summary <img src="assets/images/svg/info.svg" class="c-p hw-17" matTooltip="The calculations in this section relate to held portfolio only (i.e. only those transactions of a folio where unit balance is > 0)" [matTooltipPosition]="'right'">
                            </h5>
                        </div>
                        <div class="col-md-12 p-0">
                            <p class="m-0 text-custom pt-24 pl-8">Current value</p>
                            <div class="relClass">
                                <div class="bar" [ngClass]="{'heightNew24': isLoading}">
                                    <h2 class="m-0 f-300 text-black pt-4 pl-8 pb-20 ">
                                        <span appFormatNumber *ngIf="!isLoading" [value]="mfData.total_current_value ? mfData.total_current_value : 0"></span>
                                        <!-- <span *ngIf="isLoading"> {{''}}</span> -->
                                        <span *ngIf="!isLoading" class="left">{{'₹'}} </span> <span *ngIf="isLoading">{{''}}
                                        </span>
                                    </h2>
                                </div>
                            </div>


                        </div>
                        <div class="col-md-12 p-0">
                            <div class="row bg-light lter pt-16 pb-16 bt-1">
                                <div class="col-md-4 pr-0 pl-12">
                                    <p class="text-custom m-0">Amount invested</p>
                                    <h5 class="m-0 text-black relClass">
                                        <div class="bar height24">
                                            <span appFormatNumber *ngIf="!isLoading" [value]="mfData.total_amount_invested ? mfData.total_amount_invested : 0"></span>
                                            <!-- <span *ngIf="isLoading">{{''}}</span> -->
                                            <span *ngIf="!isLoading" class="left">{{'₹'}} </span> <span *ngIf="isLoading">{{''}}
                                            </span>
                                        </div>
                                    </h5>
                                </div>
                                <div class="col-md-5 pl-12">
                                    <p class="text-custom m-0">Unrealized gain/loss</p>
                                    <h5 class="m-0 text-success relClass height24">
                                        <div class="bar height24" *ngIf="isLoading"></div>
                                        <span appFormatNumber [ngClass]="{'text-success':  mfData.total_unrealized_gain >= 0,'text-danger': mfData.total_unrealized_gain < 0}" [value]="mfData.total_unrealized_gain ? mfData.total_unrealized_gain : 0" *ngIf="!isLoading"></span>
                                        <span *ngIf="!isLoading" class="left" [ngClass]="{'text-success':  mfData.total_unrealized_gain >= 0,'text-danger': mfData.total_unrealized_gain < 0}">{{'₹'}}
                                        </span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </h5>
                                </div>
                                <div class="col-md-3 pl-0">
                                    <p class="text-custom m-0">Returns</p>
                                    <h5 class="m-0 relClass height24">
                                        <div class="bar height24">
                                            <span *ngIf="(mfData) ? (mfData.total_xirr >= 0) : 0 && !isLoading" class="text-success">{{(isLoading) ? '' :((mfData.total_xirr) ? (mfData.total_xirr | number:'1.2-2') : (mfData.total_xirr == 0 || mfData.total_xirr == 'Infinity') ? (mfData.total_absolute_return | number:'1.2-2') : 0)}}{{!isLoading ? '%' : ''}}</span>
                                            <i class="material-icons f-14 f-700 text-success" *ngIf="!isLoading || (mfData) ? (mfData.total_xirr >= 0) : 0">
                                                <span *ngIf="!isLoading">arrow_upward</span>
                                            </i>
                                            <span *ngIf="(mfData) ? (mfData.total_xirr < 0) : 0 && !isLoading" class="text-danger">{{(isLoading) ? '' :((mfData.total_xirr) ? (mfData.total_xirr | number:'1.2-2') : (mfData.total_xirr == 0 || mfData.total_xirr == 'Infinity') ? (mfData.total_absolute_return | number:'1.2-2') : 0)}}{{!isLoading ? '%' : ''}}</span>
                                            <i class="material-icons f-14 f-700 text-danger" *ngIf="!isLoading || (mfData) ? (mfData.total_xirr < 0) : 0">
                                                <span *ngIf="!isLoading">arrow_downward</span>
                                            </i>
                                        </div>
                                    </h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-7 pl-4 pr-0">
                    <div class="row">
                        <div class="col-md-4 p-0 b-a pie-chart-center">
                            <div class="highcharts-figure" id="piechartMutualFund"></div>
                        </div>
                        <div class="col-md-8 b-a bl-0 p-0">
                            <div class="row b-b pt-10 pb-10">
                                <div class="col-md-1">
                                    <div class="hw-16 mt-2 bg-primary"></div>
                                </div>
                                <div class="col-md-5">
                                    <p class="f-500 text-black mb-0">Equity</p>
                                </div>
                                <div class="col-md-4 relClass ">
                                    <div class="bar height24">
                                        <p class="text-black mb-0 text-right">{{(isLoading) ? '' : '₹'}}
                                            <span appFormatNumber *ngIf="this.equityCurrentValue && !isLoading">
                                                {{(this.equityCurrentValue)?this.equityCurrentValue:0}}</span><span appFormatNumber *ngIf="!this.equityCurrentValue && !isLoading">
                                                0</span>
                                            <span *ngIf="isLoading">{{''}}</span>
                                        </p>
                                    </div>
                                </div>
                                <div class="col-md-2 relClass pl-8">
                                    <div class="bar height24">
                                        <p class="text-black mb-0 text-right"><span appFormatNumber *ngIf="this.equityPercentage && !isLoading">{{(this.equityPercentage)?(this.equityPercentage | number:'1.2-2'):'0'}}%</span><span appFormatNumber *ngIf="!this.equityPercentage && !isLoading">0.00%</span>
                                            <span *ngIf="isLoading">{{''}}</span>

                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="row b-b pt-10 pb-10 pb-12">
                                <div class="col-md-1">
                                    <div class="hw-16 mt-2 bg-success"></div>
                                </div>
                                <div class="col-md-5">
                                    <p class="f-500 text-black mb-0">Debt</p>
                                </div>
                                <div class="col-md-4 relClass ">
                                    <div class="bar height24">
                                        <p class="text-black mb-0 text-right">{{(isLoading) ? '' : '₹'}}<span appFormatNumber *ngIf="this.debtCurrentValue && !isLoading">
                                                {{(this.debtCurrentValue)?this.debtCurrentValue:0}}</span><span appFormatNumber *ngIf="!this.debtCurrentValue && !isLoading"> 0</span>
                                            <span *ngIf="isLoading">{{''}}</span>

                                        </p>
                                    </div>
                                </div>
                                <div class="col-md-2 relClass pl-8">
                                    <div class="bar height24">
                                        <p class="text-black mb-0 text-right"><span appFormatNumber *ngIf="this.debtPercentage && !isLoading">{{(this.debtPercentage) ? (this.debtPercentage | number:'1.2-2') : '0'}}%</span><span appFormatNumber *ngIf="!this.debtPercentage && !isLoading ">0.00%</span>
                                            <span *ngIf="isLoading">{{''}}</span>

                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="row b-b pt-10 pb-10">
                                <div class="col-md-1">
                                    <div class="hw-16 mt-2 bg-warning"></div>
                                </div>
                                <div class="col-md-5">
                                    <p class="f-500 text-black mb-0">Hybrid</p>
                                </div>
                                <div class="col-md-4 relClass ">
                                    <div class="bar height24">
                                        <p class="text-black mb-0 text-right">{{(isLoading) ? '' : '₹'}}<span appFormatNumber *ngIf="this.hybridCurrentValue && !isLoading">
                                                {{(this.hybridCurrentValue)?this.hybridCurrentValue:0}}</span><span appFormatNumber *ngIf="!this.hybridCurrentValue && !isLoading">
                                                0</span>
                                            <span *ngIf="isLoading">{{''}}</span>

                                        </p>
                                    </div>
                                </div>
                                <div class="col-md-2 relClass pl-8">
                                    <div class="bar height24">
                                        <p class="text-black mb-0 text-right"><span appFormatNumber *ngIf="this.hybridPercenatge && !isLoading">{{(this.hybridPercenatge) ? (this.hybridPercenatge | number:'1.2-2') : '0'}}%</span><span appFormatNumber *ngIf="!this.hybridPercenatge && !isLoading ">0.00%</span>
                                            <span *ngIf="isLoading">{{''}}</span>

                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="row b-b pt-10 pb-10">
                                <div class="col-md-1">
                                    <div class="hw-16 mt-2 bg-danger"></div>
                                </div>
                                <div class="col-md-5 ">
                                    <p class="f-500 text-black mb-0">Solution oriented</p>
                                </div>
                                <div class="col-md-4 relClass ">
                                    <div class="bar height24">
                                        <p class="text-black mb-0 text-right">{{(isLoading) ? '' : '₹'}}
                                            <span appFormatNumber *ngIf="this.solution_OrientedCurrentValue && !isLoading">
                                                {{(this.solution_OrientedCurrentValue)?this.solution_OrientedCurrentValue:0}}</span><span appFormatNumber *ngIf="!this.solution_OrientedCurrentValue && !isLoading">0</span>

                                        </p>
                                    </div>
                                </div>
                                <div class="col-md-2 relClass pl-8">
                                    <div class="bar height24">
                                        <p class="text-black mb-0 text-right"><span appFormatNumber *ngIf="this.solution_OrientedPercenatge && !isLoading">{{(this.solution_OrientedPercenatge) ? (solution_OrientedPercenatge | number:'1.2-2') : '0'}}%</span><span appFormatNumber *ngIf="!this.solution_OrientedPercenatge && !isLoading ">0.00%</span>
                                        </p>

                                    </div>
                                </div>
                            </div>
                            <div class="row pt-10 pb-10">
                                <div class="col-md-1">
                                    <div class="hw-16 mt-2 bg-grey dker"></div>
                                </div>
                                <div class="col-md-5">
                                    <p class="f-500 text-black mb-0">Others</p>
                                </div>
                                <div class="col-md-4 relClass ">
                                    <div class="bar height24">
                                        <p class="text-black mb-0 text-right">{{(isLoading) ? '' : '₹'}}<span appFormatNumber *ngIf="this.otherCurrentValue && !isLoading">
                                                {{(this.otherCurrentValue)?this.otherCurrentValue:0}}</span><span appFormatNumber *ngIf="!this.otherCurrentValue && !isLoading"> 0</span>
                                        </p>
                                    </div>
                                </div>
                                <div class="col-md-2 relClass pl-8">
                                    <div class="bar height24 ">
                                        <p class="text-black mb-0 text-right"><span appFormatNumber *ngIf="this.otherPercentage && !isLoading">{{(this.otherPercentage) ? (this.hybridPercenatge | number:'1.2-2') : '0'}}%</span><span appFormatNumber *ngIf="!this.otherPercentage && !isLoading ">0.00%</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="wrapper-8 pt-0">
        <div class="row pt-12 pb-12 pb-md-20">
            <div class="col-xl-6 col-lg-12 col-md-12 pr-4 mb-20 pl-0 scheme-wise" (click)="openSummary('category wise')" *ngIf="showSchemeWise || dataSource2.data.length > 0">
                <div class="bg-grey lter" *ngIf="showSchemeWise">
                    <h5 class="m-0 wrapper-8 f-500 roboto b-a pt-10 pb-10 bb-0 c-p">Scheme wise allocation</h5>
                </div>
                <div class="scheme-wise-allocation" id="table-low">
                    <table mat-table [dataSource]="dataSource2" class="skeletonAnimation" appSkeletonLoading [appSkeletonLoading]="isLoading" *ngIf="showSchemeWise">
                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef class="br c-p"> Scheme name</th>
                            <td mat-cell *matCellDef="let element" class="br c-p" style="line-height: 20px !important;">
                                <div class="bar"><span> {{(isLoading) ? '' : element.schemeName}}</span></div>
                            </td>
                            <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-left"> Total</td>
                        </ng-container>
                        <ng-container matColumnDef="amt">
                            <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> Amount invested </th>
                            <td mat-cell *matCellDef="let element" class="br text-right c-p">
                                <div class="bar"><span appFormatNumber *ngIf="!isLoading" [value]="element.amountInvested"></span>
                                    <span *ngIf="isLoading">{{''}}</span>
                                </div>
                            </td>
                            <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar">{{(mfData.total_amount_invested)?mfData.total_amount_invested:0}}</div>
                            </td> -->
                            <td *matFooterCellDef appFormatNumber [value]="mfData.total_amount_invested" class="br f-600 text-right" mat-footer-cell>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="value">
                            <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> Current value </th>
                            <td mat-cell *matCellDef="let element" class="br text-right c-p">
                                <div class="bar"><span appFormatNumber *ngIf="!isLoading" [value]="element.currentValue">{{element.currentValue}}</span>
                                    <span *ngIf="isLoading">{{''}}</span>
                                </div>
                            </td>
                            <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar">{{(mfData.total_current_value)?mfData.total_current_value:0}}
                                </div>
                            </td> -->
                            <td *matFooterCellDef appFormatNumber [value]="mfData.total_current_value" class="br f-600 text-right" mat-footer-cell>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="abs">
                            <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> Abs Ret </th>
                            <td mat-cell *matCellDef="let element" class="br text-right c-p">
                                <div class="bar">
                                    <span *ngIf="!isLoading">
                                        {{(element.absoluteReturn == 0 || element.absoluteReturn  == 'Infinity' || element.absoluteReturn  == '-Infinity' || element.absoluteReturn  == 'NaN') ? 0 : (element.absoluteReturn) ? (element.absoluteReturn | number:'1.2-2') :  0 }}</span>
                                    <span *ngIf="isLoading"> {{''}} </span>
                                </div>
                            </td>
                            <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right c-p">
                                <div class="bar">
                                    <span *ngIf="!isLoading">
                                        {{(mfData.total_absolute_return == 0) ? 0 : (mfData.total_absolute_return) ? (mfData.total_absolute_return | number:'1.2-2') : 0}}</span>
                                </div>
                            </td>
                            <!-- <td *matFooterCellDef  appFormatNumber [value]="mfData.total_absolute_return" class="br f-600 text-right" mat-footer-cell  >
                            </td> -->
                        </ng-container>
                        <ng-container matColumnDef="xirr">
                            <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> XIRR</th>
                            <td mat-cell *matCellDef="let element" class="br text-right c-p">
                                <div class="bar">
                                    <span *ngIf="!isLoading">
                                        {{(element.xirr == 0) ? 0 : (element.xirr) ? (element.xirr | number:'1.2-2') : 0}}</span>
                                    <span *ngIf="isLoading"> {{''}}</span>
                                </div>
                            </td>
                            <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar">{{(mfData.total_xirr)?(mfData.total_xirr | number:'1.2-2'):0}}</div>
                            </td> -->
                            <td *matFooterCellDef class="br f-600 text-right" mat-footer-cell>
                                {{(mfData.total_xirr) ? (mfData.total_xirr | number:'1.2-2') : 0}}
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="alloc">
                            <th mat-header-cell *matHeaderCellDef class="text-right c-p"> Alloc</th>
                            <td mat-cell *matCellDef="let element" class="text-right c-p">
                                <div class="bar"><span *ngIf="!isLoading">{{(element.allocatedPercentage | number:'1.2-2')}}</span>
                                    <span *ngIf="isLoading">{{''}}</span>
                                </div>
                            </td>
                            <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right">
                                <div class="bar">
                                    <span appFormatNumber [value]="totalValue.allocationPer"></span>
                                </div>
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: false"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                        <tr mat-footer-row *matFooterRowDef="displayedColumns;sticky: false" [hidden]="isLoading"></tr>

                    </table>
                    <!-- <div *ngIf="dataSource2.length == 0" class="d-flex flex-column align-items-center"> -->
                    <!-- <img class="width300" src="assets/images/svg/noDataFound.svg"> -->
                    <!-- <h4 class="text-center pt-12"> No data found</h4>
                    </div> -->
                </div>
                <div class="mt-20 mb-20 pl-0" (click)="openSummary('Sub Category wise')" *ngIf="showSubCategory || dataSource3.data.length > 0">
                    <div class="bg-grey lter">
                        <h5 class="m-0 wrapper-8 b-a f-500 roboto pb-10 pt-10 bb-0 c-p">Sub category wise allocation
                        </h5>
                    </div>
                    <div class="sub-category-wise" id="table-low">
                        <table mat-table [dataSource]="dataSource3" class="skeletonAnimation" appSkeletonLoading [appSkeletonLoading]="isLoading" *ngIf="showSubCategory ">
                            <ng-container matColumnDef="name">
                                <th mat-header-cell *matHeaderCellDef class="br c-p"> Sub Category Name</th>
                                <td mat-cell *matCellDef="let element" class="br c-p">
                                    <div class="bar">
                                        <span *ngIf="!isLoading">{{element.subCategory}}</span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>

                                <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-left"> Total
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="amt">
                                <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> Amount invested </th>
                                <td mat-cell *matCellDef="let element" class="br text-right c-p">
                                    <div class="bar"><span appFormatNumber *ngIf="!isLoading" [value]="element.amountInvested"></span>
                                        <span *ngIf="isLoading">{{''}} </span>

                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar">{{(mfData.totalTransactionAmt)?mfData.totalTransactionAmt:0}}
                                </div>
                            </td> -->
                                <td *matFooterCellDef appFormatNumber [value]="mfData.total_amount_invested" class="br f-600 p-8 text-right c-p" mat-footer-cell>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="value">
                                <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> Current value </th>
                                <td mat-cell *matCellDef="let element" class="br text-right c-p">
                                    <div class="bar"><span appFormatNumber *ngIf="!isLoading" [value]="element.currentValue"></span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar">{{(mfData.currentValue)?mfData.currentValue:0}}
                                </div>
                            </td> -->
                                <td *matFooterCellDef appFormatNumber [value]="mfData.total_current_value" class="br p-8 f-600 text-right c-p" mat-footer-cell>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="abs">
                                <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> Abs Ret </th>
                                <td mat-cell *matCellDef="let element" class="br text-right c-p">
                                    <div class="bar">
                                        <span *ngIf="!isLoading">
                                            {{(element.absoluteReturn == 0 || element.absoluteReturn  == 'Infinity' || element.absoluteReturn  == '-Infinity' || element.absoluteReturn  == 'NaN') ? 0 : (element.absoluteReturn) ? (element.absoluteReturn | number:'1.2-2') :  0 }}</span>
                                        <span *ngIf="isLoading">{{''}}</span>

                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right">
                                <div class="bar">{{(mfData.absReturn)?(mfData.absReturn | number:'1.2-2'):0}}
                                </div>
                            </td> -->
                                <!-- <td *matFooterCellDef  appFormatNumber [value]="mfData.absReturn" class="br f-600 text-right" mat-footer-cell  >
                            </td> -->
                                <td mat-footer-cell *matFooterCellDef class="br f-600 c-p p-8 proximaFont text-right">
                                    <div class="bar">
                                        {{(mfData.total_absolute_return == 0) ? 0 : (mfData.total_absolute_return) ? (mfData.total_absolute_return | number:'1.2-2') : 0}}
                                    </div>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="xirr">
                                <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> XIRR</th>
                                <td mat-cell *matCellDef="let element" class="br text-right c-p">
                                    <div class="bar">
                                        <span *ngIf="!isLoading">
                                            {{(element.xirr == 0) ? 0 : (element.xirr) ? (element.xirr | number:'1.2-2') : 0}}</span>
                                        <span *ngIf="isLoading">{{''}}</span>

                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar">{{(mfData.xirr)?(mfData.xirr | number:'1.2-2'):0.00}}
                                </div>
                            </td> -->
                                <!-- <td *matFooterCellDef appFormatNumber [value]="mfData.xirr" class="br f-600 text-right" mat-footer-cell  >
                                {{mfData.xirr | number:'1.2-2'}}
                            </td> -->
                                <td mat-footer-cell *matFooterCellDef class="br f-600 c-p p-8 proximaFont text-right">
                                    <div class="bar">{{(mfData.total_xirr) ? (mfData.total_xirr | number:'1.2-2') : 0}}
                                    </div>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="alloc">
                                <th mat-header-cell *matHeaderCellDef class="text-right c-p"> Alloc</th>
                                <td mat-cell *matCellDef="let element" class="text-right c-p">
                                    <div class="bar"><span *ngIf="!isLoading">{{element.allocatedPercentage | number:'1.2-2' }}</span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar">{{7800}}</div>
                            </td> -->
                                <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 c-p proximaFont text-right">
                                    <div class="bar">
                                        <span appFormatNumber [value]="totalValue.allocationPer"></span>
                                    </div>
                                </td>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: false"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                            <tr mat-footer-row *matFooterRowDef="displayedColumns;sticky: false" [hidden]="isLoading">
                            </tr>

                        </table>
                        <!-- <div *ngIf="dataSource3.length == 0" class="d-flex flex-column align-items-center"> -->
                        <!-- <img class="width300" src="assets/images/svg/noDataFound.svg"> -->
                        <!-- <h4 class="text-center pt-12"> No data found</h4>
                    </div> -->
                    </div>
                </div>
            </div>

            <div class="col-xl-6 col-lg-12 col-md-12 pr-0 mb-20 cashflow">
                <div class="bg-grey lter" *ngIf="showCashFlow || datasource1.data.length > 0">
                    <h5 class="m-0 wrapper-8 f-500 roboto pt-10 pb-10 b-a bb-0">Cashflow status <img src="assets/images/svg/info.svg" class="c-p hw-17" matTooltip="This section calculates the cash flow status of your entire portfolio - i.e. It includes cash flows from zero balance folios too" [matTooltipPosition]="'right'"></h5>
                </div>
                <div id="table-low" *ngIf="showCashFlow || datasource1.data.length > 0" class="mb-20 cashflows-headers-hide">
                    <table mat-table [dataSource]="datasource1" class="skeletonAnimation" appSkeletonLoading [appSkeletonLoading]="isLoading">
                        <ng-container matColumnDef="data">
                            <th mat-header-cell *matHeaderCellDef class="t-55"> </th>
                            <td mat-cell *matCellDef="let element" class="t-55 ">
                                <div class="bar"><span *ngIf="!isLoading">{{element.data}}</span>
                                    <span *ngIf="isLoading">{{''}}</span>
                                </div>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="amts">
                            <th mat-header-cell *matHeaderCellDef class="br text-right"> </th>
                            <td mat-cell *matCellDef="let element" class="br text-right">
                                <div class="bar"><span appFormatNumber *ngIf="element.data != 'i. Lifetime XIRR (All Transactions)' && !isLoading" [value]="element.amts"></span>
                                    <span *ngIf="element.data == 'i. Lifetime XIRR (All Transactions)'">{{element.amts | number:'1.2-2'}}{{(isLoading) ? '' : '%'}}</span>
                                    <span *ngIf="isLoading">{{''}} </span>

                                </div>
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumns1; sticky: false"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>
                    </table>
                </div>

                <div class="pr-0 mb-20 familymember-wise" (click)="openSummary('investor wise')" *ngIf="showFamilyMember || dataSource.data.length > 0">
                    <div class="bg-grey lter">
                        <h5 class="m-0 wrapper-8 f-500 roboto pt-10 pb-10 b-a bb-0 c-p">Family member wise allocation
                        </h5>
                    </div>
                    <div class="family-member-wise-allocation" id="table-low">
                        <table mat-table [dataSource]="dataSource" class="skeletonAnimation" appSkeletonLoading [appSkeletonLoading]="isLoading" *ngIf="showFamilyMember">
                            <ng-container matColumnDef="name">
                                <th mat-header-cell *matHeaderCellDef class="br c-p"> Family Member Name </th>
                                <td mat-cell *matCellDef="let element" class="br c-p">
                                    <div class="bar">{{isLoading ? '' : ((element.name) ? element.name : '-')}}
                                    </div>
                                </td>
                                <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-left c-p">
                                    Total
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="amt">
                                <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> Amount invested </th>
                                <td mat-cell *matCellDef="let element" class="br text-right c-p">
                                    <div class="bar"><span appFormatNumber *ngIf="!isLoading" [value]="element.amountInv"></span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar"> {{(mfData.totalTransactionAmt)?mfData.totalTransactionAmt:0}}
                                </div>
                            </td> -->
                                <td *matFooterCellDef appFormatNumber [value]="mfData.total_amount_invested" class="br p-8 f-600 text-right c-p" mat-footer-cell>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="value">
                                <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> Current value </th>
                                <td mat-cell *matCellDef="let element" class="br text-right">
                                    <div class="bar"><span appFormatNumber *ngIf="!isLoading" [value]="element.currentValue"></span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar">{{(mfData.currentValue)?mfData.currentValue:0}}
                                </div>
                            </td> -->
                                <td *matFooterCellDef appFormatNumber [value]="mfData.total_current_value" class="br p-8 f-600 text-right c-p" mat-footer-cell>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="abs">
                                <th mat-header-cell *matHeaderCellDef class="br text-right"> Abs Ret </th>
                                <td mat-cell *matCellDef="let element" class="br text-right">
                                    <div class="bar">
                                        <span *ngIf="!isLoading">
                                            {{(element.absoluteReturn == 0 || element.absoluteReturn  == 'Infinity' || element.absoluteReturn  == '-Infinity' || element.absoluteReturn  == 'NaN') ? 0 : (element.absoluteReturn) ? (element.absoluteReturn | number:'1.2-2') :  0 }}</span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right">
                                <div class="bar">{{(mfData.total_absolute_return)?(mfData.total_absolute_return | number:'1.2-2'):0}}
                                </div>
                            </td> -->
                                <!-- <td *matFooterCellDef appFormatNumber  [value]="mfData.total_absolute_return" class="br f-600 text-right" mat-footer-cell  >
                            </td> -->
                                <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right c-p">
                                    {{(mfData.total_absolute_return == 0) ? 0 : (mfData.total_absolute_return) ? (mfData.total_absolute_return | number:'1.2-2') : 0}}
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="xirr">
                                <th mat-header-cell *matHeaderCellDef class="br text-right"> XIRR </th>
                                <td mat-cell *matCellDef="let element" class="br text-right">
                                    <div class="bar">
                                        <span *ngIf="!isLoading">
                                            {{(element.xirr == 0) ? 0 : (element.xirr) ? (element.xirr | number:'1.2-2') : 0}}</span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar">{{(mfData.total_xirr)?(mfData.total_xirr | number:'1.2-2'):0.00}}
                                </div>
                            </td> -->
                                <!--  <td *matFooterCellDef appFormatNumber  [value]="mfData.total_xirr" class="br f-600 text-right" mat-footer-cell  >
                                {{mfData.total_xirr | number:'1.2-2'}}
                            </td> -->
                                <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right c-p">
                                    <div class="bar">
                                        {{(mfData.total_xirr) ? (mfData.total_xirr | number:'1.2-2') : 0}}
                                    </div>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="alloc">
                                <th mat-header-cell *matHeaderCellDef class="text-right"> Alloc</th>
                                <td mat-cell *matCellDef="let element" class="text-right">
                                    <div class="bar"><span *ngIf="!isLoading">
                                            {{element.allocatedPercentage | number:'1.2-2'}}</span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar">{{7800}}</div>
                            </td> -->
                                <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right c-p">
                                    <div class="bar">
                                        <span appFormatNumber [value]="totalValue.allocationPer"></span>
                                    </div>
                                </td>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: false"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                            <tr mat-footer-row *matFooterRowDef="displayedColumns;sticky: false" [hidden]="isLoading">
                            </tr>
                        </table>
                        <!-- <div *ngIf="dataSource.length == 0" class="d-flex flex-column align-items-center"> -->
                        <!-- <img class="width300" src="assets/images/svg/noDataFound.svg"> -->
                        <!-- <h4 class="text-center pt-12"> No data found</h4>
                    </div> -->
                    </div>
                </div>

                <div class="p-0 mt-20 mb-20 familymember-wise" (click)="openSummary('category wise')" *ngIf="showCategory || dataSource4.data.length >0">
                    <div class="bg-grey lter">
                        <h5 class="m-0 wrapper-8 f-500 roboto pt-10 pb-10 b-a bb-0 c-p">Category wise allocation</h5>
                    </div>
                    <div class="category-wise-allocation" id="table-low">
                        <table mat-table [dataSource]="dataSource4" class="skeletonAnimation" appSkeletonLoading [appSkeletonLoading]="isLoading" *ngIf="showCategory">
                            <ng-container matColumnDef="name">
                                <th mat-header-cell *matHeaderCellDef class="br c-p"> Category name </th>
                                <td mat-cell *matCellDef="let element" class="br c-p">
                                    <div class="bar"><span *ngIf="!isLoading">{{element.category}}</span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>
                                <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-left c-p">
                                    Total
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="amt">
                                <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> Amount invested </th>
                                <td mat-cell *matCellDef="let element" class="br text-right c-p">
                                    <div class="bar"><span appFormatNumber *ngIf="!isLoading" [value]="element.amountInvested"></span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar">{{(mfData.total_amount_invested)?mfData.total_amount_invested:0}}
                                </div>
                            </td> -->
                                <td *matFooterCellDef appFormatNumber [value]="mfData.total_amount_invested" class="br p-8 f-600 text-right c-p" mat-footer-cell>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="value">
                                <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> Current value </th>
                                <td mat-cell *matCellDef="let element" class="br text-right c-p">
                                    <div class="bar"><span appFormatNumber [value]='element.currentValue' *ngIf="!isLoading"></span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar">{{(mfData.total_current_value)?mfData.total_current_value:0}}
                                </div>
                            </td> -->
                                <td *matFooterCellDef appFormatNumber [value]="mfData.total_current_value" class="br p-8 f-600 text-right c-p" mat-footer-cell>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="abs">
                                <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> Abs Ret</th>
                                <td mat-cell *matCellDef="let element" class="br text-right c-p">
                                    <div class="bar">
                                        <span *ngIf="!isLoading">
                                            {{(element.absoluteReturn == 0 || element.absoluteReturn  == 'Infinity' || element.absoluteReturn  == '-Infinity' || element.absoluteReturn  == 'NaN') ? 0 : (element.absoluteReturn) ? (element.absoluteReturn | number:'1.2-2') :  0 }}</span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right">
                                <div class="bar"> {{(mfData.total_absolute_return)?(mfData.total_absolute_return | number:'1.2-2'):0}}
                                </div>
                            </td> -->
                                <!--  <td *matFooterCellDef appFormatNumber [value]="mfData.total_absolute_return" class="br f-600 text-right" mat-footer-cell  >
                            </td> -->
                                <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right c-p">
                                    <div class="bar">
                                        {{(mfData.total_absolute_return == 0) ? 0 : (mfData.total_absolute_return) ? (mfData.total_absolute_return | number:'1.2-2') : 0}}
                                    </div>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="xirr">
                                <th mat-header-cell *matHeaderCellDef class="br text-right c-p"> XIRR</th>
                                <td mat-cell *matCellDef="let element" class="br text-right c-p">
                                    <div class="bar">
                                        <span *ngIf="!isLoading">
                                            {{(element.xirr == 0) ? 0 : (element.xirr) ? (element.xirr | number:'1.2-2') : 0}}</span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right">
                                <div class="bar"> {{(mfData.total_xirr)?(mfData.total_xirr | number:'1.2-2'):0.00}}
                                </div>
                            </td> -->
                                <!-- <td *matFooterCellDef appFormatNumber [value]="mfData.total_xirr" class="br f-600 text-right" mat-footer-cell  >
                                {{mfData.total_xirr | number:'1.2-2'}}
                            </td> -->
                                <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right c-p">
                                    <div class="bar">{{(mfData.total_xirr) ? (mfData.total_xirr | number:'1.2-2') : 0}}
                                    </div>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="alloc">
                                <th mat-header-cell *matHeaderCellDef class="text-right c-p"> Alloc </th>
                                <td mat-cell *matCellDef="let element" class="text-right c-p">
                                    <div class="bar"> <span *ngIf="!isLoading">{{element.allocatedPercentage | number:'1.2-2'}}</span>
                                        <span *ngIf="isLoading">{{''}}</span>
                                    </div>
                                </td>
                                <!-- <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right" appFormatNumber>
                                <div class="bar">{{7800}}</div>
                            </td> -->
                                <td mat-footer-cell *matFooterCellDef class="br f-600 p-8 proximaFont text-right c-p">
                                    <div class="bar">
                                        <span appFormatNumber [value]="totalValue.allocationPer"></span>
                                    </div>
                                </td>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: false"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                            <tr mat-footer-row *matFooterRowDef="displayedColumns;sticky: false" [hidden]="isLoading">
                            </tr>
                        </table>
                        <!-- <div *ngIf="dataSource4.length == 0" class="d-flex flex-column align-items-center"> -->
                        <!-- <img class="width300" src="assets/images/svg/noDataFound.svg"> -->
                        <!-- <h4 class="text-center pt-12"> No data found</h4>
                    </div> -->
                    </div>
                </div>
            </div>

            <!-- 3 paste here -->

            <!-- paste here -->

            <!-- 2 paste here -->
        </div>
    </div>


    <div *ngIf="dataSource.data?.length == 0 && dataSource2.data?.length==0  && dataSource3.data?.length==0 && dataSource4.data?.length==0 " class="d-flex flex-column align-items-center">
        <img src="assets/images/svg/documents-empty-states.svg">
        <h4 class="text-center mt-12 mb-20">No Data Found</h4>
        <!-- <button mat-stroked-button class="btn-primary addon v-middle" (click)="openMutualFund('addMutualFund',null)"  [matMenuTriggerFor]="menu1">ADD NEW
        </button> -->
        <button mat-stroked-button class="btn-primary addon v-middle" (click)="openMutualFund('addMutualFund',null)">ADD
            NEW
        </button>
        <!-- <mat-menu #menu1="matMenu" class="add-new"> -->
        <!-- <button mat-menu-item class="b-b">
                <div class="row">
                    <div class="col-md-2 pr-8 text-right">
                        <img src="assets/images/svg/dark-three-dot.svg">
                    </div>
                    <div class="col-md-10">
                        <p class="m-0 text-black">Portfolio summary</p>
                        <p class="m-0 f-13 pt-4 text-custom">Add just the overall portfolio
                            <br> summary. Time saver!
                        </p>
                    </div>
                </div>
            </button> -->
        <!-- <button (click)="openMutualFund('addMutualFund',null)" mat-menu-item class="b-b">
                <div class="row">
                    <div class="col-md-2 pl-4 pr-4 text-center">
                        <img src="assets/images/svg/scheme-icon.svg">
                    </div>
                    <div class="col-md-10 pl-0">
                        <p class="m-0 text-black">
                            Add Mutual Fund & Scheme <br>
                            level transactions</p>
                        <p class="m-0 pt-4 f-12 l-14 text-custom">
                            Add Mutual Fund & transaction
                            <br> data at scheme level for better reporting
                        </p>
                    </div>
                </div>
            </button> -->
        <!-- <button mat-menu-item class="b-b">
                <div class="row">
                    <div class="col-md-2 pr-8 text-right">
                        <img src="assets/images/svg/scheme-icon.svg">
                    </div>
                    <div class="col-md-10">
                        <p class="m-0 text-black">Add Mutual Fund With Scheme level transactions</p>
                        <p class="m-0 pt-4 f-13 text-custom">Add Mutual Fund and transaction data at
                            <br> scheme level for better reporting
                        </p>
                    </div>
                </div>
            </button> -->
        <!-- </mat-menu> -->
    </div>
</div>



<div #mfOverviewTemplate id="template" *ngIf="mfData">
    <table cellpadding="0" cellspacing="0" border="0" style="width: 900px; font-family: 'Roboto', sans-serif; margin: 0px auto;" align="center; page-break-before: always;">

        <tr>
            <td style="text-align: left;" colspan="3" *ngIf="getOrgData">
                <div *ngIf="getOrgData && getOrgData.reportLogoUrl != null && getOrgData.reportLogoUrl !='https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png' ">
                    <img width="250px" *ngIf="getOrgData" [src]="getOrgData.reportLogoUrl">
                </div>
                <div *ngIf="getOrgData && getOrgData.reportLogoUrl == null">
                    <img width="250px" *ngIf="getOrgData" [src]="getOrgData.logoUrl">
                </div>
            </td>
            <td style="text-align: right;">
                <p style="margin: 0px; font-weight: 600; font-size: 20px;padding-top: 12px;" *ngIf="userInfo">
                    {{(getOrgData.companyName) ? getOrgData.companyName : '-'}}</p>
                <!-- <p style="margin: 0px; font-size: 14px;" *ngIf="clientData">Himachal Pradesh</p> -->
                <p style="margin: 0px; font-size: 14px;padding-top: 12px;" *ngIf="userInfo"> <strong> Number:</strong> {{(userInfo.mobileList?.length > 0) ? userInfo.mobileList[0].mobileNo : userInfo.mobile}}</p>
                <p style="margin: 0px; font-size: 14px;padding-top: 12px;" *ngIf="userInfo"> <strong> Email:</strong> {{(details) ? details.emailId : userInfo.email}}</p>

                <p style="margin: 0px; font-size: 14px;padding-top: 12px;"> <strong>
                        {{'MF Overview'}}</strong>
                </p>
                <p style="margin: 0px; font-size: 14px;padding-top: 12px;"> <strong> Report as on:
                        {{reportDate | date:'dd-MMM-yyyy' }}</strong>
                </p>
            </td>
        </tr>

        <tr>
            <td colspan="2" style="padding: 10px;"></td>
        </tr>


        <tr>
            <td colspan="5" style="border-bottom: transparent;" valign="top">
                <table cellpadding="0" cellspacing="0" border="0" width="100%">
                    <tr>
                        <p style="margin: 0px; font-weight: 700; font-size: 14px;padding-top: 4px;" *ngIf="clientData">
                            Client name: {{(clientData.name) ? clientData.name : '-'}}</p>
                        <p style="margin: 0px; font-weight: 600; font-size: 18px; padding-top: 4px;" *ngIf="clientData && showSummaryBar ">
                            Summary</p>
                    </tr>
                    <!-- <tr *ngIf="showSummaryBar">
                     
                    </tr> -->

                    <tr *ngIf="showSummaryBar">
                        <td>
                            <table bgcolor="#F5F7F7" style="padding: 16px 15px;border: 1px solid #dee5e7;border-bottom: 0px;" cellpadding="0" cellspacing="0" width="100%">
                                <tr>
                                    <td valign="top">
                                        <p style="font-size: 14px;color: #757575; margin: 0px;">Current value </p>
                                        <h2 style="margin: 0px; font-size: 24px; color: #000000;"> <span appFormatNumber *ngIf="mfData.total_current_value">{{(mfData)?(mfData.total_current_value):0}}</span>
                                        </h2>

                                    </td>
                                    <td valign="top">
                                        <p style="font-size: 14px; color: #757575; margin: 0px;">Amount invested</p>
                                        <h2 style="margin: 0px; font-size: 24px; color: #000000;">
                                            <span appFormatNumber *ngIf="mfData.total_amount_invested">
                                                {{(mfData.total_amount_invested)?(mfData.total_amount_invested):0}}</span>
                                        </h2>
                                    </td>

                                    <td valign="top">
                                        <p style="font-size: 14px; color: #757575; margin: 0px;">Unrealized gain/loss
                                        </p>
                                        <h2 style="margin: 0px; font-size: 24px; color: #000000;">
                                            <span appFormatNumber *ngIf="mfData.total_unrealized_gain">{{(mfData.total_unrealized_gain)?(mfData.total_unrealized_gain):0}}</span>
                                        </h2>
                                    </td>

                                    <td valign="top">
                                        <p style="font-size: 14px; color: #757575; margin: 0px;">Returns</p>
                                        <h2 style="margin: 0px; font-size: 24px; color: #000000;"><span *ngIf="mfData.total_xirr">{{mfData.total_xirr | number:'1.2-2'}}</span>%
                                        </h2>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>

        <tr *ngIf="showSummaryBar">
            <td colspan="5">
                <table style="width: 100%;">
                    <tr>
                        <td style="width: 150px; text-align: center; border: 1px solid #dee5e7; border-right: transparent;">
                            <div>showPieChart</div>
                        </td>

                        <td style="border: 1px solid #dee5e7;">
                            <table cellpadding="0" cellspacing="0" border="0" width="100%">
                                <tr style="height: 40px;">
                                    <td style="font-size: 13px; width: 60px; padding-left: 10px; border-bottom: 1px solid #dee5e7;">
                                        <span style="width: 15px; height: 15px; background: #008FFF; display: inline-block;">
                                        </span> </td>
                                    <td style="font-size: 13px; width: 245px; border-bottom: 1px solid #dee5e7;"> Equity
                                    </td>
                                    <td style="font-size: 13px;border-bottom: 1px solid #dee5e7; width: 295px;"><span appFormatNumber *ngIf="this.equityCurrentValue"> {{this.equityCurrentValue}}
                                        </span><span>0</span></td>
                                    <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;">
                                        {{(this.equityPercentage) ? (this.equityPercentage):'0'}}%</td>
                                </tr>

                                <tr style="height: 40px;">
                                    <td style="font-size: 13px; padding-left: 10px; border-bottom: 1px solid #dee5e7;">
                                        <span style="width: 15px; height: 15px; background: #00B294; display: inline-block;">
                                        </span> </td>
                                    <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"> Debt </td>
                                    <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"> <span appFormatNumber *ngIf="this.debtCurrentValue">{{this.debtCurrentValue}}</span><span>0</span>
                                    </td>
                                    <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;">
                                        {{(this.debtPercentage) ? (this.debtPercentage | number:'1.2-2'):'0'}}%</td>
                                </tr>


                                <tr style="height: 40px;">
                                    <td style="padding-left: 10px; font-size: 13px;border-bottom: 1px solid #dee5e7;">
                                        <span style="width: 15px; height: 15px; background: #FFC100; display: inline-block;">
                                        </span> </td>
                                    <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"> Hybrid </td>
                                    <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"><span appFormatNumber *ngIf="this.hybridCurrentValue">
                                            {{this.hybridCurrentValue}}</span><span>0</span>
                                    </td>
                                    <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;">
                                        {{(this.hybridPercenatge) ? (this.hybridPercenatge | number:'1.2-2'):'0'}}%
                                    </td>
                                </tr>

                                <tr style="height: 40px;">
                                    <td style=" padding-left: 10px; font-size: 13px;border-bottom: 1px solid #dee5e7;">
                                        <span style="width: 15px; height: 15px; background: #FF6823; display: inline-block;">
                                        </span> </td>
                                    <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"> Solution oriented
                                    </td>
                                    <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"><span appFormatNumber *ngIf="this.solution_OrientedCurrentValue">
                                            {{this.solution_OrientedCurrentValue}}</span><span>0</span></td>
                                    <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;">
                                        {{(this.solution_OrientedPercenatge) ? (this.solution_OrientedPercenatge | number:'1.2-2'):'0'}}%
                                    </td>
                                </tr>

                                <tr style="height: 40px;">
                                    <td style="padding-left: 10px; font-size: 13px;  ">
                                        <span style="width: 15px; height: 15px; background: #83959D; display: inline-block;">
                                        </span> </td>
                                    <td style="font-size: 13px;"> Others </td>
                                    <td style="font-size: 13px;"><span appFormatNumber *ngIf="this.otherCurrentValue">
                                            {{(this.otherCurrentValue) ? (this.otherCurrentValue) : '0'}}</span>
                                        <span>0</span></td>
                                    <td style="font-size: 13px;">
                                        {{(this.otherPercentage)?(this.otherPercentage | number:'1.2-2'):'0'}}% </td>
                                </tr>

                            </table>
                        </td>
                    </tr>
                </table>
            </td>




            <!-- <td colspan="1" valign="middle" style="width: 150px; text-align: center; border: 1px solid #dee5e7;border-right: 0px;width: 20%; ">
               
            </td> -->

            <!-- <td style="padding: 10px 0px; border: 1px solid #dee5e7;width: 80%;" valign="top">
                <table cellpadding="0" cellspacing="0" border="0" width="100%">
                    <tr style="height: 40px;">
                        <td style="font-size: 13px; padding-left: 10px; border-bottom: 1px solid #dee5e7;">
                            <span style="width: 15px; height: 15px; background: #008FFF; display: inline-block;">
                            </span> </td>
                        <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"> Equity </td>
                        <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"><span appFormatNumber *ngIf="this.equityCurrentValue"> {{this.equityCurrentValue}} </span><span>0</span></td>
                        <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;">
                            {{(this.equityPercentage) ? (this.equityPercentage):'0'}}%</td>
                    </tr>

                    <tr style="height: 40px;">
                        <td style="font-size: 13px; padding-left: 10px; border-bottom: 1px solid #dee5e7;">
                            <span style="width: 15px; height: 15px; background: #00B294; display: inline-block;">
                            </span> </td>
                        <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"> Debt </td>
                        <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"> <span appFormatNumber *ngIf="this.debtCurrentValue">{{this.debtCurrentValue}}</span><span>0</span></td>
                        <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;">
                            {{(this.debtPercentage) ? (this.debtPercentage | number:'1.2-2'):'0'}}%</td>
                    </tr>


                    <tr style="height: 40px;">
                        <td style="padding-left: 10px; font-size: 13px;border-bottom: 1px solid #dee5e7;">
                            <span style="width: 15px; height: 15px; background: #FFC100; display: inline-block;">
                            </span> </td>
                        <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"> Hybrid </td>
                        <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"><span appFormatNumber *ngIf="this.hybridCurrentValue"> {{this.hybridCurrentValue}}</span><span>0</span>
                        </td>
                        <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;">
                            {{(this.hybridPercenatge) ? (this.hybridPercenatge | number:'1.2-2'):'0'}}% </td>
                    </tr>

                    <tr style="height: 40px;">
                        <td style=" padding-left: 10px; font-size: 13px;border-bottom: 1px solid #dee5e7;">
                            <span style="width: 15px; height: 15px; background: #FF6823; display: inline-block;">
                            </span> </td>
                        <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"> Solution oriented </td>
                        <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;"><span appFormatNumber *ngIf="this.solution_OrientedCurrentValue">
                                {{this.solution_OrientedCurrentValue}}</span><span>0</span></td>
                        <td style="font-size: 13px;border-bottom: 1px solid #dee5e7;">
                            {{(this.solution_OrientedPercenatge) ? (this.solution_OrientedPercenatge | number:'1.2-2'):'0'}}%
                        </td>
                    </tr>

                    <tr style="height: 40px;">
                        <td style="padding-left: 10px; font-size: 13px;  ">
                            <span style="width: 15px; height: 15px; background: #83959D; display: inline-block;">
                            </span> </td>
                        <td style="font-size: 13px;"> Others </td>
                        <td style="font-size: 13px;"><span appFormatNumber *ngIf="this.otherCurrentValue">
                                {{(this.otherCurrentValue) ? (this.otherCurrentValue) : '0'}}</span>
                            <span>0</span></td>
                        <td style="font-size: 13px;">
                            {{(this.otherPercentage)?(this.otherPercentage | number:'1.2-2'):'0'}}% </td>
                    </tr>

                </table>
            </td> -->
        </tr>

        <tr>
            <td style="padding: 10px;" colspan="5"></td>
        </tr>

        <tr *ngIf="showSchemeWise">
            <td valign="top" colspan="5">
                <h3 style="background: #F5F7F7; border: 1px solid #dee5e7; border-bottom: transparent; margin: 0px; padding: 8px; font-size: 16px;">
                    Scheme wise allocation
                </h3>

                <table cellpadding="0" cellspacing="0" border="0" bordercolor="#DADCE0" width="100%">

                    <tr style="background: #F5F7F7;">
                        <th style="text-align: left; font-size: 13px; padding: 8px; border-top: 1px solid #dee5e7; border-left: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  border-bottom: 1px solid #dee5e7;">
                            Scheme name</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px; border-top: 1px solid #dee5e7; border-right: 1px solid #dee5e7;border-bottom: 1px solid #dee5e7;">
                            Amount invested</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px; border-top: 1px solid #dee5e7; border-right: 1px solid #dee5e7;border-bottom: 1px solid #dee5e7;">
                            Current value</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px; border-top: 1px solid #dee5e7; border-right: 1px solid #dee5e7;border-bottom: 1px solid #dee5e7;">
                            Abs Ret</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px; border-top: 1px solid #dee5e7; border-right: 1px solid #dee5e7;border-bottom: 1px solid #dee5e7;">
                            XIRR</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px; border-top: 1px solid #dee5e7; border-right: 1px solid #dee5e7;border-bottom: 1px solid #dee5e7;">
                            Alloc</th>
                    </tr>

                    <tr *ngFor="let item of dataSource2.data">
                        <td style="font-size: 13px; padding: 8px;border-bottom: 1px solid #dee5e7;border-right: 1px solid #dee5e7; border-left: 1px solid #dee5e7;">
                            {{(item.schemeName) ? item.schemeName : 'N.A'}}</td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-bottom: 1px solid #dee5e7;border-right: 1px solid #dee5e7;" appFormatNumber>{{(item.amountInvested) ? item.amountInvested : 0}}</td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-bottom: 1px solid #dee5e7;border-right: 1px solid #dee5e7;" appFormatNumber>
                            {{(item.currentValue==0 || item.currentValue =='Infinity' || item.currentValue =='-Infinity') ? 0 : item.currentValue ? item.currentValue : 0}}
                        </td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-bottom: 1px solid #dee5e7;border-right: 1px solid #dee5e7;">
                            {{(item.absoluteReturn==0 || item.absoluteReturn =='Infinity' || item.absoluteReturn =='-Infinity' || item.absoluteReturn == 'NaN') ? 0 : (item.absoluteReturn) ? (item.absoluteReturn | number:'1.2-2') : 0}}
                        </td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-bottom: 1px solid #dee5e7;border-right: 1px solid #dee5e7;">
                            {{(item.xirr) ? (item.xirr | number:'1.2-2') : 0}} </td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-bottom: 1px solid #dee5e7;border-right: 1px solid #dee5e7;">
                            {{(item.allocatedPercentage) ? (item.allocatedPercentage | number:'1.2-2') : 0 }}</td>
                    </tr>

                    <tr>
                        <td style="font-weight:bold;text-align: left; font-size: 13px; padding: 8px; border-left: 1px solid #dee5e7; border-right: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;">
                            Total
                        </td>
                        <td style="font-weight:bold;text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;" appFormatNumber [value]="mfData.total_amount_invested">
                        </td>
                        <td style="font-weight:bold;text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;" appFormatNumber [value]="mfData.total_current_value">
                        </td>
                        <td style="font-weight:bold;text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;">
                            {{mfData.total_absolute_return | number:'1.2-2'}}</td>
                        <td style="font-weight:bold;text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;">
                            {{mfData.total_xirr | number:'1.2-2'}}</td>
                        <td style="font-weight:bold;text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;" appFormatNumber>
                            {{(totalValue.allocationPer ) ? (totalValue.allocationPer | number:'1.2-2') : 0}}</td>
                    </tr>

                </table>
            </td>
        </tr>

        <tr>
            <td style="padding: 10px;" colspan="5"></td>
        </tr>


        <tr *ngIf="showCashFlow">
            <td valign="top" colspan="5">
                <h3 style="background: #F5F7F7; border: 1px solid #dee5e7; border-bottom: transparent; margin: 0px; padding: 8px; font-size: 16px; page-break-before: always;">
                    Cashflow status
                </h3>
                <table cellpadding="0" cellspacing="0" border="0" style="border: 1px solid #DADCE0;border-bottom: 0px;" width="100%">
                    <tr>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: left;">
                            a. Investment</td>
                        <td style="font-size: 13px;border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: right;" appFormatNumber [value]="mfData.total_cashflow_amount_inv"></td>
                    </tr>
                    <tr>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: left;">
                            b. Switch In
                        </td>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: right;" appFormatNumber [value]="mfData.total_switch_in"></td>
                    </tr>

                    <tr>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: left;">
                            c. Switch Out
                        </td>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: right;" appFormatNumber [value]="mfData.total_switch_out"></td>
                    </tr>

                    <tr>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: left;">
                            d. Redemption
                        </td>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: right;" appFormatNumber [value]="mfData.total_redemption"></td>
                    </tr>

                    <tr>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: left;">
                            e. Dividend Payout
                        </td>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: right;" appFormatNumber [value]="mfData.total_dividend_payout"></td>
                    </tr>

                    <tr>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: left;">
                            f. Net Investment (a+b-c-d-e)
                        </td>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: right;" appFormatNumber [value]="mfData.total_net_investment"></td>
                    </tr>

                    <tr>
                        <td style="font-size: 13px;  border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: left;">
                            g. Market Value
                        </td>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: right;" appFormatNumber [value]="mfData.total_market_value"></td>
                    </tr>

                    <tr>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px;; text-align: left;">
                            h. Net Gain (g-f)
                        </td>
                        <td style="font-size: 13px;  border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: right;" appFormatNumber [value]="total_net_Gain"></td>
                    </tr>

                    <tr>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7; padding: 5px;padding-left: 8px; text-align: left;">
                            i. Lifetime XIRR (All Transactions)
                        </td>
                        <td style="font-size: 13px; border-bottom: 1px solid #dee5e7;padding: 5px;padding-left: 8px; text-align: right;">
                            {{(mfData.total_xirr) ? (mfData.total_xirr | number:'1.2-2') : 0}}</td>
                    </tr>

                </table>
            </td>
        </tr>

        <tr>
            <td style="padding: 10px;" colspan="5"></td>
        </tr>



        <tr *ngIf="showSubCategory">
            <td valign="top" colspan="5">
                <h3 style="background: #F5F7F7; border: 1px solid #dee5e7;border-bottom: 0px; margin: 0px; padding: 8px; font-size: 16px;">
                    Sub category wise allocation
                </h3>

                <table cellpadding="0" cellspacing="0" border="0" bordercolor="#DADCE0" width="100%">

                    <tr style="background: #F5F7F7;">
                        <th style="text-align: left; font-size: 13px; padding: 8px;  border-left: 1px solid #dee5e7; border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;">
                            Scheme name</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  ">
                            Amount invested</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;">
                            Current value</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7; ">
                            Abs Ret</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;">
                            XIRR</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;">
                            Alloc</th>
                    </tr>

                    <tr *ngFor="let item of dataSource3.data">
                        <td style="font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  border-left: 1px solid #dee5e7;">
                            {{(item.subCategory) ? item.subCategory : 'N.A'}}</td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  " appFormatNumber>{{(item.amountInvested) ?item.amountInvested : 0}}</td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  " appFormatNumber>
                            {{(item.currentValue==0 || item.currentValue =='Infinity' || item.currentValue =='-Infinity') ? 0 : item.currentValue ? item.currentValue : 0}}
                        </td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  ">
                            {{(item.absoluteReturn==0 || item.absoluteReturn =='Infinity' || item.absoluteReturn =='-Infinity' || item.absoluteReturn == 'NaN') ? 0 : (item.absoluteReturn) ? (item.absoluteReturn | number:'1.2-2') : 0}}
                        </td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  ">
                            {{(item.xirr) ? (item.xirr | number:'1.2-2') : 0}}</td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  ">
                            {{(item.allocatedPercentage) ? (item.allocatedPercentage | number:'1.2-2') : 0 }}</td>
                    </tr>

                    <tr>
                        <td style="text-align: left;border-top: 1px solid #dee5e7; font-size: 13px; padding: 8px; border-left: 1px solid #dee5e7; border-right: 1px solid #dee5e7;border-bottom: 1px solid #dee5e7;  font-weight: 700;">
                            Total
                        </td>
                        <td style="text-align: right;border-top: 1px solid #dee5e7; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7;  font-weight: 700;border-bottom: 1px solid #dee5e7;" appFormatNumber [value]="mfData.total_amount_invested">
                        </td>
                        <td style="text-align: right;border-top: 1px solid #dee5e7; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7;  font-weight: 700;border-bottom: 1px solid #dee5e7;" appFormatNumber [value]="mfData.total_current_value">
                        </td>
                        <td style="text-align: right;border-top: 1px solid #dee5e7; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7;  font-weight: 700;border-bottom: 1px solid #dee5e7;">
                            {{(mfData.total_absolute_return) ? (mfData.total_absolute_return | number:'1.2-2') : 0}}
                        </td>
                        <td style="text-align: right;border-top: 1px solid #dee5e7; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7;  font-weight: 700;border-bottom: 1px solid #dee5e7;">
                            {{(mfData.total_xirr) ? (mfData.total_xirr | number:'1.2-2') : 0}}</td>
                        <td style="text-align: right;border-top: 1px solid #dee5e7; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7;  font-weight: 700;border-bottom: 1px solid #dee5e7;" appFormatNumber>
                            {{(totalValue.allocationPer ) ? (totalValue.allocationPer | number:'1.2-2') : 0}}</td>
                    </tr>



                </table>
            </td>
        </tr>

        <tr>
            <td style="padding: 10px;" colspan="5"></td>
        </tr>

        <tr *ngIf="showFamilyMember">
            <td valign="top" colspan="5">
                <h3 style="background: #F5F7F7; border: 1px solid #dee5e7;border-bottom: 0px;  margin: 0px; padding: 8px; font-size: 16px;">
                    Family member wise allocation

                </h3>

                <table cellpadding="0" cellspacing="0" border="0" bordercolor="#DADCE0" width="100%">

                    <tr style="background: #F5F7F7;">
                        <th style="text-align: left; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;    border-left: 1px solid #dee5e7;">
                            Family Member Name </th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;border-left: 1px solid #dee5e7;">
                            Amount invested</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;border-left: 1px solid #dee5e7;">
                            Current value</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;">
                            Abs Ret</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;">
                            XIRR</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;">
                            Alloc</th>
                    </tr>

                    <tr *ngFor="let item of dataSource.data">
                        <td style="font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;   border-left: 1px solid #dee5e7;">
                            {{(item.name) ? item.name : 'N.A'}}</td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  " appFormatNumber>{{(item.amountInv) ? item.amountInv : 0}}</td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  " appFormatNumber>{{(item.currentValue) ? item.currentValue : 0}}</td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  ">
                            {{(item.absoluteReturn==0 || item.absoluteReturn =='Infinity' || item.absoluteReturn =='-Infinity' || item.absoluteReturn == 'NaN') ? 0 : (item.absoluteReturn) ? (item.absoluteReturn | number:'1.2-2') : 0}}
                        </td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  ">
                            {{(item.xirr) ? (item.xirr | number:'1.2-2') : 0}}</td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  ">
                            {{(item.allocatedPercentage) ? (item.allocatedPercentage | number:'1.2-2') : 0 }}</td>
                    </tr>

                    <tr>
                        <td style="text-align: left; font-size: 13px; padding: 8px; border-left: 1px solid #dee5e7; border-right: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7;border-top: 1px solid #dee5e7; font-weight: 700;">
                            Total
                        </td>
                        <td style="text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;border-top: 1px solid #dee5e7;" appFormatNumber [value]="mfData.total_amount_invested">
                        </td>
                        <td style="text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;border-top: 1px solid #dee5e7;" appFormatNumber [value]="mfData.total_current_value">
                        </td>
                        <td style="text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;border-top: 1px solid #dee5e7;">
                            {{(mfData.total_absolute_return) ? (mfData.total_absolute_return | number:'1.2-2') : 0}}
                        </td>
                        <td style="text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;border-top: 1px solid #dee5e7;">
                            {{(mfData.total_xirr) ? (mfData.total_xirr | number:'1.2-2') : 0}}</td>
                        <td style="text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;border-top: 1px solid #dee5e7;" appFormatNumber>
                            {{(totalValue.allocationPer) ? (totalValue.allocationPer | number:'1.2-2') : 0}}</td>
                    </tr>



                </table>
            </td>
        </tr>

        <tr>
            <td style="padding: 10px;" colspan="5"></td>
        </tr>

        <tr *ngIf="showCategory">
            <td valign="top" colspan="5">
                <h3 style="background: #F5F7F7; border: 1px solid #dee5e7; border-bottom: transparent; margin: 0px; padding: 8px; font-size: 16px;">
                    Category wise allocation
                </h3>

                <table cellpadding="0" cellspacing="0" border="0" bordercolor="#DADCE0" width="100%">

                    <tr style="background: #F5F7F7;">
                        <th style="text-align: left; font-size: 13px; padding: 8px; border-left: 1px solid #dee5e7; border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7; ">
                            Category name</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7; ">
                            Amount invested</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  ">
                            Current value</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  ">
                            Abs Ret</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;">
                            XIRR</th>
                        <th style="text-align: right; font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7; ">
                            Alloc</th>
                    </tr>

                    <tr *ngFor="let item of dataSource4.data">
                        <td style="font-size: 13px; padding: 8px; border-left: 1px solid #dee5e7;  border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  ">
                            {{(item.category) ? item.category : 'N.A'}}</td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7; " appFormatNumber>{{(item.amountInvested) ? item.amountInvested : 0}}</td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  " appFormatNumber>{{(item.currentValue) ? item.currentValue : 0}}</td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7; ">
                            {{(item.absoluteReturn==0 || item.absoluteReturn =='Infinity' || item.absoluteReturn =='-Infinity' || item.absoluteReturn == 'NaN') ? 0 : (item.absoluteReturn) ? (item.absoluteReturn | number:'1.2-2') : 0}}
                        </td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7;  ">
                            {{(item.xirr) ? (item.xirr | number:'1.2-2') : 0}}</td>
                        <td style="text-align: right;font-size: 13px; padding: 8px;border-top: 1px solid #dee5e7;  border-right: 1px solid #dee5e7; ">
                            {{(item.allocatedPercentage) ? (item.allocatedPercentage | number:'1.2-2') : 0 }}</td>
                    </tr>

                    <tr>
                        <td style="text-align: left; font-size: 13px; padding: 8px; border-left: 1px solid #dee5e7;border-top: 1px solid #dee5e7; border-right: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;">
                            Total
                        </td>
                        <td style="text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7;border-top: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;" appFormatNumber [value]="mfData.total_amount_invested">
                        </td>
                        <td style="text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7;border-top: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;" appFormatNumber [value]="mfData.total_current_value">
                        </td>
                        <td style="text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7;border-top: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;">
                            {{(mfData.total_absolute_return) ? (mfData.total_absolute_return | number:'1.2-2') : 0}}
                        </td>
                        <td style="text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7;border-top: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;">
                            {{(mfData.total_xirr) ? (mfData.total_xirr | number:'1.2-2') : 0}}</td>
                        <td style="text-align: right; font-size: 13px; padding: 8px;border-right: 1px solid #dee5e7;border-top: 1px solid #dee5e7; border-bottom: 1px solid #dee5e7; font-weight: 700;" appFormatNumber>
                            {{(totalValue.allocationPer ) ? (totalValue.allocationPer | number:'1.2-2') : 0}}</td>
                    </tr>



                </table>
            </td>
        </tr>

    </table>
</div>
<!-- <div *ngIf="openSummaryTab == true">
    <app-mutual-fund-summary [data]='inputDataToSend'>
    </app-mutual-fund-summary>
</div>
<div *ngIf="openTransactionTab == true">
    <app-mutual-fund-unrealized-tran [data]='inputDataToSend' >
    </app-mutual-fund-unrealized-tran>
  </div> -->

<!-- <div *ngIf="changeViewModeValue == true">
    <app-mutual-fund [data]='changeViewModeSet'>
    </app-mutual-fund>
</div> -->