<div class="pl-24 pt-72 pr-24 pb-44 mb-44 individual-income">
    <div class="row pt-24">
        <div class="col-md-8 pl-0">
            <p class="f-14 roboto">Now entering {{singleIndividualIncome.name}} income</p>
        </div>
        <div *ngIf="finalIncomeAddList.length>0" class="col-md-4 text-right p-0">
            <button mat-stroked-button class=" ba-black br-0 mat-menu-trigger addon"> Adding income {{incomePosition+1}}
                of
                {{finalIncomeAddList.length}} </button>
        </div>
    </div>

    <div class="row">
        <div class="col-md-3 d-flex pl-0">
            <div class="mr-28">
                <div class="memberBorderBox">
                    <img src="assets/images/svg/income-man.svg">
                </div>
                <p class="f-14 m-0 f-bold text-center pb-20" *ngIf="singleIndividualIncome">
                    {{singleIndividualIncome.name}}</p>
            </div>

            <div class="incomeSourcesBox d-flex">
                <div class="ml-12">
                    <div class="memberBorderBox">
                        <img src="assets/images/svg/rupessIcon.svg"
                            *ngIf="singleIndividualIncome.finalIncomeList.incomeTypeList==1">
                        <img src="assets/images/svg/businessIcon.svg"
                            *ngIf="singleIndividualIncome.finalIncomeList.incomeTypeList==2">
                        <img src="assets/images/svg/professionIcon.svg"
                            *ngIf="singleIndividualIncome.finalIncomeList.incomeTypeList==3">
                        <img src="assets/images/svg/rentalIcon.svg"
                            *ngIf="singleIndividualIncome.finalIncomeList.incomeTypeList==4">
                        <img src="assets/images/svg/pensionIcon.svg"
                            *ngIf="singleIndividualIncome.finalIncomeList.incomeTypeList==5">
                    </div>
                    <p class="f-14 m-0 text-primitive text-center"
                        *ngIf="singleIndividualIncome.finalIncomeList.incomeTypeList==1">
                        Salaried</p>
                    <p class="f-14 m-0 text-primitive text-center"
                        *ngIf="singleIndividualIncome.finalIncomeList.incomeTypeList==2">
                        Buisness</p>
                    <p class="f-14 m-0 text-primitive text-center"
                        *ngIf="singleIndividualIncome.finalIncomeList.incomeTypeList==3">
                        Profession</p>
                    <p class="f-14 m-0 text-primitive text-center"
                        *ngIf="singleIndividualIncome.finalIncomeList.incomeTypeList==4">
                        Rental</p>
                    <p class="f-14 m-0 text-primitive text-center"
                        *ngIf="singleIndividualIncome.finalIncomeList.incomeTypeList==5">
                        Others</p>
                </div>
            </div>
        </div>
        <div class="col-md-9 pl-0">
            <div [formGroup]="incomeNetForm">
                <!-- <div *ngIf="singleIndividualIncome.finalIncomeList.incomeTypeList==1" class="row pt-40"> -->
                <div class="row pt-40">
                    <div class="col-md-5 pr-0 text-right">
                        <h5 class="m-0 pt-8">Income option</h5>
                    </div>
                    <div class="col-md-7 pr-0">
                        <mat-radio-group (change)="chngIncomeOption($event)" formControlName="incomeOption"
                            class="d-flex " aria-label="Select an option">
                            <mat-radio-button *ngIf="singleIndividualIncome.finalIncomeList.incomeTypeList==1" class="  f-14" value="1"
                                [ngClass]="{'b-a-custom': incomeNetForm.get('incomeOption').value=='1','text-primary':incomeNetForm.get('incomeOption').value=='1','b-a':incomeNetForm.get('incomeOption').value=='2'}">
                                With breakup
                            </mat-radio-button>
                            <mat-radio-button class=" ml-8  f-14 " value="2"
                                [ngClass]="{'b-a-custom': incomeNetForm.get('incomeOption').value=='2','text-primary':incomeNetForm.get('incomeOption').value=='2','b-a':incomeNetForm.get('incomeOption').value=='1'}">
                                Net (In hand)
                            </mat-radio-button>
                        </mat-radio-group>
                    </div>
                </div>

                <!-- <div [hidden]="incomeOption=='1'" class="row pt-40">
                    <div class="col-md-5 pr-0 text-right">
                        <h5 class="m-0 pt-8">Monthly amount</h5>
                        <p class="m-0 f-12 text-custom">Enter the net income you get in hand</p>
                    </div>
                    <div class="col-md-5">
                        <div class="form-group mb-0">
                            <mat-form-field>
                                <input matInput type="number" autocomplete="off" formControlName="monthlyAmount"
                                    class="form-control br-0">
                                <mat-error>This field is required</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                </div> -->
                <div class="row pt-40" [hidden]="incomeOption=='1'">
                    <div class="col-md-5 pr-0 text-right">
                        <h5  class="m-0 pt-8">Monthly income</h5>
                    </div>

                    <!-- build error in form array removed controls -->
                    <div formArrayName="monthlyIncomeForm" >
                        <div [ngClass]="{'pt-30': pointIndex > 0}" class="row"
                            *ngFor="let obj of monthlyIncome.controls; let pointIndex=index"
                            [formGroupName]="pointIndex">

                            <div class="col-md-5  pr-0">
                                <div class="form-group mb-0">
                                    <mat-form-field>
                                        <mat-select matInput  formControlName="monthlyIncType" autocomplete="true"
                                            class="form-control br-0">
                                            <mat-option (click)="option.disabled =true" *ngFor="let option of monthlyIncArr;index as i" [disabled]="option.disabled" [value]="option.value">
                                                {{option.name}}</mat-option>
                                        </mat-select>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-5 pr-0">
                                <div class="form-group mb-0 iconRupess">
                                    <mat-form-field>
                                        <input matInput type="number" formControlName="monthlyIncAmt"
                                            [inputValidator]="validatorType.ALPHA_NUMERIC" appInputValueValidation
                                            #monthlyIncAmt autocomplete="true" [maxLength]="10"
                                            class="form-control rupess br-0">
                                        <mat-hint align="end" class="f-12">{{monthlyIncAmt.value.length}}/10</mat-hint>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-2 pr-0 d-flex mt-8">
                                <!-- error build errro -->
                                <i *ngIf="incomeNetForm.value.monthlyIncomeForm.length < 12"
                                    class="material-icons text-primitive f-20 c-p float-left"
                                    (click)="addMonthlyIncome(undefined)">add</i>
                                <i *ngIf="incomeNetForm.value.monthlyIncomeForm.length > 1"
                                    class="material-icons text-primitive f-20 c-p pl-10"
                                    (click)="removemonthlyIncome(obj,pointIndex)">remove</i>
                            </div>

                        </div>
                    </div>
                </div>
                <!-- <div [hidden]="incomeOption=='2'" class="row pt-40">
                        <div class="col-md-5 pr-0 text-right">
                            <h5 class="m-0 pt-8">Basic Income</h5>
                            <p class="m-0 f-12 text-custom">Enter the net income you get in hand</p>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group mb-0">
                                <mat-form-field>
                                    <input matInput autocomplete="off" formControlName="basicIncome"
                                        class="form-control br-0">
                                    <mat-error>This field is required</mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div [hidden]="incomeOption=='2'" class="row pt-40">
                        <div class="col-md-5 pr-0 text-right">
                            <h5 class="m-0 pt-8">Standard deductions</h5>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group mb-0">
                                <mat-form-field>
                                    <input matInput autocomplete="off" formControlName="standardDeduction"
                                        class="form-control br-0">
                                    <mat-error>This field is required</mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div> -->
                <div class="row pt-40" [hidden]="incomeOption=='2'">
                    <div class="col-md-5 pr-0 text-right">
                        <h5  class="m-0 pt-8">Basic Salary</h5>
                    </div>
                    <!-- build error in form array removed controls -->

                    <div formArrayName="basicSalaryForm" >
                        <div [ngClass]="{'pt-30': pointIndex > 0}" class="row"  *ngFor="let obj of basicSalary.controls; let pointIndex=index"
                            [formGroupName]="pointIndex">

                            <div class="col-md-5  pr-0">
                                <div class="form-group mb-0">
                                    <mat-form-field>
                                        <mat-select matInput  formControlName="salaryType" autocomplete="true"
                                            class="form-control br-0">
                                            <mat-option (click)="option.disabled =true" *ngFor="let option of basicSalaryArr;index as i" [disabled]="option.disabled" [value]="option.value">
                                                {{option.name}}</mat-option>
                                        </mat-select>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-5 pr-0">
                                <div class="form-group mb-0 iconRupess">
                                    <mat-form-field>
                                        <input matInput type="number" formControlName="amount"
                                            [inputValidator]="validatorType.ALPHA_NUMERIC" appInputValueValidation
                                            #amount autocomplete="true" [maxLength]="10"
                                            class="form-control rupess br-0">
                                        <mat-hint align="end" class="f-12">{{amount.value.length}}/10</mat-hint>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-2 pr-0 d-flex mt-8">

                                <!-- build Error -->
                                <i *ngIf="incomeNetForm.value.basicSalaryForm.length < 2"
                                    class="material-icons text-primitive f-20 c-p float-left"
                                    (click)="addSalary(undefined)">add</i>
                                <i *ngIf="incomeNetForm.value.basicSalaryForm.length > 1"
                                    class="material-icons text-primitive f-20 c-p pl-10"
                                    (click)="removeSalary(obj,pointIndex)">remove</i>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="row pt-40" [hidden]="incomeOption=='2'">
                    <div  class="col-md-5 pr-0 text-right">
                        <h5 class="mb-0 mt-10">Allowances</h5>
                    </div>

                    <!-- build error in form array removed controls -->

                    <div formArrayName="allowancesForm" >
                        <div  [ngClass]="{'pt-30': pointIndex > 0}" class="row" *ngFor="let obj of allowances.controls; let pointIndex=index"
                            [formGroupName]="pointIndex">

                            <div class="col-md-5  pr-0">
                                <div class="form-group mb-0">
                                    <mat-form-field>
                                        <mat-select matInput  formControlName="allowancesType" autocomplete="true"
                                            class="form-control br-0">
                                            <mat-option (click)="option.disabled =true" *ngFor="let option of allowancesArr;index as i" [disabled]="option.disabled" [value]="option.value">
                                                {{option.name}}</mat-option>


                                        </mat-select>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-5 pr-0">
                                <div class="form-group mb-0 iconRupess">
                                    <mat-form-field>
                                        <input matInput type="number" formControlName="allowancesAmt"
                                            [inputValidator]="validatorType.ALPHA_NUMERIC" appInputValueValidation
                                            #allowancesAmt autocomplete="true" [maxLength]="10"
                                            class="form-control rupess br-0">
                                        <mat-hint align="end" class="f-12">{{allowancesAmt.value.length}}/10</mat-hint>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-2 pr-0 d-flex mt-8">
                                <!-- build error -->
                                <i *ngIf="incomeNetForm.value.allowancesForm.length < 14"
                                    class="material-icons text-primitive f-20 c-p float-left"
                                    (click)="addAllowances(undefined)">add</i>
                                <i *ngIf="incomeNetForm.value.allowancesForm.length > 1"
                                    class="material-icons text-primitive f-20 c-p pl-10"
                                    (click)="removeAllowances(obj,pointIndex)">remove</i>
                            </div>

                        </div>
                    </div>
                </div>
                    <!-- build error in form array removed controls -->

                <div class="row pt-40" [hidden]="incomeOption=='2'">
                    <div  class="col-md-5 pr-0 text-right">
                        <h5 class="m-0 pt-8">Perquisites</h5>
                    </div>
                    <div formArrayName="perquisitesForm" >
                        <div [ngClass]="{'pt-30': pointIndex > 0}" class="row" *ngFor="let obj of perquisites.controls; let pointIndex=index"
                            [formGroupName]="pointIndex">

                            <div class="col-md-5  pr-0">
                                <div class="form-group mb-0">
                                    <mat-form-field>
                                        <mat-select matInput  formControlName="perquisitesType" autocomplete="true"
                                            class="form-control br-0">
                                            <mat-option (click)="option.disabled =true" *ngFor="let option of perquisitesArr;index as i" [disabled]="option.disabled" [value]="option.value">
                                                {{option.name}}</mat-option>

                                        </mat-select>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-5 pr-0">
                                <div class="form-group mb-0 iconRupess">
                                    <mat-form-field>
                                        <input matInput type="number" formControlName="perquisitesAmt"
                                            [inputValidator]="validatorType.ALPHA_NUMERIC" appInputValueValidation
                                            #perquisitesAmt autocomplete="true" [maxLength]="10"
                                            class="form-control rupess br-0">
                                        <mat-hint align="end" class="f-12">{{perquisitesAmt.value.length}}/10</mat-hint>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-2 pr-0 d-flex mt-8">
                            <!-- build error -->
                                <i *ngIf="incomeNetForm.value.perquisitesForm.length < 4"
                                    class="material-icons text-primitive f-20 c-p float-left"
                                    (click)="addPerquisites(undefined)">add</i>
                                <i *ngIf="incomeNetForm.value.perquisitesForm.length > 1"
                                    class="material-icons text-primitive f-20 c-p pl-10"
                                    (click)="removePerquisites(obj,pointIndex)">remove</i>
                            </div>

                        </div>
                    </div>
                </div>
                
                <div class="row pt-40" [hidden]="incomeOption=='2'">
                    <div  class="col-md-5 pr-0 text-right">
                        <h5 class="m-0 pt-8">Reimbursements</h5>
                    </div>
                    <!-- build error in form array removed controls -->

                    <div formArrayName="reimbursementsForm" >
                        <div [ngClass]="{'pt-30': pointIndex > 0}" class="row" *ngFor="let obj of reimbursements.controls; let pointIndex=index"
                            [formGroupName]="pointIndex">

                            <div class="col-md-5  pr-0">
                                <div class="form-group mb-0">
                                    <mat-form-field>
                                        <mat-select matInput  formControlName="reimbursementsType" autocomplete="true"
                                            class="form-control br-0">
                                            <mat-option (click)="option.disabled =true" *ngFor="let option of reimbursementsArr;index as i" [disabled]="option.disabled" [value]="option.value">
                                                {{option.name}}</mat-option>
                                        </mat-select>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-5 pr-0">
                                <div class="form-group mb-0 iconRupess">
                                    <mat-form-field>
                                        <input matInput type="number" formControlName="reimbursementsAmt"
                                            [inputValidator]="validatorType.ALPHA_NUMERIC" appInputValueValidation
                                            #reimbursementsAmt autocomplete="true" [maxLength]="10"
                                            class="form-control rupess br-0">
                                        <mat-hint align="end" class="f-12">{{reimbursementsAmt.value.length}}/10</mat-hint>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-2 pr-0 d-flex mt-8">
                                <!-- build error -->
                                <i *ngIf="incomeNetForm.value.reimbursementsForm.length < 5"
                                    class="material-icons text-primitive f-20 c-p float-left"
                                    (click)="addReimbursements(undefined)">add</i>
                                <i *ngIf="incomeNetForm.value.reimbursementsForm.length > 1"
                                    class="material-icons text-primitive f-20 c-p pl-10"
                                    (click)="removeReimbursements(obj,pointIndex)">remove</i>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="row pt-40" [hidden]="incomeOption=='2'">
                    <div  class="col-md-5 pr-0 text-right">
                        <h5 class="m-0 pt-8">Retirals</h5>
                    </div>
                    <!-- build error removed controls -->
                    <div formArrayName="retiralsForm" >
                        <div [ngClass]="{'pt-30': pointIndex > 0}" class="row" *ngFor="let obj of retirals.controls; let pointIndex=index"
                            [formGroupName]="pointIndex">

                            <div class="col-md-5 pr-0">
                                <div class="form-group mb-0">
                                    <mat-form-field>
                                        <mat-select matInput   formControlName="retiralsType" autocomplete="true"
                                            class="form-control br-0">
                                            <mat-option (click)="option.disabled =true" *ngFor="let option of retiralsArr;index as i" [disabled]="option.disabled" [value]="option.value">
                                                {{option.name}}</mat-option>
                                        </mat-select>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-5 pr-0">
                                <div class="form-group mb-0 iconRupess">
                                    <mat-form-field>
                                        <input matInput type="number" formControlName="retiralsAmt"
                                            [inputValidator]="validatorType.ALPHA_NUMERIC" appInputValueValidation
                                            #retiralsAmt autocomplete="true" [maxLength]="10"
                                            class="form-control rupess br-0">
                                        <mat-hint align="end" class="f-12">{{retiralsAmt.value.length}}/10</mat-hint>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-2 pr-0 d-flex mt-8">

                                <!-- build error -->
                                <i *ngIf="incomeNetForm.value.retiralsForm.length < 4"
                                    class="material-icons text-primitive f-20 c-p float-left"
                                    (click)="addRetirals(undefined)">add</i>
                                <i *ngIf="incomeNetForm.value.retiralsForm.length > 1"
                                    class="material-icons text-primitive f-20 c-p pl-10"
                                    (click)="removeRetirals(obj,pointIndex)">remove</i>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="row pt-40" [hidden]="incomeOption=='2'">
                    <div  class="col-md-5 pr-0 text-right">
                        <h5 class="m-0 pt-8">Others</h5>
                    </div>
                    <!-- build error rmeoved controls -->
                    <div formArrayName="othersForm" >
                        <div [ngClass]="{'pt-30': pointIndex > 0}" class="row" *ngFor="let obj of others.controls; let pointIndex=index"
                            [formGroupName]="pointIndex">

                            <div class="col-md-5  pr-0">
                                <div class="form-group mb-0">
                                    <mat-form-field>
                                        <mat-select matInput  formControlName="othersType" autocomplete="true"
                                            class="form-control br-0">
                                            <mat-option (click)="option.disabled =true" *ngFor="let option of othersArr;index as i" [disabled]="option.disabled" [value]="option.value">
                                                {{option.name}}</mat-option>
                                        </mat-select>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-5 pr-0">
                                <div class="form-group mb-0 iconRupess">
                                    <mat-form-field>
                                        <input matInput type="number" formControlName="othersAmt"
                                            [inputValidator]="validatorType.ALPHA_NUMERIC" appInputValueValidation
                                            #othersAmt autocomplete="true" [maxLength]="10"
                                            class="form-control rupess br-0">
                                        <mat-hint align="end" class="f-12">{{othersAmt.value.length}}/10</mat-hint>
                                        <mat-error>This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-2 pr-0 d-flex mt-8">
                                <!-- build error -->
                                <i *ngIf="incomeNetForm.value.othersForm.length < 2"
                                    class="material-icons text-primitive f-20 c-p float-left"
                                    (click)="addOthers(undefined)">add</i>
                                <i *ngIf="incomeNetForm.value.othersForm.length > 1"
                                    class="material-icons text-primitive f-20 c-p pl-10"
                                    (click)="removeOthers(obj,pointIndex)">remove</i>
                            </div>

                        </div>
                    </div>
                </div>
                <!-- <div [hidden]="incomeOption=='2'" class="row pt-40">
                        <div class="col-md-5 pr-0 text-right">
                            <h5 class="m-0 pt-8">Dearness allowance</h5>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group mb-0">
                                <mat-form-field>
                                    <input matInput autocomplete="off" formControlName="deamessAlowance"
                                        class="form-control br-0">
                                    <mat-error>This field is required</mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div [hidden]="incomeOption=='2'" class="row pt-40">
                        <div class="col-md-5 pr-0 text-right">
                            <h5 class="m-0 pt-8">HRA recieved</h5>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group mb-0">
                                <mat-form-field>
                                    <input matInput autocomplete="off" formControlName="hraRecieved"
                                        class="form-control br-0">
                                    <mat-error>This field is required</mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div [hidden]="incomeOption=='2'" class="row pt-40">
                        <div class="col-md-5 pr-0 text-right">
                            <h5 class="m-0 pt-8">Total rent paid</h5>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group mb-0">
                                <mat-form-field>
                                    <input matInput autocomplete="off" formControlName="totalRentPaid"
                                        class="form-control br-0">
                                    <mat-error>This field is required</mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div> -->
                <div class="row pt-40">
                    <div class="col-md-5 pr-0 text-right">
                        <h5 class="m-0 pt-8">Income style</h5>
                        <p class="m-0 f-12 text-custom">This helps us in planning your cash flows better</p>
                    </div>
                    <div class="col-md-7">
                        <div class="form-group  ">
                            <mat-radio-group class="d-flex align-items-center" #incomeStyle
                                formControlName="incomeStyle">
                                <div class="checkOne mr-10" (click)="onClickValueChange('1')">
                                    <img src="assets/images/svg/stable-icn.svg"
                                        *ngIf=" incomeNetForm.get('incomeStyle').value == '1' && isStatic == true">
                                    <img src="assets/images/svg/stable-gry-icon.svg"
                                        *ngIf=" incomeNetForm.get('incomeStyle').value == '2' && isStatic == false">

                                    <mat-radio-button class="example-margin " value="1"
                                        [ngClass]="{'radioBtnActive': incomeNetForm.get('incomeStyle').value == '1'}">
                                        Stable
                                    </mat-radio-button>

                                </div>
                                <div class="checkOne" (click)="onClickValueChange('2')">
                                    <img src="assets/images/svg/erratic-icon.svg"
                                        *ngIf=" incomeNetForm.get('incomeStyle').value == '1' && isStatic == true">
                                    <img src="assets/images/svg/erratic-icon-active.svg"
                                        *ngIf=" incomeNetForm.get('incomeStyle').value == '2' && isErractic == true">
                                    <mat-radio-button class="example-margin " value="2"
                                        [ngClass]="{'radioBtnActive': incomeNetForm.get('incomeStyle').value == '2'}">
                                        Erratic
                                    </mat-radio-button>

                                </div>
                            </mat-radio-group>
                            <!-- <mat-form-field>
                                    <input matInput autocomplete="off" formControlName="incomeStyle"
                                        class="form-control br-0">
                                    <mat-error>This field is required</mat-error>
                                </mat-form-field> -->
                        </div>
                    </div>
                </div>

                <div class="row pt-40">
                    <div class="col-md-5 pr-0 text-right">
                        <h5 class="m-0 pt-8">Continues till</h5>
                    </div>
                    <div class="col-md-7">
                        <div class="row">
                            <div class="col-md-7 pl-0 pr-4">
                                <div class="form-group mb-0">
                                    <mat-form-field>
                                        <mat-select matInput formControlName="continousTill"
                                            (selectionChange)="changeValidations()" class="form-control  br-0">
                                            <mat-option value="1">Retirement</mat-option>
                                            <mat-option value="2">Life time</mat-option>
                                            <mat-option value="3">Number of years</mat-option>
                                        </mat-select>
                                        <mat-error>This field is required</mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div *ngIf="incomeNetForm.get('continousTill').value==3" class="col-md-6 pl-4 pr-0">
                                <div class="form-group mb-0">
                                    <mat-form-field>
                                        <input matInput type="number"
                                            (keyup)="onChange(incomeNetForm,'continousTillYear',$event)"
                                            autocomplete="off" formControlName="continousTillYear"
                                            class="form-control br-0">
                                        <mat-error>This field is required</mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row pt-40">
                    <div class="col-md-5 pr-0 text-right">
                        <h5 class="m-0 pt-8">Income growth rate</h5>
                        <p class="m-0 f-12 text-custom">This is the long term growth rate rather than just the next
                            yearâ€™s
                        </p>
                    </div>
                    <div class="col-md-7 pr-0">
                        <div class="form-group mb-0 iconPetage">
                            <mat-form-field>
                                <input matInput type="number" autocomplete="off" appInputValueValidation
                                    [inputValidator]="validatorType.NUMBER_ONLY"
                                    (keyup)="onChange(incomeNetForm,'rate',$event)" formControlName="incomeGrowthRate"
                                    class="form-control br-0 percentage">
                                <mat-error>This field is required</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
                <div class="row pt-40">
                    <div class="col-md-5 pr-0 text-right">
                        <h5 class="m-0 pt-8">Income period</h5>
                        <p class="m-0 f-12 text-custom">Income start % end dates helps in planning cash flow better
                        </p>
                    </div>
                    <div class="col-md-7">
                        <div class="row">
                            <div class="col-md-6 pl-0 pr-4">
                                <div class="form-group mb-0">
                                    <mat-form-field class="ba-date">
                                        <input (dateChange)="checkDateDiff($event)" matInput autocomplete="off"
                                            formControlName="incomeStartDate" class="form-control br-0 b-0"
                                            [matDatepicker]="incomeStartdate">
                                        <mat-datepicker-toggle matSuffix [for]="incomeStartdate">
                                        </mat-datepicker-toggle>
                                        <mat-datepicker #incomeStartdate startView="multi-year"
                                            (yearSelected)="chosenYearHandler($event,incomeNetForm,'incomeStartDate')"
                                            (monthSelected)="chosenMonthHandler($event,incomeStartdate, incomeNetForm,'incomeStartDate')">
                                        </mat-datepicker>
                                        <mat-error class="f-12">This field is required
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="col-md-6 pl-4 pr-0">
                                <div class="form-group mb-0">
                                    <mat-form-field class="ba-date">
                                        <input (dateChange)="checkDateDiff($event)" matInput autocomplete="off"
                                            formControlName="incomeEndDate" class="form-control br-0 b-0"
                                            [matDatepicker]="incomeEndDate">
                                        <mat-datepicker-toggle matSuffix [for]="incomeEndDate">
                                        </mat-datepicker-toggle>
                                        <mat-datepicker #incomeEndDate startView="multi-year"
                                            (yearSelected)="chosenYearHandler($event,incomeNetForm,'incomeEndDate')"
                                            (monthSelected)="chosenMonthHandler($event,incomeEndDate,incomeNetForm,'incomeEndDate')">
                                        </mat-datepicker>
                                        <mat-error class="f-12">This field is required
                                        </mat-error>
                                    </mat-form-field>
                                    <mat-error class="f-12" [ngClass]="{'v-h': showDateError==undefined}">End date
                                        should be greater than start date
                                    </mat-error>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row pt-40">
                    <div *ngIf="addMoreFlag" (click)="showOptional()" class="col-md-5 p-0 text-right">
                        <h5 class="m-0 pt-8 text-custom c-p"> Show Less </h5>
                    </div>

                    <div *ngIf="addMoreFlag==false" (click)="showOptional()" class="col-md-5 p-0 text-right">
                        <h5 class="m-0 pt-8 text-custom c-p">+ Add more [optional data] </h5>
                    </div>

                    <div class="col-md-7">

                    </div>
                </div>

                <div *ngIf="addMoreFlag">
                    <div class="row pt-40">
                        <div class="col-md-5 pr-0 text-right">
                            <h5 class="m-0 pt-8">Next appraisal in</h5>
                            <p class="m-0 f-12 text-custom">Enter next appriasal date. Approx year & month should do
                            </p>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group mb-0">
                                <mat-form-field class="ba-date" appExternalDateFormat>
                                    <input matInput autocomplete="off" formControlName="nextAppraisal"
                                        class="form-control br-0 b-0" [matDatepicker]="nextAppraisalIN">
                                    <mat-datepicker-toggle matSuffix [for]="nextAppraisalIN">
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #nextAppraisalIN></mat-datepicker>
                                    <mat-error class="f-12">This field is required
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                    <div class="row pt-40">
                        <div class="col-md-5 p-0 text-right">
                            <h5 class="m-0 pt-8 ws-nowrap">I'm expecting a bonus/inflow</h5>
                        </div>
                        <div class="col-md-7 pr-0" [formGroup]="expectedBonusForm">
                            <div *ngFor="let singleBonusForm of getBonusList.controls;index as i"
                                [formGroup]="singleBonusForm" class="row">
                                <div class="col-md-5 pl-0 pr-4">
                                    <div class="form-group mb-0">
                                        <mat-form-field class="ba-date">
                                            <input matInput formControlName="receivingDate" autocomplete="off"
                                                class="form-control br-0 b-0" [matDatepicker]="expectedBonus">
                                            <mat-datepicker-toggle matSuffix [for]="expectedBonus">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #expectedBonus startView="multi-year"
                                                (yearSelected)="chosenYearHandler($event,singleBonusForm,'receivingDate')"
                                                (monthSelected)="chosenMonthHandler($event,expectedBonus, singleBonusForm,'receivingDate')">
                                            </mat-datepicker>
                                            <mat-error class="f-12">This field is required
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-md-5 pl-4 pr-0">
                                    <div class="form-group mb-0">
                                        <mat-form-field>
                                            <input matInput formControlName="amount" autocomplete="off" type="number"
                                                class="form-control br-0">
                                            <mat-error>This field is required</mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-md-2 pt-8">
                                    <i class="material-icons c-p text-custom" (click)="addExpectedBonus()">add</i>
                                    <i class="material-icons c-p text-custom" *ngIf="getBonusList.controls.length > 1"
                                        (click)="removeExpectedBonus(i)">remove</i>
                                </div>
                                <mat-hint align="start" class="f-12 ml-8 pb-16">Optional</mat-hint>
                            </div>

                        </div>
                    </div>
                    <div class="row pt-40">
                            <div class="col-md-5 pr-0 text-right">
                                <h5 class="m-0 pt-8">Linked bank account</h5>
                            </div>
                            <div class="col-md-5 form-group">
                                <mat-form-field>
                                    <mat-select class="form-control" formControlName="bankAcNo" matInput>
                                        <mat-option *ngFor="let option of bankList ;index as i" [value]="option.id">
                                            {{option.bankNameAndLast4Digit}}</mat-option>
                                    </mat-select>
                                    <mat-error>This field is required
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-md-1 p-0 pt-8 d-flex">
                                <!--[data]="bankAccountDetails" appBankAccount prod build (inputChange)='bankAccountList($event.value)'-->
                                <i class="material-icons text-primitive c-p float-left" (click)="openDialog(null)">add</i>
                            </div>
                        </div>
                    <div class="row pt-40">
                        <div class="col-md-5 p-0 text-right">
                            <h5 class="m-0 pt-8">Description</h5>
                            <p class="m-0 f-12 text-custom">Enter next appriasal date. Approx year & month should do
                            </p>
                        </div>
                        <div class="col-md-7">
                            <div class="form-group mb-0">
                                <mat-form-field>
                                    <input matInput formControlName="description" autocomplete="off"
                                        class="form-control br-0">
                                    <mat-hint align="start" class="f-12 ml-8">Optional</mat-hint>
                                    <mat-error>This field is required</mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="bottom-fixed wrapper-16 pb-12 w-65">
    <div class="row">
        <div *ngIf="editApiData==undefined" class="col-md-4 p-0">
            <h5 class="mb-0 pt-8 text-white c-p text-left" (click)="cancel()">Previous</h5>
        </div>
        <div *ngIf="editApiData" class="col-md-4 p-0">
            <h5 class="mb-0 pt-8 text-white c-p text-left" (click)="close(false)">Close</h5>
        </div>
        <div class="col-md-8 right text-right">
            <button mat-button class="btn-bottom br-0 text-inherit" (click)="submitIncomeForm()">SAVE</button>

        </div>
    </div>
</div>