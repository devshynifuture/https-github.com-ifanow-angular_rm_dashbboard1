<div class="row popup-header-fix-100">
    <div class="col-md-2 border-right-1 p-0">
        <img class="pt-4 w-100" src="https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png">
    </div>
    <div class="col-md-8 p-0 d-flex justify-content-center align-items-center ">

        <p class="f-16 mb-0">
            {{showInsurance.heading}} planning</p>
    </div>
    <div class="col-md-2 text-right">
        <i class="material-icons pt-16 c-p pr-16" (click)="close(showInsurance)">
            clear
        </i>
    </div>
</div>
<div class="row pt-130 health-insuranceplanning">
    <div class="col-md-12">
        <h5 class="m-0 f-500 text-black">{{showInsurance.heading}}</h5>

        <div class="row b-a">
            <div class="col-md-6">
                <h5 class="text-center f-500 text-black bb-1 pt-8 pb-8">Step 1 - Select existing policy</h5>
                <table mat-table *ngIf="dataSource.length > 0" [dataSource]="dataSource" class="mt-20" id="table-low">

                    <ng-container matColumnDef="position">
                        <th mat-header-cell *matHeaderCellDef class="br w-24"> Policy name </th>
                        <td mat-cell *matCellDef="let element" class="br w-24">
                            {{element.insuranceDetails?.insurerName}} </td>
                    </ng-container>

                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef class="br"> Premium </th>
                        <td mat-cell *matCellDef="let element" class="br" >
                          <span appFormatNumber> {{element.insuranceDetails?.premiumAmount}}/year</span> </td>
                    </ng-container>

                    <ng-container matColumnDef="weight">
                        <th mat-header-cell *matHeaderCellDef class="br"> Member name </th>
                        <td mat-cell *matCellDef="let element" class="br">
                            <span>{{element.displayHolderName}} </span>
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="symbol">
                        <th mat-header-cell *matHeaderCellDef class="br"> Sum insured </th>
                        <td mat-cell *matCellDef="let element" class="br">
                            <span appFormatNumber>{{element.displayHolderSumInsured}}</span>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="advice">
                        <th mat-header-cell *matHeaderCellDef class="br"> Advice </th>
                        <td mat-cell *matCellDef="let element" class="br">
                            <span>
                                {{element.advice ? element.advice : '-'}}
                            </span>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="icons">
                        <th mat-header-cell *matHeaderCellDef> </th>
                        <td mat-cell *matCellDef="let element">
                            <button mat-icon-button [matMenuTriggerFor]="menu">
                                <mat-icon>more_vert</mat-icon>
                            </button>
                            <mat-menu #menu="matMenu">
                                <button mat-menu-item>Item 1</button>
                                <button mat-menu-item>Item 2</button>
                            </mat-menu>
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
                <div *ngIf="dataSource.length == 0 " class="d-flex flex-column align-items-center">
                    <!-- <img class="width400" src="assets/images/svg/clients-img.svg"> -->
                    <h4 class="text-center pt-12">Select from existing health insurance policies. 
                            Once selected, you can give advice on them</h4>
                    <h4 class="text-center pt-12 text-custom">You can give advice on multiple policies at once.</h4>
                    <button mat-stroked-button class="btn-primary addon v-middle" (click)="openHelthInsurance(showInsurance)" >SELECT ONE
                    </button>
                </div>
                <p class="m-0 text-black roboto pt-20 pb-20 c-p" *ngIf="dataSource.length > 0" (click)="openHelthInsurance(showInsurance)">+ Add more
                </p>
            </div>
            <div class="col-md-6 bl-1">
                <h5 class="text-center f-500 text-black bb-1 pt-8 pb-8">Step 2 - Suggest new policy</h5>
                <!-- <div class="row center-items">
                    <div class="col-md-12 p-0">
                        <p class="m-0 roboto text-black">Suggest new policy from here.</p>
                        <p class="text-custom roboto m-0">You can suggest multiple policies too. </p>
                        <button mat-stroked-button class="mt-20 btn-primary">SUGGEST NEW</button>
                    </div>
                </div> -->
                <table mat-table *ngIf="dataSource1.length > 0" [dataSource]="dataSource1" class="mt-20" id="table-low">
                    <ng-container matColumnDef="position">
                        <th mat-header-cell *matHeaderCellDef class="br w-35"> Policy name </th>
                        <td mat-cell *matCellDef="let element" class="br w-35">
                            {{element.insuranceDetails?.insurerName}} </td>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef class="br">Premium </th>
                        <td mat-cell *matCellDef="let element" class="br" >
                            <span appFormatNumber> {{element.insuranceDetails?.premiumAmount}}/year</span>
                        </td>
                    </ng-container>

                    <!-- Weight Column -->
                    <ng-container matColumnDef="weight">
                        <th mat-header-cell *matHeaderCellDef class="br"> Member name </th>
                        <td mat-cell *matCellDef="let element" class="br">
                            <span>{{element.displayHolderName}} </span>
                        </td>
                    </ng-container>

                    <!-- Symbol Column -->
                    <ng-container matColumnDef="symbol">
                        <th mat-header-cell *matHeaderCellDef class="br"> Sum insured</th>
                        <td mat-cell *matCellDef="let element" class="br"> <span
                                appFormatNumber>{{element.displayHolderSumInsured}}</span> </td>
                    </ng-container>
                    <ng-container matColumnDef="icons">
                        <th mat-header-cell *matHeaderCellDef> </th>
                        <td mat-cell *matCellDef="let element">
                            <button mat-icon-button [matMenuTriggerFor]="menu">
                                <mat-icon>more_vert</mat-icon>
                            </button>
                            <mat-menu #menu="matMenu">
                                <button mat-menu-item>Item 1</button>
                                <button mat-menu-item>Item 2</button>
                            </mat-menu>
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>
                </table>
                <div *ngIf="dataSource1.length == 0 " class="d-flex flex-column align-items-center">
                    <!-- <img class="width400" src="assets/images/svg/clients-img.svg"> -->
                    <h4 class="text-center pt-12">Suggest new policy from here.</h4>
                    <h4 class="text-center pt-12 text-custom">You can suggest multiple policies too.</h4>
                    <button mat-stroked-button class="btn-primary addon v-middle" (click)="openSuggestHealth(showInsurance)">SUGGEST NEW
                        </button>
                </div>
                <p class="m-0 text-black text-left roboto pt-20 pb-20 c-p"  *ngIf="dataSource1.length > 0 " (click)="openSuggestHealth(showInsurance)">+
                    Suggest more</p>
            </div>
        </div>
    </div>
</div>

<div class="bottom-fixed wrapper-12 w-100">
    <div class="row">
        <div class="col-md-6">
            <h5 class="mb-0 pt-8 text-white c-p" (click)="close(showInsurance)">Cancel</h5>
        </div>
        <div class="col-md-6 text-right">
            <button mat-button class="btn-bottom br-0 text-inherit">Save
            </button>
        </div>
    </div>
</div>