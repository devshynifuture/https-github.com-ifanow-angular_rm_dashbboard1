<div id="ui-plan-summary">
    <div class="row">

        <div class="col-md-2 p-0 bg-white pb-44 skeletonAnimation" [appSkeletonLoading]="true" appSkeletonLoading>
            <div class="wrapper-16 bb-2 c-p">
                <p class="m-0 text-black roboto f-400">ANNUAL SURPLUS <span
                        class="text-primitive f-12">{{ yearToShow }}</span>
                </p>
                <div *ngIf="isLoadingCashFlow==false">
                    <h1 *ngIf="!isLoadingCashFlow" class="f-35 m-0 text-black pt-8">
                        ₹<span appFormatNumber [value]="annualSurplus ? annualSurplus : 0"></span>
                    </h1>
                </div>
                <div class="relClass" *ngIf="isLoadingCashFlow">
                    <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                        <h1 class="f-35 m-0 roboto text-black pt-8 ">
                            <span>{{''}}</span>
                        </h1>
                    </div>
                </div>

                <div class="row pt-20">
                    <div class="col-md-6 p-0">
                        <p class="text-black f-12 m-0 roboto f-400">INCOME</p>
                    </div>
                    <div class="col-md-6 p-0" *ngIf="!isLoadingCashFlow">
                        <p class="text-black f-12 m-0 text-right roboto f-400">
                            {{cashFlowData?.income ? "₹" : ""}}<span appFormatNumber [shouldRoundOff]="true"
                                [value]="cashFlowData ? cashFlowData.income : '-'"></span></p>
                    </div>
                    <div class="col-md-6 p-0 relClass" *ngIf="isLoadingCashFlow">
                        <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                            <p class="text-black f-12 m-0 text-right roboto f-400">
                                {{''}}</p>
                        </div>
                    </div>
                    <div class="col-md-12 p-0" *ngIf="!isLoadingCashFlow">
                        <mat-progress-bar class="light-blue" mode="determinate" [matTooltip]="incomePercent+'%'"
                            [value]="incomePercent"></mat-progress-bar>
                    </div>
                </div>
                <div class="row pt-20">
                    <div class="col-md-6 p-0">
                        <p class="text-black f-12 m-0 roboto f-400">EXPENSES</p>
                    </div>
                    <div class="col-md-6 p-0" *ngIf="!isLoadingCashFlow">
                        <!-- <p class="text-black f-12 m-0 text-right roboto f-400">₹19,77,000</p> -->
                        <p class="text-black f-12 m-0 text-right roboto f-400">{{cashFlowData?.expense ? "₹" : ""}}<span
                                appFormatNumber [shouldRoundOff]="true"
                                [value]="cashFlowData?.expense ? cashFlowData?.expense : '-'"></span></p>
                    </div>
                    <div class="col-md-6 p-0 relClass" *ngIf="isLoadingCashFlow">
                        <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                            <p class="text-black f-12 m-0 text-right roboto f-400">
                                {{''}}</p>
                        </div>
                    </div>
                    <div class="col-md-12 p-0" *ngIf="!isLoadingCashFlow">
                        <mat-progress-bar class="light-red" mode="determinate" [matTooltip]="expensePercent+'%'"
                            [value]="expensePercent"></mat-progress-bar>
                    </div>
                </div>
            </div>

            <div class="row pt-20">
                <div class="col-md-10 pr-0">
                    <p class="mb-0 f-16 roboto f-400"> Budget status <span class="text-primitive f-12">{{yearToShow}}
                        </span>
                    </p>
                </div>
                <!-- <div class="col-md-2 pl-0  ">
                    <i class="material-icons c-p">
                        more_horiz
                    </i>
                </div> -->
            </div>

            <div *ngIf="budgetData?.length > 0 && !isLoadingBudget">
                <div class="row bb c-p pt-10" *ngFor="let item of budgetData">
                    <div class="col-md-9 pr-0">
                        <p class="mb-0 f-14 text-black roboto f-400"> {{item.expenseType}} </p>
                        <p class="mb-10 f-14 roboto text-custom f-400"> ₹<span appFormatNumber>{{item.amount}}</span> /
                            <span appFormatNumber>{{item.spent}}</span></p>
                    </div>
                    <div class="col-md-3 pl-0 d-flex justify-content-end align-items-end ">
                        <p class="mb-10 f-14 text-success roboto f-400" *ngIf="item.progressPercent <= 100">
                            {{item.progressPercent ? item.progressPercent : 0}}% </p>
                        <p class="mb-10 f-14 text-danger roboto f-400" *ngIf="item.progressPercent > 100">
                            {{item.progressPercent ? item.progressPercent : 0}}% </p>
                    </div>
                </div>
            </div>
            <div *ngIf="budgetData?.length > 0 && isLoadingBudget" class="relClass">
                <div class="row bb c-p pt-10" *ngFor="let item of budgetData">
                    <div [ngClass]="{'height23': isLoadingBudget}" class="bar">
                        <div class="col-md-9 pr-0">
                            <p class="mb-0 f-14 text-black roboto f-400"> {{item.expenseType}} </p>
                            <p class="mb-10 f-14 roboto text-custom f-400"> <span appFormatNumber>{{item.amount}}</span>
                                <span appFormatNumber>{{item.spent}}</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="budgetData?.length == 0">
                <h4 class="d-flex justify-content-center b-a p-44">
                    No Data Found
                </h4>
            </div>
            <!-- <div class="row bb c-p pt-10">
                <div class="col-md-9 pr-0">
                    <p class="mb-0 f-14 text-black  roboto f-400"> Transportation </p>
                    <p class="mb-10 f-14 roboto text-custom f-400"> ₹8,000 / 7,200 </p>
                </div>
                <div class="col-md-3 pl-0 d-flex justify-content-end align-items-end ">
                    <p class="mb-10 f-14 text-success roboto f-400"> 80% </p>
                </div>
            </div> -->


            <!-- <div class="row bb c-p pt-10">
                <div class="col-md-9 pr-0">
                    <p class="mb-0 f-14 text-black  roboto f-400"> School fees </p>
                    <p class="mb-10 f-14 roboto text-custom f-400">₹5,600 / 5,600 </p>
                </div>
                <div class="col-md-3 pl-0 d-flex justify-content-end align-items-end ">
                    <p class="mb-10 f-14 text-success roboto f-400"> 100% </p>
                </div>
            </div>

            <div class="row bb c-p pt-10">
                <div class="col-md-9 pr-0">
                    <p class="mb-0 f-14 text-black  roboto f-400"> Dining out </p>
                    <p class="mb-10 f-14 roboto text-custom f-400"> ₹3,000 / 3,700</p>
                </div>
                <div class="col-md-3 pl-0 d-flex justify-content-end align-items-end ">
                    <p class="mb-10 f-14 text-danger roboto f-400"> 122% </p>
                </div>
            </div>


            <div class="row bb c-p pt-10">
                <div class="col-md-9 pr-0">
                    <p class="mb-0 f-14 text-black  roboto f-400"> Leisure & entertainment</p>
                    <p class="mb-10 f-14 roboto text-custom f-400"> ₹2,000 / 0 </p>
                </div>
                <div class="col-md-3 pl-0 d-flex justify-content-end align-items-end ">
                    <p class="mb-10 f-14 text-primary roboto f-400"> 0% </p>
                </div>
            </div>

            <div class="row bb c-p pt-10">
                <div class="col-md-9 pr-0">
                    <p class="mb-0 f-14 text-black  roboto f-400"> Mutual fund SIP </p>
                    <p class="mb-10 f-14 roboto f-400 text-primitive"> ₹1000 / 1200 </p>
                </div>
                <div class="col-md-3 pl-0 d-flex justify-content-end align-items-end ">
                    <p class="mb-10 f-14 text-primary roboto f-400 f-400"> 80% </p>
                </div>
            </div> -->

        </div>


        <div class="col-md-8 p-0 b-l">
            <div class="row b-b">
                <div class="col-md-8 p-0">
                    <h3 class="m-0 roboto wrapper-20 f-500 text-black">Plan summary</h3>
                </div>
                <!-- <div class="col-md-4 pl-0">
                    <button [matMenuTriggerFor]="menu" class="right text-right b-a mt-12 br-0" mat-button>
                        Scenario 2 <i class="material-icons text-custom">
                            keyboard_arrow_down
                        </i></button>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item>Item 1</button>
                        <button mat-menu-item>Item 2</button>
                    </mat-menu>
                </div> -->
            </div>

            <div class="bg-grey lter">
                <div class="row">
                    <div class="col-md-8 mt-16 pr-8">
                        <div class="bg-white p-20">
                            <h5 class="f-400 mb-20 roboto">Goal summary</h5>
                            <div class="row skeletonAnimation" [appSkeletonLoading]="isLoadingGoals" appSkeletonLoading>
                                <div class="col-md-4 pl-0">
                                    <div class="row">
                                        <div class="col-md-12 p-0 mb-16">
                                            <div class="totalGoalsBox">
                                                <p class="f-14 mb-5 f-400 roboto">Total goals</p>
                                                <h1 class="text-primary f-400 roboto" *ngIf="!isLoadingGoals">
                                                    {{ goalSummaryCountObj?.totalGoals ? goalSummaryCountObj?.totalGoals : 0 }}
                                                </h1>
                                                <div class="col-md-6 p-0 relClass" *ngIf="isLoadingGoals">
                                                    <div [ngClass]="{'height24': isLoadingGoals}" class="bar">
                                                        <p class="text-black f-12 m-0 text-right roboto f-400">
                                                            {{''}}</p>
                                                    </div>
                                                </div>
                                            </div>


                                        </div>

                                        <div class="col-md-12 p-0">
                                            <div class="totalGoalsBox">
                                                <p class="f-14 mb-5 f-400 roboto">Upcoming</p>
                                                <h1 class="text-primary f-400 roboto" *ngIf="!isLoadingGoals">
                                                    {{ goalSummaryCountObj?.upcomingGoalsCount ? goalSummaryCountObj?.upcomingGoalsCount : 0 }}
                                                </h1>
                                                <div class="col-md-6 p-0 relClass" *ngIf="isLoadingGoals">
                                                    <div [ngClass]="{'height24': isLoadingGoals}" class="bar">
                                                        <p class="text-black f-12 m-0 text-right roboto f-400">
                                                            {{''}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 pl-0 pr-8">
                                    <div class="investmentBox text-center">
                                        <p class="f-14 mb-10 l-18 roboto f-400">Investments <br> mapped to goals</p>

                                        <span class="linebr"></span>

                                        <p class="f-14 mb-0 roboto f-400">Monthly</p>
                                        <h4 class="text-primary roboto f-400" *ngIf="!isLoadingGoals"><span
                                                appFormatNumber [shouldRoundOff]="true"
                                                [value]="goalSummaryCountObj?.monthlyInvestmentMappedToGoals ? goalSummaryCountObj?.monthlyInvestmentMappedToGoals : 0"></span>
                                        </h4>
                                        <div class="col-md-6 p-0 relClass" *ngIf="isLoadingGoals">
                                            <div [ngClass]="{'height24': isLoadingGoals}" class="bar">
                                                <p class="text-primary roboto f-400">
                                                    {{''}}</p>
                                            </div>
                                        </div>
                                        <p class="f-14 mb-0 roboto f-400">Lumpsum</p>
                                        <h4 class="text-primary roboto f-400" *ngIf="!isLoadingGoals"><span
                                                appFormatNumber [shouldRoundOff]="true"
                                                [value]="goalSummaryCountObj?.lumpsumInvestmentMappedToGoals ? goalSummaryCountObj?.lumpsumInvestmentMappedToGoals : 0"></span>
                                        </h4>
                                        <div class="col-md-6 p-0 relClass" *ngIf="isLoadingGoals">
                                            <div [ngClass]="{'height24': isLoadingGoals}" class="bar">
                                                <p class="text-primary roboto f-400">
                                                    {{''}}</p>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <!-- <div class="col-md-4 pl-8 pr-0">
                                    <div class="investmentBox text-center">
                                        <p class="f-14 mb-10 l-18 roboto f-400">Additional <br> suggestions</p>

                                        <span class="linebr"></span>

                                        <p class="f-14 mb-0 roboto f-400">Monthly</p>
                                        <h4 class="text-primary roboto f-400">₹14,000</h4>

                                        <p class="f-14 mb-0 roboto f-400">Lumpsum</p>
                                        <h4 class="text-primary roboto f-400">₹5,75,000</h4>

                                    </div>
                                </div> -->
                            </div>

                            <div class="row pt-20" *ngIf="dataSource?.data?.length>0">

                                <div class="col-md-12 p-0">
                                    <p class="f-14 left m-0 roboto f-400">Quick view</p>
                                    <!-- <p class="f-14 right m-0">
                                        <i class="material-icons">
                                            keyboard_arrow_left
                                        </i>
                                        <i class="material-icons">
                                            keyboard_arrow_right
                                        </i>
                                    </p> -->
                                </div>


                                <div class="col-md-12 planTable p-0">
                                    <mat-paginator [hidePageSize]="true" [pageSize]="1"></mat-paginator>
                                    <table mat-table [dataSource]="dataSource" id="table-low" class="skeletonAnimation"
                                        [appSkeletonLoading]="isLoadingGoals">

                                        <!--- Note that these columns can be defined in any order.
                                                      The actual rendered columns are set as a property on the row definition" -->

                                        <!-- Position Column -->
                                        <ng-container matColumnDef="details">
                                            <th mat-header-cell *matHeaderCellDef> Goal details </th>
                                            <td mat-cell *matCellDef="let element">
                                                <div
                                                    class="d-flex align-items-center justify-content-around bg-primary-progress bar">
                                                    <div>
                                                        <img [src]="element.imageUrl" *ngIf="element.imageUrl"
                                                            class="h-50 w-auto">
                                                    </div>
                                                    <div class="">
                                                        <p class="f-14 m-0"> {{ element.details }} </p>
                                                        <mat-progress-bar mode="determinate"
                                                            [value]="element.percentCompleted">
                                                        </mat-progress-bar>
                                                    </div>
                                                </div>
                                            </td>
                                        </ng-container>

                                        <!-- Name Column -->
                                        <ng-container matColumnDef="value">
                                            <th mat-header-cell *matHeaderCellDef> Goal value </th>
                                            <td mat-cell *matCellDef="let element">
                                                <div class="bar" appFormatNumber [shouldRoundOff]="false"
                                                    [value]="element.value">
                                                    {{element.value}}
                                                </div>
                                            </td>
                                        </ng-container>

                                        <!-- Weight Column -->
                                        <ng-container matColumnDef="month">
                                            <th mat-header-cell *matHeaderCellDef> Monthly </th>
                                            <td mat-cell *matCellDef="let element">
                                                <div class="bar" appFormatNumber [shouldRoundOff]="false"
                                                    [value]="element.month">
                                                    {{element.month}}
                                                </div>
                                            </td>
                                        </ng-container>

                                        <!-- Symbol Column -->
                                        <ng-container matColumnDef="lumpsum">
                                            <th mat-header-cell *matHeaderCellDef> Lumpsum </th>
                                            <td mat-cell *matCellDef="let element">
                                                <div class="bar" appFormatNumber [shouldRoundOff]="false"
                                                    [value]="element.lumpsum">
                                                    {{element.lumpsum}}
                                                </div>
                                            </td>
                                        </ng-container>

                                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                                    </table>

                                    <div *ngIf="dataSource?.data?.length == 0">
                                        <h4 class="d-flex justify-content-center b-a p-44">
                                            No Data Found
                                        </h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mt-16 pl-8 skeletonAnimation" [appSkeletonLoading]="isLoadingSummary"
                        appSkeletonLoading>
                        <div class="bg-white p-20">
                            <h5 class="f-500 mb-10"> Insurance summary</h5>
                            <div *ngIf="insurancePlanList?.length > 0 && !isLoadingSummary">
                                <div class="row b-b pt-14" *ngFor="let item of insurancePlanList">
                                    <div class="col-md-2 p-0">
                                        <img [src]="item.img">
                                    </div>
                                    <div class="col-md-10 pr-0 ">
                                        <p class="f-14 m-0 roboto f-400">{{ item.insuranceName }}</p>
                                        <p class="f-14 mb-16 f-600">₹ <span appFormatNumber [shouldRoundOff]="true"
                                                [value]="item?.amount"></span></p>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="insurancePlanList?.length > 0 && isLoadingSummary" class="relClass">
                                <div class="row bb c-p pt-10" *ngFor="let item of insurancePlanList">
                                    <div [ngClass]="{'height23': isLoadingSummary}" class="bar">
                                        <div class="col-md-2 p-0">
                                            {{''}}
                                        </div>
                                        <div class="col-md-10 pr-0 ">
                                            <p class="f-14 m-0 roboto f-400">{{ '' }}</p>
                                            <p class="f-14 mb-16 f-600"> <span appFormatNumber
                                                    [shouldRoundOff]="true">{{''}}</span></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="insurancePlanList?.length == 0 && !isLoadingSummary">
                                <h4 class="d-flex justify-content-center b-a p-44">
                                    No Data Found
                                </h4>
                            </div>


                        </div>

                    </div>
                </div>

                <div class="row">
                    <!-- <div class="col-md-8 mt-16 pr-8">
                        <div class="bg-white p-20">
                            <h5 class="f-500 mb-20">Ratios</h5>

                            <div class="row">
                                <div class="col-md-3 pl-0">
                                    <div class="ratiosGreen">
                                        <p class="f-14 l-18 mb-8 roboto f-400">Basic <br>liquidity</p>
                                        <h4 class="text-success m-0">55.8</h4>
                                    </div>
                                </div>
                                <div class="col-md-3 pl-0 pr-8">
                                    <div class="ratiosOrange">
                                        <p class="f-14 l-18 mb-8 roboto f-400"> Expanded <br>liquidity</p>
                                        <h4 class="text-danger m-0">20%</h4>
                                    </div>
                                </div>
                                <div class="col-md-3 pl-8 pr-0">
                                    <div class="ratiosGreen">
                                        <p class="f-14 l-18 mb-8 roboto f-400"> Savings <br> ratio </p>
                                        <h4 class="text-success m-0">63%</h4>
                                    </div>
                                </div>
                                <div class="col-md-3 pr-0">
                                    <div class="ratiosGreen">
                                        <p class="f-14 l-18 mb-8 roboto f-400"> Investment <br>ratio</p>
                                        <h4 class="text-success m-0">82%</h4>
                                    </div>
                                </div>
                            </div>

                            <div class="row pt-16">
                                <div class="col-md-3 pl-0">
                                    <div class="ratiosGreen">
                                        <p class="f-14 l-18 mb-8 roboto f-400">Debt <br>asset</p>
                                        <h4 class="text-success m-0">0%</h4>
                                    </div>
                                </div>
                                <div class="col-md-3 pl-0 pr-8">
                                    <div class="ratiosGreen">
                                        <p class="f-14 l-18 mb-8 roboto f-400"> Solvency <br>ratio</p>
                                        <h4 class="text-success m-0">100%</h4>
                                    </div>
                                </div>
                                <div class="col-md-3 pl-8 pr-0">
                                    <div class="ratiosGreen">
                                        <p class="f-14 l-18 mb-8 roboto f-400"> Debt
                                            <br> service </p>
                                        <h4 class="text-success m-0">0%</h4>
                                    </div>
                                </div>
                                <div class="col-md-3 pr-0">
                                    <div class="ratiosGreen">
                                        <p class="f-14 l-18 mb-8 roboto f-400"> Financial
                                            <br>investment</p>
                                        <h4 class="text-success m-0">85%</h4>
                                    </div>
                                </div>
                            </div>



                        </div>
                    </div> -->

                    <div class="col-md-4 mt-16 pl-8 skeletonAnimation" [appSkeletonLoading]="isLoadingCashFlow"
                        appSkeletonLoading>
                        <div class="bg-white p-20">
                            <div class="row d-flex align-items-center justify-content-between b-b">
                                <h5 class="f-500 mb-10 roboto f-400"> Cash flows </h5>
                                <p class="f-14 text-primitive mb-10">{{ yearToShow }}</p>
                            </div>

                            <div class="row pt-8 pb-8 d-flex align-items-center justify-content-between b-b">
                                <p class="f-14 m-0 roboto f-400">Incomes{{isLoadingCashFlow}}</p>
                                <p class="f-14 m-0" *ngIf="!isLoadingCashFlow">
                                    {{cashFlowData?.income ? "₹" : ""}}<span appFormatNumber [shouldRoundOff]="true"
                                        [value]="cashFlowData ? cashFlowData.income : '-'"></span></p>
                                <div class="col-md-6 p-0 relClass" *ngIf="isLoadingCashFlow">
                                    <div [ngClass]="{'height24': isLoadingCashFlow}" class="bar">
                                        <p class="text-black f-12 m-0 text-right roboto f-400">
                                            {{''}}</p>
                                    </div>
                                </div>
                            </div>

                            <div class="row pt-8 pb-8 d-flex align-items-center justify-content-between b-b">
                                <p class="f-14 m-0 roboto f-400">Expenses</p>
                                <p class="f-14 m-0" *ngIf="!isLoadingCashFlow">{{cashFlowData?.expense ? "₹" : ""}}<span appFormatNumber
                                        [shouldRoundOff]="true"
                                        [value]="cashFlowData?.expense ? cashFlowData?.expense : '-'"></span></p>
                                <div class="col-md-6 p-0 relClass" *ngIf="isLoadingCashFlow">
                                    <div [ngClass]="{'height24': isLoadingCashFlow}" class="bar">
                                        <p class="text-black f-12 m-0 text-right roboto f-400">
                                            {{''}}</p>
                                    </div>
                                </div>
                            </div>

                            <div class="row pt-8 pb-8 d-flex align-items-center justify-content-between b-b">
                                <p class="f-14 m-0 roboto f-400">Assets</p>
                                <p class="f-14 m-0" *ngIf="!isLoadingCashFlow">{{cashFlowData?.asset ? "₹" : ""}}<span appFormatNumber
                                        [shouldRoundOff]="true"
                                        [value]="cashFlowData?.asset ? cashFlowData?.asset : '-'"></span></p>
                                <div class="col-md-6 p-0 relClass" *ngIf="isLoadingCashFlow">
                                    <div [ngClass]="{'height24': isLoadingCashFlow}" class="bar">
                                        <p class="text-black f-12 m-0 text-right roboto f-400">
                                            {{''}}</p>
                                    </div>
                                </div>
                            </div>

                            <div class="row pt-8 pb-8 d-flex align-items-center justify-content-between b-b">
                                <p class="f-14 m-0 roboto f-400">Insurance</p>
                                <p class="f-14 m-0" *ngIf="!isLoadingCashFlow">{{cashFlowData?.insurance ? "₹" : ""}}<span appFormatNumber
                                        [shouldRoundOff]="true"
                                        [value]="cashFlowData?.insurance ? cashFlowData?.insurance : '-'"></span></p>
                                <div class="col-md-6 p-0 relClass" *ngIf="isLoadingCashFlow">
                                    <div [ngClass]="{'height24': isLoadingCashFlow}" class="bar">
                                        <p class="text-black f-12 m-0 text-right roboto f-400">
                                            {{''}}</p>
                                    </div>
                                </div>
                            </div>

                            <div class="row pt-8 pb-8 d-flex align-items-center justify-content-between b-b">
                                <p class="f-14 m-0 roboto f-400">Liabilities</p>
                                <p class="f-14 m-0" *ngIf="!isLoadingCashFlow">{{cashFlowData?.loan ? "₹" : ""}}<span appFormatNumber
                                        [shouldRoundOff]="true"
                                        [value]="cashFlowData?.loan ? cashFlowData?.loan : '-'"></span></p>
                                <div class="col-md-6 p-0 relClass" *ngIf="isLoadingCashFlow">
                                    <div [ngClass]="{'height24': isLoadingCashFlow}" class="bar">
                                        <p class="text-black f-12 m-0 text-right roboto f-400">
                                            {{''}}</p>
                                    </div>
                                </div>
                            </div>

                            <div class="row pt-8 pb-8 d-flex align-items-center justify-content-between b-b">
                                <p class="f-14 f-600 m-0">Surplus</p>
                                <p class="f-14 f-600 m-0" *ngIf="!isLoadingCashFlow">{{cashFlowData?.surplus ? "₹" : ""}}<span appFormatNumber
                                        [shouldRoundOff]="true"
                                        [value]="cashFlowData?.surplus ? cashFlowData?.surplus : '-'"></span></p>
                                <div class="col-md-6 p-0 relClass" *ngIf="isLoadingCashFlow">
                                    <div [ngClass]="{'height24': isLoadingCashFlow}" class="bar">
                                        <p class="text-black f-12 m-0 text-right roboto f-400">
                                            {{''}}</p>
                                    </div>
                                </div>
                            </div>





                        </div>
                    </div>

                </div>

            </div>


        </div>

        <div class="col-md-2 p-0">
            <div class="b-a">
                <div class="row b-b">
                    <div class="col-md-3 p-0">
                        <img class="t-85 pt-16 pb-20 pl-8 rounded-circle"
                            src="http://localhost:4200/assets/images/img1.jpg">
                    </div>
                    <div class="col-md-9 p-0 text-left">
                        <p class="text-black m-0 f-500 pt-20">Acme Financial Advisors</p>
                        <p class="text-custom m-0">Contact</p>
                    </div>
                </div>
                <div class="b-b pl-12">
                    <h5 class="roboto mt-16 mb-10 f-500">Financial plan</h5>
                    <div class="d-flex mb-20">
                        <img src="assets/images/svg/financial-plan.svg" (click)="generatePdf()">
                        <mat-spinner [diameter]="30" *ngIf="fragmentData.isSpinner"></mat-spinner>
                        <div class="detailsPDF">
                            <p class="f-12 l-18 f-500 roboto mb-10">Financial plan.pdf</p>
                            <p class="f-12 l-18 mb-0">980 KB</p>
                            <p class="f-12 l-18 m-0">23/09/2019 <br> 09:28 AM</p>
                        </div>
                    </div>



                </div>


                <!-- <div class="">
                    <div class="wrapper-20 pl-12 pr-12">
                        <div class="row">
                            <div class="col-md-12 p-0">
                                <h5 class="m-0 text-black pb-12">Activity log</h5>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 p-0">
                                <p class="m-0 f-13 f-300 text-black">Fixed deposit - 980787870909 -
                                    <br>ICICI FD was created manually.</p>
                                <p class="text-custom m-0 f-13 pt-4 f-300">by Acme Financial Advisors</p>
                                <p class="m-0 text-black f-12 text-right f-300">04/09/2019 6:00 AM</p>
                            </div>
                        </div>
                    </div>
                    <div class="wrapper-20 pl-12 pt-12 pr-12 pb-12 bt-1">
                        <div class="row">
                            <div class="col-md-12 p-0">
                                <p class="m-0 f-13 f-300 text-black">Fixed deposit - 980787870909 -
                                    <br>ICICI FD was created manually.</p>
                                <p class="text-custom m-0 f-13 pt-4 f-300">by Acme Financial Advisors</p>
                                <p class="m-0 text-black f-12 pb-12 text-right f-300">04/09/2019 6:00 AM</p>
                            </div>
                        </div>
                    </div>
                    <div class="wrapper-20 pl-12 pt-12 pb-12 pr-12 bt-1">
                        <div class="row">
                            <div class="col-md-12 p-0">
                                <p class="m-0 f-13 f-300 text-black">Fixed deposit - 980787870909 -
                                    <br>ICICI FD was created manually.</p>
                                <p class="text-custom m-0 pt-4 f-13 f-300">by Acme Financial Advisors</p>
                                <p class="m-0 text-black f-12 pb-12 text-right f-300">04/09/2019 6:00 AM</p>
                            </div>
                        </div>
                    </div>
                    <div class="wrapper-20 pl-12 pt-12 pb-12 pr-12 bt-1">
                        <div class="row">
                            <div class="col-md-12 p-0">
                                <p class="m-0 f-13 f-300 text-black">Fixed deposit - 980787870909 -
                                    <br>ICICI FD was created manually.</p>
                                <p class="text-custom m-0 pt-4 f-300">by Acme Financial Advisors</p>
                                <p class="m-0 text-black f-12 pb-12 text-right f-300">04/09/2019 6:00 AM</p>
                            </div>
                        </div>
                    </div>

                </div> -->
            </div>
        </div>

    </div>
</div>
<!-------------------------------pdf-------------------------------->
<!-- <div #summaryPlan id="planSummary">
        <div >
            <h1>{{'helooo'}}{{loopEle}}</h1>
               
              </div>
</div> -->

<html #summaryPlan id="planSummary" style="display: none">


<body>
    <table cellpadding="0" cellspacing="0" border="0"
        style="width: 700px; font-family: 'Roboto', sans-serif; margin: 0px auto;"
        align="center; page-break-before: always;">

        <tr>
            <td>
                <table style="width: 100%; border: 0px; padding-bottom: 10px; border-bottom: 1px solid #dee5e7;">
                    <tr>
                        <td>
                            <h3 style="margin: 0px; font-size: 16px;">
                                {{clientData?.displayName}}'s Financial Plan
                            </h3>
                        </td>
                        <td style="text-align: right;">
                            <p style="margin: 0px 0px 5px 0px; font-size: 14px;">
                                Prepared by
                            </p>
                            <h3 style="margin: 0px; font-size: 16px;">
                                {{getOrgData?.companyName ? getOrgData?.companyName : '-'}}
                            </h3>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>

        <tr>
            <td>
                <table
                    style="width: 100%; border: 0px; padding-top: 30px; padding-bottom: 10px; border-bottom: 1px solid #dee5e7;">

                    <tr>
                        <td>
                            <h3 style="margin: 0px; font-size: 16px;">
                                {{singleGoalData?.details ? singleGoalData?.details : '-'}}
                            </h3>
                        </td>

                        <td style="text-align: right;">
                            <h3 style="margin: 0px; font-weight: 400; font-size: 16px;">
                                {{singleGoalData?.year ? singleGoalData?.year : '-'}}
                            </h3>
                        </td>
                    </tr>

                </table>
            </td>
        </tr>


        <tr>
            <td>
                <table style="border: 0px; margin-top: 20px; width: 100%;">
                    <tr>
                        <td style="width: 265px;">
                            <img style="width: 265px; height: 265px;" [src]="singleGoalData?.imageUrl">
                        </td>

                        <td style="vertical-align: top; padding-left: 15px;">
                            <table
                                style="border: 0px; width: 100%; border-bottom: 1px solid #dee5e7; padding-bottom: 5px;">
                                <tr>
                                    <td>
                                        <p style="color: #83959D; margin: 0px 0px 5px 0px; font-size: 14px;">
                                            Goal Amount </p>
                                        <h5 style="font-size: 16px; margin: 0px;">
                                            Rs.<span appFormatNumber
                                                [value]="singleGoalData?.goalFV ? singleGoalData?.goalFV : '0'"></span>
                                        </h5>
                                    </td>


                                    <td>
                                        <p style="color: #83959D; margin: 0px 0px 5px 0px; font-size: 14px;">
                                            Achieved </p>
                                        <h5 style="font-size: 16px; margin: 0px;">
                                            Rs.<span appFormatNumber
                                                [value]="singleGoalData?.achievedValue ? singleGoalData?.achievedValue : '0'"></span>
                                        </h5>
                                    </td>
                                </tr>
                            </table>

                            <table style="margin: 20px 0px 20px 0px; width: 100%; ">
                                <tr>
                                    <td>
                                        <div style="line-height: 30px; font-size: 12px; background:#007bff; height: 30px;"
                                            [ngStyle]="{'width':singleGoalData?.percentCompleted > 100 ? 100 : singleGoalData?.percentCompleted +'%' }">
                                            {{singleGoalData?.percentCompleted ? singleGoalData?.percentCompleted : '-'}}%
                                        </div>

                                    </td>
                                </tr>
                            </table>

                            <p style="margin: 0px; font-size: 14px; font-weight: 600;">Additional Required</p>

                            <table cellpadding="0" cellspacing="0"
                                style="margin: 10px 0px 0px 0px; font-size: 14px; width: 100%; border: 1px solid #dee5e7;">
                                <tr>
                                    <td style="border-bottom: 1px solid #dee5e7;">

                                    </td>

                                    <td style="border-bottom: 1px solid #dee5e7; padding: 10px; text-align: right;">
                                        Monthly
                                    </td>

                                    <td style="border-bottom: 1px solid #dee5e7;padding: 10px; text-align: right;">
                                        Lumpsum
                                    </td>
                                </tr>

                                <tr>
                                    <td style="padding: 10px; border-bottom: 1px solid #dee5e7;"> Equity</td>
                                    <td style="padding: 10px; border-bottom: 1px solid #dee5e7; text-align: right;">
                                        <span appFormatNumber
                                            [value]="singleGoalData?.equity_monthly ? singleGoalData?.equity_monthly : '0'"></span>
                                    </td>
                                    <td style="padding: 10px; border-bottom: 1px solid #dee5e7; text-align: right;">
                                        <span appFormatNumber
                                            [value]="singleGoalData?.lump_equity ? singleGoalData?.lump_equity : '0'"></span>
                                    </td>
                                </tr>

                                <tr>
                                    <td style="padding: 10px;"> Debt</td>
                                    <!-- <span style="font-size: 12px;"> 0%</span> -->
                                    <td style="padding: 10px; text-align: right;">
                                        <span appFormatNumber
                                            [value]="singleGoalData?.debt_monthly ? singleGoalData?.debt_monthly : '0'"></span>
                                    </td>
                                    <td style="padding: 10px; text-align: right;">
                                        <span appFormatNumber
                                            [value]="singleGoalData?.lump_debt ? singleGoalData?.lump_debt : '0'"></span>
                                    </td>
                                </tr>

                            </table>

                        </td>
                    </tr>
                </table>


            </td>
        </tr>


        <tr>
            <td>
                <table cellpadding="0" cellspacing="0" style="margin-top: 25px; width: 100%;">
                    <tr>
                        <td>
                            <p style=" font-size: 15px; font-weight: 600;">Assets allocated to this goal</p>

                            <table cellpadding="0" cellspacing="0"
                                style="width: 100%; font-size: 14px; border: 1px solid #dee5e7;">
                                <tr>
                                    <td style="padding: 8px;background: #f5f7f7;">Assets</td>
                                    <td style="padding: 8px;background: #f5f7f7;">Advice</td>
                                    <td style="padding: 8px;background: #f5f7f7;">Current Value</td>
                                    <td style="padding: 8px;background: #f5f7f7;">Maturity Value</td>
                                    <td style="padding: 8px;background: #f5f7f7;">Allocated %</td>
                                </tr>

                                <tr *ngFor="let allocation of singleGoalData?.goalAssetAllocation">
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        {{allocation.assetName}}</td>
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        {{allocation.advice || '-'}}</td>
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        <p class="mb-0 roboto" appFormatNumber [value]='allocation.currentValue'></p>
                                    </td>
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        <p class="m-0 roboto" appFormatNumber
                                            [value]="(allocation.maturityValue == 0)?'-':allocation.maturityValue">
                                        </p>
                                    </td>
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        <p class="mb-0 roboto pr-48" appFormatNumber
                                            [value]='(allocation.assetType == 5 && allocation.lumpsumOrSip == 1)? allocation.lumpsumPercent:(allocation.assetType == 5 && allocation.lumpsumOrSip == 2)?allocation.sipPercent:allocation.percentAllocated'>
                                            %
                                        </p>
                                    </td>
                                </tr>
                                <td colspan="4" style="padding: 8px;   text-align: center; font-size: 14px;"
                                    *ngIf="singleGoalData?.goalAssetAllocation?.length == 0"> No assets allocated to
                                    this goal </td>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>




        <tr>
            <td>
                <table cellpadding="0" cellspacing="0" style="margin-top:40px; width: 100%; page-break-before: always;">
                    <tr>
                        <td>
                            <p style=" font-size: 15px; font-weight: 600;" *ngIf="singleGoalData?.retirementTableValue">
                                Goal year wise details</p>

                            <table cellpadding="0" cellspacing="0"
                                style="width: 100%; font-size: 14px; border: 1px solid #dee5e7;">
                                <tr *ngIf="singleGoalData?.retirementTableValue">
                                    <td style="padding: 8px;background: #f5f7f7; border-right: 1px solid #dee5e7;">Goal
                                        Goal year</td>
                                    <td
                                        style="padding: 8px;background: #f5f7f7; border-right: 1px solid #dee5e7; text-align: right;">
                                        Goal FV</td>
                                    <td
                                        style="padding: 8px;background: #f5f7f7; border-right: 1px solid #dee5e7; text-align: right;">
                                        Goal present value</td>
                                    <!-- <td style="padding: 8px;background: #f5f7f7;">Status</td> -->
                                </tr>

                                <tr *ngFor="let element of singleGoalData?.retirementTableValue">
                                    <td style="padding: 8px; text-align: left; border-right: 1px solid #dee5e7;">
                                        {{element.goalYear}} </td>
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        <p class="mb-0 roboto" appFormatNumber
                                            [value]='element.fvOnGoalDate ? element.fvOnGoalDate : 0'></p>
                                    </td>
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        <p class="mb-0 roboto" appFormatNumber
                                            [value]='(element.goalPresentValue ? element.goalPresentValue : 0)'></p>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>


    </table>
</body>

</html>