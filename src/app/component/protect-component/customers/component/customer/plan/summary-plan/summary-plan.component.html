<div id="ui-plan-summary" [ngClass]="{'hide': finPlanObj?.hideForFinPlan}">
    <div class="row">

        <div class="col-md-2 p-0 bg-white pb-44 skeletonAnimation" [appSkeletonLoading]="isLoadingCashFlow"
            appSkeletonLoading>
            <div class="wrapper-16 bb-2 c-p">
                <p class="m-0 text-black roboto f-400">ANNUAL SURPLUS <span
                        class="text-primitive f-12">{{yearToShow}}</span>
                </p>
                <div *ngIf="isLoadingCashFlow==false">
                    <h1 *ngIf="!isLoadingCashFlow" class="f-35 m-0 text-black pt-8">
                        ₹<span appFormatNumber [value]="annualSurplus ? annualSurplus : 0"></span>
                    </h1>
                </div>
                <div class="relClass" *ngIf="isLoadingCashFlow">
                    <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                        <h1 class="f-35 m-0 roboto text-black pt-8 ">
                            <span>{{''}}</span>
                        </h1>
                    </div>
                </div>

                <div class="row pt-20">
                    <div class="col-md-6 p-0">
                        <p class="text-black f-12 m-0 roboto f-400">INCOME</p>
                    </div>
                    <div class="col-md-6 p-0" *ngIf="!isLoadingCashFlow">
                        <p class="text-black f-12 m-0 text-right roboto f-400">
                            {{cashFlowData?.income ? "₹" : ""}}<span appFormatNumber [shouldRoundOff]="true"
                                [value]="cashFlowData ? cashFlowData.income : '-'"></span></p>
                    </div>
                    <div class="col-md-6 p-0 relClass" *ngIf="isLoadingCashFlow">
                        <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                            <p class="text-black f-12 m-0 text-right roboto f-400">
                                {{''}}</p>
                        </div>
                    </div>
                    <div class="col-md-12 p-0" *ngIf="!isLoadingCashFlow">
                        <mat-progress-bar class="light-blue" mode="determinate" [matTooltip]="incomePercent+'%'"
                            [value]="incomePercent"></mat-progress-bar>
                    </div>
                </div>
                <div class="row pt-20">
                    <div class="col-md-6 p-0">
                        <p class="text-black f-12 m-0 roboto f-400">EXPENSES</p>
                    </div>
                    <div class="col-md-6 p-0" *ngIf="!isLoadingCashFlow">
                        <!-- <p class="text-black f-12 m-0 text-right roboto f-400">₹19,77,000</p> -->
                        <p class="text-black f-12 m-0 text-right roboto f-400">{{cashFlowData?.expense ? "₹" : ""}}<span
                                appFormatNumber [shouldRoundOff]="true"
                                [value]="cashFlowData?.expense ? cashFlowData?.expense : '-'"></span></p>
                    </div>
                    <div class="col-md-6 p-0 relClass" *ngIf="isLoadingCashFlow">
                        <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                            <p class="text-black f-12 m-0 text-right roboto f-400">
                                {{''}}</p>
                        </div>
                    </div>
                    <div class="col-md-12 p-0" *ngIf="!isLoadingCashFlow">
                        <mat-progress-bar class="light-red" mode="determinate" [matTooltip]="expensePercent+'%'"
                            [value]="expensePercent"></mat-progress-bar>
                    </div>
                </div>
            </div>

            <div class="row pt-20">
                <div class="col-md-10 pr-0">
                    <p class="mb-0 f-16 roboto f-400"> Budget status <span class="text-primitive f-12">{{yearToShow}}
                        </span>
                    </p>
                </div>
                <!-- <div class="col-md-2 pl-0  ">
                    <i class="material-icons c-p">
                        more_horiz
                    </i>
                </div> -->
            </div>

            <div *ngIf="budgetData?.length > 0 && !isLoadingBudget">
                <div class="row bb c-p pt-10" *ngFor="let item of budgetData">
                    <div class="col-md-9 pr-0">
                        <p class="mb-0 f-14 text-black roboto f-400"> {{item.expenseType}} </p>
                        <p class="mb-10 f-14 roboto text-custom f-400"> ₹<span appFormatNumber>{{item.amount}}</span> /
                            <span appFormatNumber>{{item.spent}}</span>
                        </p>
                    </div>
                    <div class="col-md-3 pl-0 d-flex justify-content-end align-items-end ">
                        <p class="mb-10 f-14 text-success roboto f-400" *ngIf="item.progressPercent <= 100">
                            {{item.progressPercent ? item.progressPercent : 0}}%
                        </p>
                        <p class="mb-10 f-14 text-danger roboto f-400" *ngIf="item.progressPercent > 100">
                            {{item.progressPercent ? item.progressPercent : 0}}%
                        </p>
                    </div>
                </div>
            </div>
            <div *ngIf="budgetData?.length > 0 && isLoadingBudget" class="relClass">
                <div class="row bb c-p pt-10" *ngFor="let item of budgetData">
                    <div [ngClass]="{'height23': isLoadingBudget}" class="bar">
                        <div class="col-md-9 pr-0">
                            <p class="mb-0 f-14 text-black roboto f-400"> {{item.expenseType}} </p>
                            <p class="mb-10 f-14 roboto text-custom f-400"> <span appFormatNumber>{{item.amount}}</span>
                                <span appFormatNumber>{{item.spent}}</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="budgetData?.length == 0">
                <h4 class="d-flex justify-content-center b-a p-44">
                    No Data Found
                </h4>
            </div>
            <!-- <div class="row bb c-p pt-10">
                <div class="col-md-9 pr-0">
                    <p class="mb-0 f-14 text-black  roboto f-400"> Transportation </p>
                    <p class="mb-10 f-14 roboto text-custom f-400"> ₹8,000 / 7,200 </p>
                </div>
                <div class="col-md-3 pl-0 d-flex justify-content-end align-items-end ">
                    <p class="mb-10 f-14 text-success roboto f-400"> 80% </p>
                </div>
            </div> -->


            <!-- <div class="row bb c-p pt-10">
                <div class="col-md-9 pr-0">
                    <p class="mb-0 f-14 text-black  roboto f-400"> School fees </p>
                    <p class="mb-10 f-14 roboto text-custom f-400">₹5,600 / 5,600 </p>
                </div>
                <div class="col-md-3 pl-0 d-flex justify-content-end align-items-end ">
                    <p class="mb-10 f-14 text-success roboto f-400"> 100% </p>
                </div>
            </div>

            <div class="row bb c-p pt-10">
                <div class="col-md-9 pr-0">
                    <p class="mb-0 f-14 text-black  roboto f-400"> Dining out </p>
                    <p class="mb-10 f-14 roboto text-custom f-400"> ₹3,000 / 3,700</p>
                </div>
                <div class="col-md-3 pl-0 d-flex justify-content-end align-items-end ">
                    <p class="mb-10 f-14 text-danger roboto f-400"> 122% </p>
                </div>
            </div>


            <div class="row bb c-p pt-10">
                <div class="col-md-9 pr-0">
                    <p class="mb-0 f-14 text-black  roboto f-400"> Leisure & entertainment</p>
                    <p class="mb-10 f-14 roboto text-custom f-400"> ₹2,000 / 0 </p>
                </div>
                <div class="col-md-3 pl-0 d-flex justify-content-end align-items-end ">
                    <p class="mb-10 f-14 text-primary roboto f-400"> 0% </p>
                </div>
            </div>

            <div class="row bb c-p pt-10">
                <div class="col-md-9 pr-0">
                    <p class="mb-0 f-14 text-black  roboto f-400"> Mutual fund SIP </p>
                    <p class="mb-10 f-14 roboto f-400 text-primitive"> ₹1000 / 1200 </p>
                </div>
                <div class="col-md-3 pl-0 d-flex justify-content-end align-items-end ">
                    <p class="mb-10 f-14 text-primary roboto f-400 f-400"> 80% </p>
                </div>
            </div> -->

        </div>


        <div class="col-md-8 p-0 b-l">
            <div class="row b-b">
                <div class="col-md-8 p-0">
                    <h3 class="m-0 roboto wrapper-20 f-500 text-black">Plan summary</h3>
                </div>
                <div class="col-md-4 pl-0 d-flex align-items-center justify-content-end">
                    <img (click)="generatePdf(null)" class=" c-p pr-16 h-24" matTooltip="Download PDF"
                        src="assets/images/svg/download-pdf-blue.svg">
                </div>
            </div>

            <div class="bg-grey lter h-full">
                <div class="row">
                    <div class="col-md-8 mt-16 pr-8">
                        <div class="bg-white p-20">
                            <h5 class="f-400 mb-20 roboto">Goal summary</h5>
                            <div class="row skeletonAnimation" [appSkeletonLoading]="isLoadingGoals" appSkeletonLoading>
                                <div class="col-md-4 pl-0">
                                    <div class="row">
                                        <div class="col-md-12 p-0 mb-16">
                                            <div class="totalGoalsBox">
                                                <p class="f-14 mb-5 f-400 roboto">Total goals</p>
                                                <h1 class="text-primary f-400 roboto" *ngIf="!isLoadingGoals">
                                                    {{ goalSummaryCountObj?.totalGoals ? goalSummaryCountObj?.totalGoals
                                                    : 0 }}
                                                </h1>
                                                <div class="col-md-6 p-0 relClass" *ngIf="isLoadingGoals">
                                                    <div [ngClass]="{'height24': isLoadingGoals}" class="bar">
                                                        <p class="text-black f-12 m-0 text-right roboto f-400">
                                                            {{''}}</p>
                                                    </div>
                                                </div>
                                            </div>


                                        </div>

                                        <div class="col-md-12 p-0">
                                            <div class="totalGoalsBox">
                                                <p class="f-14 mb-5 f-400 roboto">Upcoming</p>
                                                <h1 class="text-primary f-400 roboto" *ngIf="!isLoadingGoals">
                                                    {{ goalSummaryCountObj?.upcomingGoalsCount ?
                                                    goalSummaryCountObj?.upcomingGoalsCount : 0 }}
                                                </h1>
                                                <div class="col-md-6 p-0 relClass" *ngIf="isLoadingGoals">
                                                    <div [ngClass]="{'height24': isLoadingGoals}" class="bar">
                                                        <p class="text-black f-12 m-0 text-right roboto f-400">
                                                            {{''}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 pl-0 pr-8">
                                    <div class="investmentBox text-center">
                                        <p class="f-14 mb-10 l-18 roboto f-400">Investments <br> mapped to goals</p>

                                        <span class="linebr"></span>

                                        <div appSkeletonLoading [appSkeletonLoading]="isLoadingGoals">
                                            <p class="f-14 mb-0 roboto f-400">Monthly</p>
                                            <h4 *ngIf="!isLoadingGoals" class="text-primary roboto f-400">
                                                <span appFormatNumber [shouldRoundOff]="true"
                                                    [value]="goalSummaryCountObj?.monthlyInvestmentMappedToGoals ? goalSummaryCountObj?.monthlyInvestmentMappedToGoals : 0"></span>
                                            </h4>

                                            <div class="relClass" *ngIf="isLoadingGoals">
                                                <div [ngClass]="{'height24': isLoadingGoals}" class="bar">
                                                    <p class="text-primary roboto f-400 mb-0">
                                                        {{''}}</p>
                                                </div>
                                            </div>

                                            <p class="f-14 mb-0 roboto f-400">Lumpsum</p>
                                            <h4 class="text-primary roboto f-400" *ngIf="!isLoadingGoals"><span
                                                    appFormatNumber [shouldRoundOff]="true"
                                                    [value]="goalSummaryCountObj?.lumpsumInvestmentMappedToGoals ? goalSummaryCountObj?.lumpsumInvestmentMappedToGoals : 0"></span>
                                            </h4>
                                            <div class="relClass" *ngIf="isLoadingGoals">
                                                <div [ngClass]="{'height24': isLoadingGoals}" class="bar">
                                                    <p class="text-primary roboto f-400 mb-0">
                                                        {{''}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="col-md-4 pl-0 pr-8">
                                    <div class="investmentBox text-center">
                                        <p class="f-14 mb-10 l-18 roboto f-400">Additional <br> suggestions</p>

                                        <span class="linebr"></span>

                                        <div appSkeletonLoading [appSkeletonLoading]="isLoadingGoals">
                                            <p class="f-14 mb-0 roboto f-400">Monthly</p>
                                            <h4 *ngIf="!isLoadingGoals" class="text-primary roboto f-400">
                                                <span appFormatNumber [shouldRoundOff]="true"
                                                    [value]="goalSummaryCountObj?.monthlyInvestmentMappedToGoals ? goalSummaryCountObj?.monthlyInvestmentMappedToGoals : 0"></span>
                                            </h4>

                                            <div class="relClass" *ngIf="isLoadingGoals">
                                                <div [ngClass]="{'height24': isLoadingGoals}" class="bar">
                                                    <p class="text-primary roboto f-400 mb-0">
                                                        {{''}}</p>
                                                </div>
                                            </div>

                                            <p class="f-14 mb-0 roboto f-400">Lumpsum</p>
                                            <h4 class="text-primary roboto f-400" *ngIf="!isLoadingGoals"><span
                                                    appFormatNumber [shouldRoundOff]="true"
                                                    [value]="goalSummaryCountObj?.lumpsumInvestmentMappedToGoals ? goalSummaryCountObj?.lumpsumInvestmentMappedToGoals : 0"></span>
                                            </h4>
                                            <div class="relClass" *ngIf="isLoadingGoals">
                                                <div [ngClass]="{'height24': isLoadingGoals}" class="bar">
                                                    <p class="text-primary roboto f-400 mb-0">
                                                        {{''}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->

                            </div>

                            <div class="pt-20" *ngIf="dataSource?.data?.length>0">

                                <div class="row">
                                    <div class="col-md-6 d-flex p-0 align-items-center">
                                        <p class="f-14 left m-0 roboto f-400">Quick view</p>
                                    </div>

                                    <div class="col-md-6 p-0">
                                        <mat-paginator [hidePageSize]="true" [pageSize]="1"></mat-paginator>
                                    </div>

                                </div>

                                <div class="row">
                                    <div class="col-md-12 planTable p-0">

                                        <table mat-table [dataSource]="dataSource" id="table-low"
                                            class="skeletonAnimation" [appSkeletonLoading]="isLoadingGoals">

                                            <!--- Note that these columns can be defined in any order.
                                                      The actual rendered columns are set as a property on the row definition" -->

                                            <!-- Position Column -->
                                            <ng-container matColumnDef="details">
                                                <th mat-header-cell *matHeaderCellDef> Goal details </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <div
                                                        class="d-flex align-items-center justify-content-around bg-primary-progress bar">
                                                        <div>
                                                            <img [src]="element.imageUrl" *ngIf="element.imageUrl"
                                                                class="h-50 w-auto">
                                                        </div>
                                                        <div class="">
                                                            <p class="f-14 m-0"> {{ element.details }} </p>
                                                            <mat-progress-bar mode="determinate"
                                                                [value]="element.percentCompleted">
                                                            </mat-progress-bar>
                                                        </div>
                                                    </div>
                                                </td>
                                            </ng-container>

                                            <!-- Name Column -->
                                            <ng-container matColumnDef="value">
                                                <th mat-header-cell *matHeaderCellDef> Goal value </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <div class="bar" appFormatNumber [shouldRoundOff]="false"
                                                        [value]="element.value">
                                                        {{element.value}}
                                                    </div>
                                                </td>
                                            </ng-container>

                                            <!-- Weight Column -->
                                            <ng-container matColumnDef="month">
                                                <th mat-header-cell *matHeaderCellDef> Monthly </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <div class="bar" appFormatNumber [shouldRoundOff]="false"
                                                        [value]="element.month">
                                                        {{element.month}}
                                                    </div>
                                                </td>
                                            </ng-container>

                                            <!-- Symbol Column -->
                                            <ng-container matColumnDef="lumpsum">
                                                <th mat-header-cell *matHeaderCellDef> Lumpsum </th>
                                                <td mat-cell *matCellDef="let element">
                                                    <div class="bar" appFormatNumber [shouldRoundOff]="false"
                                                        [value]="element.lumpsum">
                                                        {{element.lumpsum}}
                                                    </div>
                                                </td>
                                            </ng-container>

                                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                                        </table>

                                        <div *ngIf="dataSource?.data?.length == 0">
                                            <h4 class="d-flex justify-content-center b-a p-44">
                                                No Data Found
                                            </h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mt-16  pt-20 skeletonAnimation pl-0"
                            [appSkeletonLoading]="isLoadingCashFlow" appSkeletonLoading>
                            <div class="bg-white b-a pl-28 pr-28">
                                <div class="row pt-20 ">
                                    <div class="col-md-8 p-0">
                                        <p class="f-16 mb-0 roboto f-400 "> Cash flows </p>
                                    </div>
                                    <div class="col-md-4  text-right p-0">
                                        <p class="f-12 text-custom mb-0 ">({{ yearToShow }})</p>
                                    </div>



                                </div>
                                <div class="row">
                                    <div class="col-md-8 p-0">
                                        <p class="m-0 pb-8 pt-12 roboto f-500">Inflows</p>
                                    </div>
                                </div>
                                <div class="row bb-1">
                                    <div class="col-md-8 p-0">
                                        <p class="m-0 pb-8 pt-10 roboto f-400">Incomes</p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right" *ngIf="!isLoadingCashFlow">
                                        <p class="m-0 pb-8 pt-10 roboto f-400"> {{cashFlowData?.income ? "₹" : ""}}<span
                                                appFormatNumber [shouldRoundOff]="true"
                                                [value]="cashFlowData ? cashFlowData.income : '-'"></span></p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right relClass" *ngIf="isLoadingCashFlow">
                                        <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                                            <p class="text-black f-12 m-0 text-right roboto f-400">
                                                {{''}}</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="row bb-1">
                                    <div class="col-md-8 p-0">
                                        <p class="m-0 pb-8 pt-10 roboto f-400">Assets</p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right" *ngIf="!isLoadingCashFlow">
                                        <p class="m-0 pb-8 pt-10 roboto f-400">{{cashFlowData?.asset ? "₹" : ""}}<span
                                                appFormatNumber [shouldRoundOff]="true"
                                                [value]="cashFlowData?.asset ? cashFlowData?.asset : '-'"></span></p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right relClass" *ngIf="isLoadingCashFlow">
                                        <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                                            <p class="text-black f-12 m-0 text-right roboto f-400">
                                                {{''}}</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="row ">
                                    <div class="col-md-8 p-0">
                                        <p class="m-0 pb-8 pt-10 roboto f-400">Insurance</p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right" *ngIf="!isLoadingCashFlow">
                                        <p class="m-0 pb-8 pt-10 roboto f-400">{{cashFlowData?.insurance ? "₹" :
                                            ""}}<span appFormatNumber [shouldRoundOff]="true"
                                                [value]="cashFlowData?.insurance ? cashFlowData?.insurance : '-'"></span>
                                        </p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right relClass" *ngIf="isLoadingCashFlow">
                                        <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                                            <p class="text-black f-12 m-0 text-right roboto f-400">
                                                {{''}}</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-8 p-0">
                                        <p class="m-0 pb-8 pt-12 roboto f-500">Outflows</p>
                                    </div>
                                </div>
                                <div class="row bb-1">
                                    <div class="col-md-8 p-0">
                                        <p class="m-0 pb-8 pt-10 roboto f-400">Expenses</p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right" *ngIf="!isLoadingCashFlow">
                                        <p class="m-0 pb-8 pt-10 roboto f-400">{{cashFlowData?.expense ? "₹" : ""}}<span
                                                appFormatNumber [shouldRoundOff]="true"
                                                [value]="cashFlowData?.expense ? cashFlowData?.expense : '-'"></span>
                                        </p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right relClass" *ngIf="isLoadingCashFlow">
                                        <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                                            <p class="text-black f-12 m-0 text-right roboto f-400">
                                                {{''}}</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="row bb-1">
                                    <div class="col-md-8 p-0">
                                        <p class="m-0 pb-8 pt-10 roboto f-400">Assets</p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right" *ngIf="!isLoadingCashFlow">
                                        <p class="m-0 pb-8 pt-10 roboto f-400">{{cashFlowData?.asset ? "₹" : ""}}<span
                                                appFormatNumber [shouldRoundOff]="true"
                                                [value]="cashFlowData?.asset ? cashFlowData?.asset : '-'"></span></p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right relClass" *ngIf="isLoadingCashFlow">
                                        <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                                            <p class="text-black f-12 m-0 text-right roboto f-400">
                                                {{''}}</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="row bb-1">
                                    <div class="col-md-8 p-0">
                                        <p class="m-0 pb-8 pt-10 roboto f-400">Insurance</p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right" *ngIf="!isLoadingCashFlow">
                                        <p class="m-0 pb-8 pt-10 roboto f-400">{{cashFlowData?.insurance ? "₹" :
                                            ""}}<span appFormatNumber [shouldRoundOff]="true"
                                                [value]="cashFlowData?.insurance ? cashFlowData?.insurance : '-'"></span>
                                        </p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right relClass" *ngIf="isLoadingCashFlow">
                                        <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                                            <p class="text-black f-12 m-0 text-right roboto f-400">
                                                {{''}}</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="row ">
                                    <div class="col-md-8 p-0">
                                        <p class="m-0 pb-8 pt-10 roboto f-400">Liabilities</p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right" *ngIf="!isLoadingCashFlow">
                                        <p class="m-0 pb-8 pt-10 roboto f-400">{{cashFlowData?.loan ? "₹" : ""}}<span
                                                appFormatNumber [shouldRoundOff]="true"
                                                [value]="cashFlowData?.loan ? cashFlowData?.loan : '-'"></span></p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right relClass" *ngIf="isLoadingCashFlow">
                                        <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                                            <p class="text-black f-12 m-0 text-right roboto f-400">
                                                {{''}}</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="row pb-20">
                                    <div class="col-md-8 p-0">
                                        <p class="m-0 pb-8 pt-20 roboto f-500">Surplus/Deficit</p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right" *ngIf="!isLoadingCashFlow">
                                        <p class="m-0 pb-8 pt-20 roboto f-500">{{cashFlowData?.surplus ? "₹" : ""}}<span
                                                appFormatNumber [shouldRoundOff]="true"
                                                [value]="cashFlowData?.surplus ? cashFlowData?.surplus : '-'"></span>
                                        </p>
                                    </div>
                                    <div class="col-md-4 p-0 text-right relClass" *ngIf="isLoadingCashFlow">
                                        <div [ngClass]="{'height23': isLoadingCashFlow}" class="bar">
                                            <p class="text-black f-12 m-0 text-right roboto f-400">
                                                {{''}}</p>
                                        </div>
                                    </div>
                                </div>





                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mt-16 pl-8 skeletonAnimation" [appSkeletonLoading]="isLoadingSummary"
                        appSkeletonLoading>
                        <div class="bg-white p-20">
                            <h5 class="f-500 mb-10"> Insurance summary</h5>
                            <div *ngIf="insurancePlanList?.length > 0 && !isLoadingSummary">
                                <div class="row b-b pt-14" *ngFor="let item of insurancePlanList">
                                    <div class="col-md-2 p-0">
                                        <img class="img-max-width" [src]="item.img">
                                    </div>
                                    <div class="col-md-10 pr-0 ">
                                        <p class="f-14 m-0 roboto f-400">{{ item.insuranceName }}</p>
                                        <p class="f-14 mb-16 f-600">₹ <span appFormatNumber [shouldRoundOff]="true"
                                                [value]="item.amount?item.amount:0"></span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div *ngIf="insurancePlanList?.length > 0 && isLoadingSummary" class="">
                                <div class="row bb c-p pt-10" *ngFor="let item of insurancePlanList">
                                    <div class="col-md-2 p-0 relClass">
                                        <div [ngClass]="{'height23': isLoadingSummary}" class="bar">
                                            {{''}}
                                        </div>
                                    </div>
                                    <div class="col-md-10 pr-0">
                                        <div class="relClass mb-10">
                                            <div [ngClass]="{'height23': isLoadingSummary}" class="bar">
                                            </div>
                                        </div>

                                        <div class="relClass mb-10">
                                            <div [ngClass]="{'height23': isLoadingSummary}" class="bar">
                                            </div>
                                        </div>

                                    </div>

                                </div>
                            </div>
                            <div *ngIf="insurancePlanList?.length == 0 && !isLoadingSummary">
                                <h4 class="d-flex justify-content-center b-a p-44">
                                    No Data Found
                                </h4>
                            </div>


                        </div>

                    </div>
                </div>



            </div>


        </div>

        <div class="col-md-2 p-0">
            <div class="b-a">
                <div class="row b-b">
                    <div class="col-md-3 p-0">
                        <img class="t-85 pt-16 pb-20 pl-8 rounded-circle" [src]="userInfo.profilePicUrl">
                    </div>
                    <div class="col-md-9 p-0 text-left">
                        <p class="text-black m-0 f-500 pt-20">{{getOrgData.companyName}}</p>
                        <p class="text-custom m-0">Contact:{{getOrgData.mobileNumber}}</p>
                    </div>
                </div>
                <div class="b-b pl-12">
                    <h5 class="roboto mt-16 mb-10 f-500">Financial plan <span class="text-left">Summary <img
                                src="assets/images/svg/info.svg" class="c-p hw-17"
                                matTooltip="To generate plans's pdf visit financial plan section under profile tab."
                                [matTooltipPosition]="'right'">
                        </span></h5>
                    <div class="mb-20">
                        <div class="d-flex" *ngIf="finPlanList">
                            <img class="c-p" *ngIf="finPlanList" src="assets/images/svg/financial-plan.svg"
                                (click)="downloadPrevoius(finPlanList)">

                            <mat-spinner [diameter]="30" *ngIf="fragmentData.isSpinner" class="ml-28"></mat-spinner>
                            <div class="detailsPDF">
                                <p class="f-12 l-18 f-500 roboto mb-10">
                                    <span *ngIf="finPlanList">{{finPlanList.reportName+'.pdf'}}</span>
                                </p>
                                <p class="f-12 l-18 mb-0">{{fragmentData.size}}</p>
                                <p class="f-12 l-18 m-0">{{fragmentData.date | date:'dd-MMM-yyyy'}}
                                    <br>{{fragmentData.date | date:'dd/MM/yyyy HH:mm:ss'}}
                                </p>
                            </div>
                        </div>
                        <div class="text-center" *ngIf="!finPlanList">
                            <img *ngIf="!finPlanList" src="assets/images/svg/documents-empty-states.svg"
                                class="c-p "><br>
                            <p *ngIf="!finPlanList" class="f-14 l-18 pt-8 m-0">Financial plan not saved </p>
                        </div>
                    </div>



                </div>



            </div>
        </div>

    </div>
</div>
<!-------------------------------pdf-------------------------------->


<!-- <html #summaryPlan id="planSummary" style="display: none">


<body>
    <table cellpadding="0" cellspacing="0" border="0"
        style="width: 700px; font-family: 'Roboto', sans-serif; margin: 0px auto;"
        align="center; page-break-before: always;">

        <tr>
            <td>
                <table style="width: 100%; border: 0px; padding-bottom: 10px; border-bottom: 1px solid #dee5e7;">
                    <tr>
                        <td>
                            <h3 style="margin: 0px; font-size: 16px;">
                                {{clientData?.displayName}}'s Financial Plan
                            </h3>
                        </td>
                        <td style="text-align: right;">
                            <p style="margin: 0px 0px 5px 0px; font-size: 14px;">
                                Prepared by
                            </p>
                            <h3 style="margin: 0px; font-size: 16px;">
                                {{getOrgData?.companyName ? getOrgData?.companyName : '-'}}
                            </h3>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>

        <tr>
            <td>
                <table
                    style="width: 100%; border: 0px; padding-top: 30px; padding-bottom: 10px; border-bottom: 1px solid #dee5e7;">

                    <tr>
                        <td>
                            <h3 style="margin: 0px; font-size: 16px;">
                                {{singleGoalData && singleGoalData.details ? singleGoalData.details : '-'}}
                            </h3>
                        </td>

                        <td style="text-align: right;">
                            <h3 style="margin: 0px; font-weight: 400; font-size: 16px;">
                                {{singleGoalData ? singleGoalData.year : '-'}}
                            </h3>
                        </td>
                    </tr>

                </table>
            </td>
        </tr>


        <tr>
            <td>
                <table style="border: 0px; margin-top: 20px; width: 100%;">
                    <tr>
                        <td style="width: 265px;">
                            <img style="width: 265px; height: 265px;"
                                [src]="singleGoalData ? singleGoalData.imageUrl:''">
                        </td>

                        <td style="vertical-align: top; padding-left: 15px;">
                            <table
                                style="border: 0px; width: 100%; border-bottom: 1px solid #dee5e7; padding-bottom: 5px;">
                                <tr>
                                    <td>
                                        <p style="color: #83959D; margin: 0px 0px 5px 0px; font-size: 14px;">
                                            Goal Amount </p>
                                        <h5 style="font-size: 16px; margin: 0px;">
                                            Rs.<span appFormatNumber
                                                [value]="singleGoalData ? singleGoalData.goalFV : '0'"></span>
                                        </h5>
                                    </td>


                                    <td>
                                        <p style="color: #83959D; margin: 0px 0px 5px 0px; font-size: 14px;">
                                            Achieved </p>
                                        <h5 style="font-size: 16px; margin: 0px;">
                                            Rs.<span appFormatNumber
                                                [value]="singleGoalData?singleGoalData.achievedValue:'0'"></span>
                                        </h5>
                                    </td>
                                </tr>
                            </table>

                            <table style="margin: 20px 0px 20px 0px; width: 100%; ">
                                <tr>
                                    <td>
                                        <div style="line-height: 30px; font-size: 12px; background:#007bff; height: 30px;"
                                            [ngStyle]="{'width':singleGoalData && singleGoalData?.percentCompleted > 100 ? 100 : singleGoalData.percentCompleted +'%' }">
                                            {{singleGoalData && singleGoalData?.percentCompleted ?
                                            singleGoalData?.percentCompleted : '-'}}%
                                        </div>

                                    </td>
                                </tr>
                            </table>

                            <p style="margin: 0px; font-size: 14px; font-weight: 600;">Additional Required</p>

                            <table cellpadding="0" cellspacing="0"
                                style="margin: 10px 0px 0px 0px; font-size: 14px; width: 100%; border: 1px solid #dee5e7;">
                                <tr>
                                    <td style="border-bottom: 1px solid #dee5e7;">

                                    </td>

                                    <td style="border-bottom: 1px solid #dee5e7; padding: 10px; text-align: right;">
                                        Monthly
                                    </td>

                                    <td style="border-bottom: 1px solid #dee5e7;padding: 10px; text-align: right;">
                                        Lumpsum
                                    </td>
                                </tr>

                                <tr>
                                    <td style="padding: 10px; border-bottom: 1px solid #dee5e7;"> Equity</td>
                                    <td style="padding: 10px; border-bottom: 1px solid #dee5e7; text-align: right;">
                                        <span appFormatNumber
                                            [value]="singleGoalData && singleGoalData.equity_monthly ? singleGoalData.equity_monthly : '0'"></span>
                                    </td>
                                    <td style="padding: 10px; border-bottom: 1px solid #dee5e7; text-align: right;">
                                        <span appFormatNumber
                                            [value]="singleGoalData && singleGoalData.lump_equity ? singleGoalData.lump_equity : '0'"></span>
                                    </td>
                                </tr>

                                <tr>
                                    <td style="padding: 10px;"> Debt</td>
                                    <td style="padding: 10px; text-align: right;">
                                        <span appFormatNumber
                                            [value]="singleGoalData && singleGoalData.debt_monthly ? singleGoalData?.debt_monthly : '0'"></span>
                                    </td>
                                    <td style="padding: 10px; text-align: right;">
                                        <span appFormatNumber
                                            [value]="singleGoalData && singleGoalData.lump_debt ? singleGoalData?.lump_debt : '0'"></span>
                                    </td>
                                </tr>

                            </table>

                        </td>
                    </tr>
                </table>


            </td>
        </tr>


        <tr>
            <td>
                <table cellpadding="0" cellspacing="0" style="margin-top: 25px; width: 100%;">
                    <tr>
                        <td>
                            <p style=" font-size: 15px; font-weight: 600;">Assets allocated to this goal</p>

                            <table cellpadding="0" cellspacing="0"
                                style="width: 100%; font-size: 14px; border: 1px solid #dee5e7;">
                                <tr>
                                    <td style="padding: 8px;background: #f5f7f7;">Assets</td>
                                    <td style="padding: 8px;background: #f5f7f7;">Advice</td>
                                    <td style="padding: 8px;background: #f5f7f7;">Current Value</td>
                                    <td style="padding: 8px;background: #f5f7f7;">Maturity Value</td>
                                    <td style="padding: 8px;background: #f5f7f7;">Allocated %</td>
                                </tr>

                                <tr *ngFor="let allocation of singleGoalData.goalAssetAllocation">
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        {{allocation.assetName}}</td>
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        {{allocation.advice || '-'}}</td>
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        <p class="mb-0 roboto" appFormatNumber [value]='allocation.currentValue'></p>
                                    </td>
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        <p class="m-0 roboto" appFormatNumber
                                            [value]="(allocation.maturityValue == 0)?'-':allocation.maturityValue">
                                        </p>
                                    </td>
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        <p class="mb-0 roboto pr-48" appFormatNumber
                                            [value]='(allocation.assetType == 5 && allocation.lumpsumOrSip == 1)? allocation.lumpsumPercent:(allocation.assetType == 5 && allocation.lumpsumOrSip == 2)?allocation.sipPercent:allocation.percentAllocated'>
                                            %
                                        </p>
                                    </td>
                                </tr>
                                <td colspan="4" style="padding: 8px;   text-align: center; font-size: 14px;"
                                    *ngIf="singleGoalData && singleGoalData.goalAssetAllocation.length == 0"> No assets
                                    allocated to
                                    this goal </td>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>




        <tr>
            <td>
                <table cellpadding="0" cellspacing="0" style="margin-top:40px; width: 100%; page-break-before: always;">
                    <tr>
                        <td>
                            <p style=" font-size: 15px; font-weight: 600;"
                                *ngIf="singleGoalData && singleGoalData.retirementTableValue">
                                Goal year wise details</p>

                            <table cellpadding="0" cellspacing="0"
                                style="width: 100%; font-size: 14px; border: 1px solid #dee5e7;">
                                <tr *ngIf="singleGoalData && singleGoalData.retirementTableValue">
                                    <td style="padding: 8px;background: #f5f7f7; border-right: 1px solid #dee5e7;">Goal
                                        Goal year</td>
                                    <td
                                        style="padding: 8px;background: #f5f7f7; border-right: 1px solid #dee5e7; text-align: right;">
                                        Goal FV</td>
                                    <td
                                        style="padding: 8px;background: #f5f7f7; border-right: 1px solid #dee5e7; text-align: right;">
                                        Goal present value</td>

                                </tr>

                                <tr *ngFor="let element of singleGoalData.retirementTableValue">
                                    <td style="padding: 8px; text-align: left; border-right: 1px solid #dee5e7;">
                                        {{element.goalYear}} </td>
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        <p class="mb-0 roboto" appFormatNumber
                                            [value]='element.fvOnGoalDate ? element.fvOnGoalDate : 0'></p>
                                    </td>
                                    <td style="padding: 8px; text-align: right; border-right: 1px solid #dee5e7;">
                                        <p class="mb-0 roboto" appFormatNumber
                                            [value]='(element.goalPresentValue ? element.goalPresentValue : 0)'></p>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>


    </table>
</body>

</html> -->

<div style="display: none;" #summaryPlan id="planSummary">
    <html>

    <body>
        <table cellpadding="0" cellspacing="0" border="0"
            style="width: 100%; font-family: 'Roboto', sans-serif; margin: 0px auto;"
            align="center; page-break-before: always;">

            <tr>
                <td colspan="3">
                    <table style="width: 100%;">
                        <tr>
                            <td style="text-align: left; vertical-align: top; width: 20%;">
                                <div
                                    *ngIf="getOrgData && getOrgData.reportLogoUrl != null && getOrgData.reportLogoUrl !='https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png' ">
                                    <img width="140px" *ngIf="getOrgData" [src]="getOrgData.reportLogoUrl">
                                </div>
                                <div
                                    *ngIf="getOrgData && getOrgData.logoUrl != 'https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png' && getOrgData.reportLogoUrl == 'https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png'">
                                    <img width="200px" *ngIf="getOrgData" [src]="getOrgData.logoUrl">
                                </div>
                                <div
                                    *ngIf="getOrgData.logoUrl == 'https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png' && getOrgData.reportLogoUrl == 'https://res.cloudinary.com/futurewise/image/upload/v1566029063/icons_fakfxf.png'">
                                    <span width="200px" style="font-size: 25px;">{{getOrgData.companyName}}</span>
                                </div>
                            </td>
                            <td style=" text-align: right; width: 50%;">
                                <p style="margin: 0px; font-weight: 600; font-size: 20px; margin-bottom: 5px;"
                                    *ngIf="userInfo">
                                    {{(getOrgData.companyName) ? getOrgData.companyName : '-'}}</p>
                                <!-- <p style="margin: 0px; font-size: 14px;" *ngIf="clientData">Himachal Pradesh</p> -->
                                <p style="margin: 0px; font-size: 14px; margin-bottom: 5px;" *ngIf="userInfo"> <strong>
                                        Mob
                                        number:</strong>
                                    {{(userInfo.mobileList?.length > 0) ? userInfo.mobileList[0].mobileNo :
                                    userInfo.mobile}}
                                </p>
                                <p style="margin: 0px; font-size: 14px; margin-bottom: 5px;" *ngIf="userInfo"> <strong>
                                        Email:</strong>
                                    {{getOrgData.email ? getOrgData.email : userInfo.email}}</p>

                                <p style="margin: 0px; font-size: 14px; margin-bottom: 5px;"> <strong>
                                        {{'Plan Summary'}}</strong>
                                </p>
                                <p style="margin: 0px; font-size: 14px; margin-bottom: 5px;"> <strong> Report as on:
                                        {{reportDate | date:'dd-MMM-yyyy' }}</strong>
                                </p>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td style="width: 25%; vertical-align: top;">
                    <table cellpadding="0" cellspaceing="0" border="0" style="width: 100%;">
                        <tr>
                            <td style="padding: 10px;">
                                <p
                                    style="font-size: 14px; color: #000000; margin-top: 0px; margin-bottom: 10px; font-weight: 300;">
                                    ANNUAL SURPLUS
                                    <span style="color: #83959D;">{{yearToShow}}</span>
                                </p>

                                <h1 style="color: #000000; font-size: 30px; margin: 0px;">
                                    ₹<span appFormatNumber [value]="annualSurplus ? annualSurplus : 0"></span>
                                </h1>


                                <table cellpadding="0" cellspacing="0" border="0"
                                    style="width: 100%; border-bottom: 1px solid #ddd; padding-bottom: 20px;">
                                    <tr>
                                        <td style="font-size: 12px; text-align: left;">INCOME</td>
                                        <td style="font-size: 12px; text-align: right;">
                                            {{cashFlowData?.income ? "₹" : ""}}<span appFormatNumber
                                                [shouldRoundOff]="true"
                                                [value]="cashFlowData ? cashFlowData.income : '-'"></span></td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <div style="background: #84bdf3; height: 5px;"></div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td colspan="2" style="height: 20px;"></td>
                                    </tr>

                                    <tr>
                                        <td style="font-size: 12px; text-align: left;">EXPENSES</td>
                                        <td style="font-size: 12px; text-align: right;">
                                            {{cashFlowData?.expense ? "₹" : ""}}<span appFormatNumber
                                                [shouldRoundOff]="true"
                                                [value]="cashFlowData?.expense ? cashFlowData?.expense : '-'"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <div style="background: #626262; height: 5px;"></div>
                                        </td>
                                    </tr>
                                </table>


                                <table style="width: 100%; padding-top: 10px; " cellpadding="0" cellspacing="0"
                                    border="0">
                                    <tr>
                                        <td colspan="2">
                                            <p style="font-size: 16px; margin-top: 0px; margin-bottom: 8px;">
                                                Budget status <span
                                                    style="font-size: 12px; color: #83959D;">{{yearToShow}}
                                                </span>
                                            </p>
                                        </td>
                                    </tr>

                                    <tr *ngFor="let item of budgetData">
                                        <td
                                            style="vertical-align: bottom; padding-top: 10px; border-bottom: 1px solid #DADCE0; padding-bottom: 10px;">


                                            <p style="font-size: 14px; margin: 0px;">
                                                {{item.expenseType}}
                                            </p>
                                            <p style="font-size: 14px; color: #757575; margin: 0px;">
                                                ₹<span appFormatNumber>{{item.amount}}</span> /
                                                <span appFormatNumber>{{item.spent}}</span>
                                            </p>
                                        </td>
                                        <td
                                            style="color: #02B875; border-bottom: 1px solid #DADCE0; padding-bottom: 10px; font-size: 14px; text-align: right; vertical-align: bottom;">
                                            <p *ngIf="item.progressPercent <= 100">
                                                {{item.progressPercent ? item.progressPercent : 0}}%
                                            </p>
                                            <p *ngIf="item.progressPercent > 100">
                                                {{item.progressPercent ? item.progressPercent : 0}}%
                                            </p>
                                        </td>
                                    </tr>
                                </table>

                            </td>
                        </tr>

                        <tr>
                            <td></td>
                        </tr>

                    </table>
                </td>

                <td style="width: 75%; vertical-align: top;">
                    <table cellpadding="0" cellspacing="0" border="0" style="width: 100%; ">
                        <tr>
                            <td colspan="2" style="background: #ffffff;">
                                <table style="width: 100%; height: 50px;">
                                    <tr>
                                        <td style="padding-left: 10px;">
                                            <h1 style="margin: 0px; font-size: 20px; color: #000000;">
                                                Plan summary
                                            </h1>
                                        </td>
                                        <td>


                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>

                        <tr>
                            <table cellpadding="0" cellspacing="0" border="0"
                                style="width: 100%; background: #F5F7F7; padding: 10px;">
                                <tr>
                                    <td>
                                        <table cellpadding="0" cellspacing="0" border="0" style="width: 100%; ">
                                            <tr>
                                                <td style="background: #ffffff; padding: 10px; width: 50%;">
                                                    <h3 style="font-size: 16px; font-weight: 400;">Goal summary</h3>
                                                    <div style="float: left;">
                                                        <div
                                                            style="border: 1px solid #BCC6CA; text-align: center; margin-bottom: 10px; width: 140px;">
                                                            <p>
                                                                Total goals
                                                            </p>
                                                            <h4
                                                                style="margin-top: 0px; color: #008FFF; font-size: 30px; font-weight: 400; margin-bottom: 15px;">
                                                                {{ goalSummaryCountObj?.totalGoals ?
                                                                goalSummaryCountObj?.totalGoals
                                                                : 0 }}
                                                            </h4>
                                                        </div>
                                                        <div
                                                            style="border: 1px solid #BCC6CA; text-align: center; margin-bottom: 10px; width: 140px;">
                                                            <p>
                                                                Upcoming
                                                            </p>
                                                            <h4
                                                                style="margin-top: 0px; color: #008FFF; font-size: 30px; font-weight: 400; margin-bottom: 15px;">
                                                                {{ goalSummaryCountObj?.upcomingGoalsCount ?
                                                                goalSummaryCountObj?.upcomingGoalsCount : 0 }}
                                                            </h4>
                                                        </div>
                                                    </div>

                                                    <div style="float: left; margin-left: 10px;">
                                                        <div
                                                            style="border: 1px solid #BCC6CA; padding: 10px; text-align: center; margin-bottom: 10px; width: 140px;">
                                                            <p>
                                                                Investments mapped to goals
                                                            </p>
                                                            <hr>
                                                            <p style="margin-bottom: 0px;">
                                                                Monthly
                                                            </p>
                                                            <p style=" color: #008FFF; margin-top: 0px; ">
                                                                <span appFormatNumber [shouldRoundOff]="true"
                                                                    [value]="goalSummaryCountObj?.monthlyInvestmentMappedToGoals ? goalSummaryCountObj?.monthlyInvestmentMappedToGoals : 0"></span>
                                                            </p>
                                                            <p style="margin-bottom: 0px;">
                                                                Lumpsum
                                                            </p>
                                                            <p style=" color: #008FFF; margin-top: 0px;">
                                                                <span appFormatNumber [shouldRoundOff]="true"
                                                                    [value]="goalSummaryCountObj?.lumpsumInvestmentMappedToGoals ? goalSummaryCountObj?.lumpsumInvestmentMappedToGoals : 0"></span>
                                                            </p>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td style="background: #ffffff; padding: 10px; width: 50%;">
                                                    <table cellpadding="0" cellspacing="0" border="0"
                                                        style="width: 100%;">
                                                        <tr>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; font-weight: 600; padding: 12px 0px; font-size: 16px; color: #000000;">
                                                                Cash flows </td>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; text-align: right; padding: 12px 0px; font-size: 14px; color: #83959D;">
                                                                {{ yearToShow }} </td>
                                                        </tr>

                                                        <tr>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; padding: 12px 0px; font-size: 14px;">
                                                                Incomes </td>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; text-align: right; padding: 12px 0px; font-size: 14px;">
                                                                {{cashFlowData?.income ? "₹" : ""}}<span appFormatNumber
                                                                    [shouldRoundOff]="true"
                                                                    [value]="cashFlowData ? cashFlowData.income : '-'"></span>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; padding: 12px 0px; font-size: 14px;">
                                                                Expenses </td>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; text-align: right; padding: 12px 0px; font-size: 14px;">
                                                                {{cashFlowData?.expense ? "₹" : ""}}<span
                                                                    appFormatNumber [shouldRoundOff]="true"
                                                                    [value]="cashFlowData?.expense ? cashFlowData?.expense : '-'"></span>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; padding: 12px 0px; font-size: 14px;">
                                                                Assets </td>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; text-align: right; padding: 12px 0px; font-size: 14px;">
                                                                {{cashFlowData?.asset ? "₹" : ""}}<span appFormatNumber
                                                                    [shouldRoundOff]="true"
                                                                    [value]="cashFlowData?.asset ? cashFlowData?.asset : '-'"></span>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; padding: 12px 0px; font-size: 14px;">
                                                                Insurance </td>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; text-align: right; padding: 12px 0px; font-size: 14px;">
                                                                {{cashFlowData?.insurance ? "₹" : ""}}<span
                                                                    appFormatNumber [shouldRoundOff]="true"
                                                                    [value]="cashFlowData?.insurance ? cashFlowData?.insurance : '-'"></span>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; padding: 12px 0px; font-size: 14px;">
                                                                Liabilities </td>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; text-align: right; padding: 12px 0px; font-size: 14px;">
                                                                {{cashFlowData?.loan ? "₹" : ""}}<span appFormatNumber
                                                                    [shouldRoundOff]="true"
                                                                    [value]="cashFlowData?.loan ? cashFlowData?.loan : '-'"></span>
                                                            </td>
                                                        <tr>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; padding: 12px 0px; font-size: 14px; font-weight: 600;">
                                                                Surplus </td>
                                                            <td
                                                                style="border-bottom: 1px solid #dee5e7; text-align: right; padding: 12px 0px; font-size: 14px;">
                                                                {{cashFlowData?.surplus ? "₹" : ""}}<span
                                                                    appFormatNumber [shouldRoundOff]="true"
                                                                    [value]="cashFlowData?.surplus ? cashFlowData?.surplus : '-'"></span>
                                                            </td>
                                                        </tr>

                                                    </table>
                                                </td>
                                            </tr>

                                            <tr>
                                                <td colspan="2" style="background: #ffffff; padding: 20px 10px;">
                                                    <p style="font-size: 14px; font-weight: 400;"> Quick view </p>
                                                    <table style="width: 100%; border: 1px solid #DADCE0;"
                                                        cellpadding="0" cellspacing="0" border="0">
                                                        <tr style="background: #F5F7F7;">
                                                            <th
                                                                style="font-weight: normal; width: 33%; text-align: center; font-size: 14px;height: 46px;">
                                                                Goal
                                                                details</th>
                                                            <th
                                                                style="font-weight: normal; text-align: center; font-size: 14px;height: 46px;">
                                                                Goal
                                                                value</th>
                                                            <th
                                                                style="font-weight: normal; text-align: center; font-size: 14px;height: 46px;">
                                                                Monthly
                                                            </th>
                                                            <th
                                                                style="font-weight: normal; text-align: center; font-size: 14px;height: 46px;">
                                                                Lumpsum
                                                            </th>
                                                        </tr>
                                                        <tr *ngFor="let element of dataSource.data">
                                                            <td
                                                                style="font-size: 14px; color: #484848; text-align: center;">
                                                                <div style="width: 80%; margin: 10px auto;">
                                                                    <div style="float: left;">
                                                                        <img style="height: 50px;"
                                                                            [src]="element.imageUrl">
                                                                    </div>
                                                                    <div
                                                                        style="width: 65%; float: left; margin-top: 20px; margin-left: 10px;">
                                                                        <!-- <mat-progress-bar mode="determinate"
                                                                            [value]="element.percentCompleted">
                                                                        </mat-progress-bar> -->
                                                                        <!-- <progress id="file"
                                                                            [value]="element.percentCompleted"
                                                                            max="100">{{element.percentCompleted}}%</progress> -->
                                                                        <div>
                                                                            <div
                                                                                style="background:rgb(192, 192, 192);width: 100%">
                                                                                <div style="background:#007bff ;height:5px;"
                                                                                    [ngStyle]="{'width':element.percentCompleted+'%' }">
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        {{ element.details }}
                                                                    </div>
                                                                </div>



                                                            </td>
                                                            <td
                                                                style="font-size: 14px; color: #484848; text-align: center;">
                                                                {{element.value}}
                                                            </td>
                                                            <td
                                                                style="font-size: 14px; color: #484848; text-align: center;">
                                                                {{element.month}}
                                                            </td>
                                                            <td
                                                                style="font-size: 14px; color: #484848; text-align: center;">
                                                                {{element.lumpsum}}
                                                            </td>
                                                        </tr>

                                                    </table>
                                                </td>

                                            </tr>

                                        </table>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="vertical-align: top; padding-left: 10px;">
                                        <div style="padding: 10px; background: #ffffff;">
                                            <h4 style="margin: 0px; font-size: 16px;">Insurance summary </h4>

                                            <table cellpadding="0" cellspacing="0" border="0" style="width: 100%;">
                                                <tr>
                                                    <td style="padding: 12px 0px; border-bottom: 1px solid #dee5e7;">
                                                        <div *ngFor="let item of insurancePlanList"
                                                            style="width: 25%; margin-right: 10px; margin-bottom: 10px; float: left; border: 1px solid #dee5e7; padding: 8px;">
                                                            <div style=" float: left; margin-right: 10px;">
                                                                <img style="width: 35px;" [src]="item.img" alt="">
                                                            </div>
                                                            <div style="width: 70%; float: left;">
                                                                <p style="margin: 0px; font-size: 14px;">
                                                                    {{ item.insuranceName }}
                                                                </p>
                                                                <p
                                                                    style="margin: 0px; font-weight: 600; font-size: 14px;">
                                                                    ₹<span appFormatNumber [shouldRoundOff]="true"
                                                                        [value]="item.amount?item.amount:0"></span></p>
                                                            </div>
                                                        </div>



                                                    </td>

                                                </tr>
                                            </table>

                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </body>

    </html>
</div>