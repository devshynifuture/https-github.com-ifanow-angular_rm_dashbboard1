<div class="popup-header-fix-35">
    <div class="row bb-1">
        <div class="col-md-10 p-0">
            <h4 class="mb-0 wrapper-20">Liabilities - Detailed view</h4>
        </div>
        <div class="col-md-2 text-left">
            <div class="wrapper-12">
                <i class="material-icons c-p pt-8 v-middle" (click)="close()"> clear</i>
            </div>
        </div>
    </div>
</div>


<div class="pl-20 pr-20 mt-44 pb-48">
    <div class="row pt-40">
        <div class="col-md-12 p-0">
            <div class="insurance-ui bt">
                <!-- <div class="row bb p-8 b-l br">
                    <div class="col-md-8 text-left f-14 roboto p-0">
                        Owner Name
                    </div>
                    <div class="col-md-4 text-right f-14 roboto p-0">
                        {{(libility.ownerName) ? libility.ownerName : '-'}}
                    </div>
                </div> -->
                <div class="row bb p-8 b-l br" *ngFor="let owner of libility.borrowers; let i = index">
                    <div class="col-md-8 text-left f-14 roboto p-0">
                        {{i != 0?'Co-B' : 'B'}}orrower {{i != 0?i:''}}
                    </div>
                    <div class="col-md-4 text-right f-14 roboto p-0">
                        {{owner.name}} <span *ngIf="libility.borrowers.length > 1">sharing {{owner.share}}% ownership</span>
                    </div>
                </div>
                <div class="row bb p-8 b-l br">
                    <div class="col-md-8 text-left f-14 roboto p-0">
                        Loan type
                    </div>
                    <div class="col-md-4 text-right f-14 roboto p-0">
                        {{(libility.loanTypeId == 1)?'Home Loan':(libility.loanTypeId == 2)?'Vehicle':(libility.loanTypeId == 3)?'Education':(libility.loanTypeId == 4)?'Credit Card':(libility.loanTypeId == 5)?'Personal':'Mortgage'}}
                    </div>
                </div>
                <div class="row bb p-8 b-l br" *ngIf="libility.loanTypeId == 1">
                    <div class="col-md-8 text-left f-14 roboto p-0">
                       Property name
                    </div>
                    <div class="col-md-4 text-right f-14 roboto p-0">
                        {{libility.propertyName ? libility.propertyName : '-'}}
                    </div>
                </div>
                <div class="row bb p-8 b-l br">
                    <div class="col-md-8 text-left f-14 roboto p-0">
                        Loan amount
                    </div>
                    <div class="col-md-4 text-right f-14 roboto p-0" >
                        {{(libility.loanAmount) ? '₹ ' : ''}}<span appFormatNumber [value]="libility.loanAmount"></span>
                    </div>
                </div>
                <div class="row bb p-8 b-l br">
                    <div class="col-md-8 text-left f-14 roboto p-0">
                        Loan outstanding
                    </div>
                    <div class="col-md-4 text-right f-14 roboto p-0 wb" >
                        {{(libility.outstandingAmount) ? '₹ ' : ''}}<span appFormatNumber [value]="libility.outstandingAmount"></span>
                    </div>
                </div>
                <div class="row bb p-8 b-l br">
                    <div class="col-md-8 text-left f-14 roboto p-0">
                        Tenure remaining
                    </div>
                    <div class="col-md-4 text-right f-14 roboto p-0">
                        <!-- {{(libility.years + 'yr '+libility.months+' months')}} -->
                        {{(libility.years || libility.years != 0 || libility.years > 0) ? libility.years : ''}}{{(libility.years || libility.years != 0 || libility.years > 0) ? ' y ' : ''}}{{libility.months+' m'}}
                    </div>
                </div>
                <div class="row bb p-8 b-l br">
                    <div class="col-md-8 text-left f-14 roboto p-0">
                        Annual interest rate
                    </div>
                    <div class="col-md-4 text-right f-14 roboto p-0">
                        {{libility.annualInterestRate}}{{(libility.annualInterestRate) ? '%' : ''}}
                    </div>
                </div>
                <div class="row bb p-8 b-l br">
                    <div class="col-md-8 text-left f-14 roboto p-0">
                        EMI
                    </div>
                    <div class="col-md-4 text-right f-14 roboto p-0" >
                        {{(libility.emi) ? '₹ ' : '-'}} <span appFormatNumber [value]="libility.emi"></span>
                    </div>
                </div>
                <div class="row bb p-8 b-l br">
                    <div class="col-md-8 text-left f-14 roboto p-0">
                        Financial institution
                    </div>
                    <div class="col-md-4 text-right f-14 roboto p-0">
                        {{(libility.financialInstitution) ? libility.financialInstitution : '-'}}
                    </div>
                </div>
                <div class="row bb p-8 b-l br">
                    <div class="col-md-8 text-left f-14 roboto p-0">
                        EMI end date
                    </div>
                    <div class="col-md-4 text-right f-14 roboto p-0">
                        {{(libility.maturityDate) ? (libility.maturityDate | date:'dd/MM/yyyy') : '-'}}
                    </div>
                </div>

                <!-- <div class="row bb p-8 b-l br">
                    <div class="col-md-8 text-left f-14 roboto p-0">
                        Total in
                    </div>
                    <div class="col-md-4 text-right f-14 roboto p-0">
                        {{(libility.principalOutstandingAsOn)?(libility.principalOutstandingAsOn | date:'dd/MM/yyyy'):'-'}}
                    </div>
                </div> -->

                <div class="row bb p-8 b-l br">
                    <div class="col-md-8 text-left f-14 roboto p-0">
                        Total principal paid till date
                    </div>
                    <div class="col-md-4 text-right f-14 roboto p-0" > 
                        {{(libility.totalPrinciplePaidTillDate) ? '₹ ' : ''}}<span appFormatNumber [value]="(libility.totalPrinciplePaidTillDate) ? libility.totalPrinciplePaidTillDate : '-'"></span>
                    </div>
                </div>
                <div class="row bb p-8 b-l br cp">
                    <div class="col-md-8 text-right f-14 roboto p-0 c-p " (click)="openLoanAmorts()">
                        <span style="color: royalblue; text-decoration: underline;"> View loan amortization table</span>
                    </div>
                    <div class="col-md-4 text-left  p-0 " > 
                        <mat-spinner class="ml-8" [hidden]="!tableLoader" [diameter]="30"></mat-spinner>
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>

<!-- <div>
    <table *ngIf="dataSource.filteredData.length > 0" matSort #holdingsTableSort="matSort" mat-table
        [dataSource]="dataSource" id="table-low" class="skeletonAnimation" appSkeletonLoading
        >
        
    <ng-container matColumnDef="no">
        <th mat-sort-header="no" mat-header-cell *matHeaderCellDef
            class="br w-15 rightText text-right">
            PmtNo.
        </th>
        <td mat-cell *matCellDef="let element; let i = index;" class="br w-15 ">
            <div class="bar">{{isLoading ? '' : i + 1 }}</div>
        </td>
    </ng-container>
    <ng-container matColumnDef="date">
        <th mat-sort-header="date" mat-header-cell *matHeaderCellDef
            class="br w-15 rightText text-right">
            Date
        </th>
        <td mat-cell *matCellDef="let element" class="br w-15 ">
            <div class="bar" >{{element.date | date:'dd/MM/yyyy'}}</div>
        </td>
        
    </ng-container>
    <ng-container matColumnDef="bal">
        <th mat-sort-header="bal" mat-header-cell *matHeaderCellDef
            class="br w-15 rightText text-right">
            Beginning Balance 
        </th>
        <td mat-cell *matCellDef="let element" class="br w-15 amt text-right">
            <div class="bar" *ngIf="element.currentValue != 0">₹<span appFormatNumber>{{element.beginningBalance}}</span> </div>
        </td>
    </ng-container>
    <ng-container matColumnDef="pay-time">
        <th mat-sort-header="pay-time" mat-header-cell *matHeaderCellDef
            class="br w-15 rightText text-right">
            Scheduled Payment 
        </th>
        <td mat-cell *matCellDef="let element" class="br w-15 amt text-right">
            <div class="bar" *ngIf="element.currentValue != 0">₹<span appFormatNumber>{{element.scheduledPayment}}</span> </div>
        </td>
    </ng-container>
    <ng-container matColumnDef="pre-pay">
        <th mat-sort-header="pre-pay" mat-header-cell *matHeaderCellDef
            class="br w-15 rightText text-right">
            Pre Payment 
        </th>
        <td mat-cell *matCellDef="let element" class="br w-15 amt text-right">
            <div class="bar" *ngIf="element.currentValue != 0">₹<span appFormatNumber>{{element.extraPayment}}</span> </div>
        </td>
    </ng-container>
    <ng-container matColumnDef="total-pay">
        <th mat-sort-header="total-pay" mat-header-cell *matHeaderCellDef
            class="br w-15 rightText text-right">
            Total Payment 
        </th>
        <td mat-cell *matCellDef="let element" class="br w-15 amt text-right">
            <div class="bar" *ngIf="element.currentValue != 0">₹<span appFormatNumber>{{element.totalPayment}}</span> </div>
        </td>
    </ng-container>
    <ng-container matColumnDef="interest">
        <th mat-sort-header="interest" mat-header-cell *matHeaderCellDef
            class="br w-15 rightText text-right">
            Interest 
        </th>
        <td mat-cell *matCellDef="let element" class="br w-15 amt text-right">
            <div class="bar" *ngIf="element.currentValue != 0">₹<span appFormatNumber>{{element.interest}}</span> </div>
        </td>
    </ng-container>
    <ng-container matColumnDef="principal">
        <th mat-sort-header="principal" mat-header-cell *matHeaderCellDef
            class="br w-15 rightText text-right">
            Principal 
        </th>
        <td mat-cell *matCellDef="let element" class="br w-15 amt text-right">
            <div class="bar" *ngIf="element.currentValue != 0">₹<span appFormatNumber>{{element.principal}}</span> </div>
        </td>
    </ng-container>
    <ng-container matColumnDef="end-bal">
        <th mat-sort-header="end-bal" mat-header-cell *matHeaderCellDef
            class="br w-15 rightText text-right">
            Ending Balance
        </th>
        <td mat-cell *matCellDef="let element" class="br w-15 amt text-right">
            <div class="bar" *ngIf="element.currentValue != 0">₹<span appFormatNumber>{{element.endingBalance}}</span> </div>
        </td>
    </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div> -->